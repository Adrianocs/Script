Script iniciado em Qua 19 Dez 2018 18:41:28 -02
]0;noturno@ada15: ~/infra_noturnonoturno@ada15:~/infra_noturno$ vagrant sshd [K[K devops
Welcome to Ubuntu 16.04.5 LTS (GNU/Linux 4.4.0-140-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

24 packages can be updated.
0 updates are security updates.

New release '18.04.1 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Tue Dec 18 20:50:31 2018 from 10.0.2.2
]0;vagrant@devops: ~vagrant@devops:~$ sudo su -
     _                           
  __| | _____   _____  _ __  ___ 
 / _` |/ _ \ \ / / _ \| '_ \/ __|
| (_| |  __/\ V / (_) | |_) \__ \
 \__,_|\___| \_/ \___/| .__/|___/
                      |_|        
]0;root@devops: ~root@devops:~# cd /etc/a
acpi/         alternatives/ ansible/      apache2/      apm/          apparmor/     apparmor.d/   apport/       apt/          
]0;root@devops: ~root@devops:~# cd /etc/ansible/roles/
]0;root@devops: /etc/ansible/rolesroot@devops:/etc/ansible/roles# ls
[0m[01;34masa_noturna[0m  [01;34mpuppet[0m
]0;root@devops: /etc/ansible/rolesroot@devops:/etc/ansible/roles# mkdir[K[K[K[K[Kecho "INSTALANDO GILT[K[KTLDA[K[KAB"
INSTALANDO GITLAB
]0;root@devops: /etc/ansible/rolesroot@devops:/etc/ansible/roles# cd ..
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim gitlab.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"gitlab.yml" [New File][>c[2;1H[1m[34m~                                                                                                                                                                         [3;1H~                                                                                                                                                                         [4;1H~                                                                                                                                                                         [5;1H~                                                                                                                                                                         [6;1H~                                                                                                                                                                         [7;1H~                                                                                                                                                                         [8;1H~                                                                                                                                                                         [9;1H~                                                                                                                                                                         [10;1H~                                                                                                                                                                         [11;1H~                                                                                                                                                                         [12;1H~                                                                                                                                                                         [13;1H~                                                                                                                                                                         [14;1H~                                                                                                                                                                         [15;1H~                                                                                                                                                                         [16;1H~                                                                                                                                                                         [17;1H~                                                                                                                                                                         [18;1H~                                                                                                                                                                         [19;1H~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H0,0-1[9CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;1H[1m-- INSERT --[m[44;14H[K[44;153H0,1[11CAll[1;1H[?12l[?25h[?25l-[44;153H1,2[1;2H[?12l[?25h[?25l-[44;155H3[1;3H[?12l[?25h[?25l[35m---[m[44;155H4[1;4H[?12l[?25h[?25l[2;1H[K[44;153H2,1[2;1H[?12l[?25h[?25l[44;155H2[2;2H[?12l[?25h[?25l[44;155H3[2;3H[?12l[?25h[?25l-[44;155H4[2;4H[?12l[?25h[?25l[2;3H[K[44;155H3[2;3H[?12l[?25h[?25l[44;155H2[2;2H[?12l[?25h[?25l[44;155H1[2;1H[?12l[?25h[?25l-[44;155H2[2;2H[?12l[?25h[?25l[33m- [m[44;155H3[2;3H[?12l[?25h[?25ln[44;155H4[2;4H[?12l[?25h[?25la[44;155H5[2;5H[?12l[?25h[?25lm[44;155H6[2;6H[?12l[?25h[?25le[44;155H7[2;7H[?12l[?25h[?25l[44;155H8[2;8H[?12l[?25h[?25l[44;155H7[2;7H[?12l[?25h[?25l[2;3H[36mname[m[35m:[m[44;155H8[2;8H[?12l[?25h[?25l[44;155H9[2;9H[?12l[?25h[?25lI[44;155H10[2;10H[?12l[?25h[?25ln[44;156H1[2;11H[?12l[?25h[?25ls[44;156H2[2;12H[?12l[?25h[?25lt[44;156H3[2;13H[?12l[?25h[?25ll[44;156H4[2;14H[?12l[?25h[?25la[44;156H5[2;15H[?12l[?25h[?25l[2;14H[K[44;156H4[2;14H[?12l[?25h[?25l[2;13H[K[44;156H3[2;13H[?12l[?25h[?25la[44;156H4[2;14H[?12l[?25h[?25ln[44;156H5[2;15H[?12l[?25h[?25l[2;14H[K[44;156H4[2;14H[?12l[?25h[?25ll[44;156H5[2;15H[?12l[?25h[?25la[44;156H6[2;16H[?12l[?25h[?25ln[44;156H7[2;17H[?12l[?25h[?25ld[44;156H8[2;18H[?12l[?25h[?25lo[44;156H9[2;19H[?12l[?25h[?25l[44;155H20[2;20H[?12l[?25h[?25lG[44;156H1[2;21H[?12l[?25h[?25li[44;156H2[2;22H[?12l[?25h[?25lt[44;156H3[2;23H[?12l[?25h[?25lL[44;156H4[2;24H[?12l[?25h[?25lA[44;156H5[2;25H[?12l[?25h[?25l[2;24H[K[44;156H4[2;24H[?12l[?25h[?25l[2;23H[K[44;156H3[2;23H[?12l[?25h[?25lL[44;156H4[2;24H[?12l[?25h[?25la[44;156H5[2;25H[?12l[?25h[?25lb[44;156H6[2;26H[?12l[?25h[?25l[3;1H[K[44;153H3,1 [3;1H[?12l[?25h[?25lh[44;155H2[3;2H[?12l[?25h[?25lo[44;155H3[3;3H[?12l[?25h[?25ls[44;155H4[3;4H[?12l[?25h[?25lt[44;155H5[3;5H[?12l[?25h[?25ls[44;155H6[3;6H[?12l[?25h[?25l[44;155H1[3;1H[?12l[?25h[?25l hosts[44;155H2[3;2H[?12l[?25h[?25l hosts[44;155H3[3;3H[?12l[?25h[?25l[44;155H8[3;8H[?12l[?25h[?25l  [36mhosts[m[35m:[m[44;155H9[3;9H[?12l[?25h[?25l[44;155H10[3;10H[?12l[?25h[?25ld[44;156H1[3;11H[?12l[?25h[?25le[44;156H2[3;12H[?12l[?25h[?25lv[44;156H3[3;13H[?12l[?25h[?25lo[44;156H4[3;14H[?12l[?25h[?25lp[44;156H5[3;15H[?12l[?25h[?25ls[44;156H6[3;16H[?12l[?25h[?25l[4;1H[K[44;153H4,1 [4;1H[?12l[?25h[?25l[44;155H2[4;2H[?12l[?25h[?25l[44;155H3[4;3H[?12l[?25h[?25lt[44;155H4[4;4H[?12l[?25h[?25la[44;155H5[4;5H[?12l[?25h[?25ls[44;155H6[4;6H[?12l[?25h[?25lk[44;155H7[4;7H[?12l[?25h[?25ls[44;155H8[4;8H[?12l[?25h[?25l  [36mtasks[m[35m:[m[44;155H9[4;9H[?12l[?25h[?25l[5;1H[K[44;153H5,1[5;1H[?12l[?25h[?25l[44;155H2[5;2H[?12l[?25h[?25l[44;155H3[5;3H[?12l[?25h[?25l[44;155H4[5;4H[?12l[?25h[?25l[44;155H5[5;5H[?12l[?25h[?25l-[44;155H6[5;6H[?12l[?25h[?25l[33m- [m[44;155H7[5;7H[?12l[?25h[?25ln[44;155H8[5;8H[?12l[?25h[?25la[44;155H9[5;9H[?12l[?25h[?25lm[44;155H10[5;10H[?12l[?25h[?25le[44;156H1[5;11H[?12l[?25h[?25l[36mname[m[35m:[m[44;156H2[5;12H[?12l[?25h[?25l[44;156H3[5;13H[?12l[?25h[?25lI[44;156H4[5;14H[?12l[?25h[?25ln[44;156H5[5;15H[?12l[?25h[?25ls[44;156H6[5;16H[?12l[?25h[?25lt[44;156H7[5;17H[?12l[?25h[?25la[44;156H8[5;18H[?12l[?25h[?25ll[44;156H9[5;19H[?12l[?25h[?25la[44;155H20[5;20H[?12l[?25h[?25ln[44;156H1[5;21H[?12l[?25h[?25ld[44;156H2[5;22H[?12l[?25h[?25lo[44;156H3[5;23H[?12l[?25h[?25l[44;156H4[5;24H[?12l[?25h[?25lP[44;156H5[5;25H[?12l[?25h[?25la[44;156H6[5;26H[?12l[?25h[?25lc[44;156H7[5;27H[?12l[?25h[?25lo[44;156H8[5;28H[?12l[?25h[?25lt[44;156H9[5;29H[?12l[?25h[?25le[44;155H30[5;30H[?12l[?25h[?25ls[44;156H1[5;31H[?12l[?25h[?25l[44;156H2[5;32H[?12l[?25h[?25ln[44;156H3[5;33H[?12l[?25h[?25le[44;156H4[5;34H[?12l[?25h[?25lc[44;156H5[5;35H[?12l[?25h[?25le[44;156H6[5;36H[?12l[?25h[?25ls[44;156H7[5;37H[?12l[?25h[?25ls[44;156H8[5;38H[?12l[?25h[?25la[44;156H9[5;39H[?12l[?25h[?25lr[44;155H40[5;40H[?12l[?25h[?25li[44;156H1[5;41H[?12l[?25h[?25lo[44;156H2[5;42H[?12l[?25h[?25la[44;156H3[5;43H[?12l[?25h[?25l[6;1H[K[44;153H6,1 [6;1H[?12l[?25h[?25l[1m[34m~                                                                                                                                                                         [m[44;153H5,43[5;43H[?12l[?25h[?25l[5;42H[K[44;156H2[5;42H[?12l[?25h[?25la[44;156H3[5;43H[?12l[?25h[?25l[6;1H[K[44;153H6,1 [6;1H[?12l[?25h[?25l[1m[34m~                                                                                                                                                                         [m[44;153H5,43[5;43H[?12l[?25h[?25ls[44;156H4[5;44H[?12l[?25h[?25l[6;1H[K[44;153H6,1 [6;1H[?12l[?25h[?25l[1m[34m~                                                                                                                                                                         [m[44;153H5,44[5;44H[?12l[?25h[?25l[5;43H[K[44;156H3[5;43H[?12l[?25h[?25ls[44;156H4[5;44H[?12l[?25h[?25l[5;43H[K[44;156H3[5;43H[?12l[?25h[?25l[5;42H[K[44;156H2[5;42H[?12l[?25h[?25ls[44;156H3[5;43H[?12l[?25h[?25l[6;1H[K[44;153H6,1 [6;1H[?12l[?25h[?25l[44;155H2[6;2H[?12l[?25h[?25l[44;155H3[6;3H[?12l[?25h[?25l[44;155H4[6;4H[?12l[?25h[?25l[44;155H5[6;5H[?12l[?25h[?25l[44;155H6[6;6H[?12l[?25h[?25l[44;155H7[6;7H[?12l[?25h[?25la[44;155H8[6;8H[?12l[?25h[?25lp[44;155H9[6;9H[?12l[?25h[?25lt[44;155H10[6;10H[?12l[?25h[?25l[44;156H1[6;11H[?12l[?25h[?25l[44;156H0[6;10H[?12l[?25h[?25l[36mapt[m[35m:[m[44;156H1[6;11H[?12l[?25h[?25l[7;1H[K[44;153H7,1 [7;1H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H4[7;4H[?12l[?25h[?25l[44;155H5[7;5H[?12l[?25h[?25l[44;155H6[7;6H[?12l[?25h[?25l[44;155H7[7;7H[?12l[?25h[?25l[44;155H8[7;8H[?12l[?25h[?25l[44;155H9[7;9H[?12l[?25h[?25ln[44;155H10[7;10H[?12l[?25h[?25la[44;156H1[7;11H[?12l[?25h[?25lm[44;156H2[7;12H[?12l[?25h[?25le[44;156H3[7;13H[?12l[?25h[?25l[36mname[m[35m:[m[44;156H4[7;14H[?12l[?25h[?25l[44;156H5[7;15H[?12l[?25h[?25l[35m[[m[44;156H6[7;16H[?12l[?25h[?25l[35m][m[35m[46m[][m[44;156H7[7;17H[?12l[?25h[?25l[44;156H6[7;16H[?12l[?25h[?25l[31m[46m'[m[31m]'[m[31m[46m][m[44;156H7[7;17H[?12l[?25h[?25l[31m[46m'[m[35m][m[31m'[m[35m[46m][m[44;156H8[7;18H[?12l[?25h[?25l[46m,[m[35m][m,[35m[46m][m[44;156H9[7;19H[?12l[?25h[?25l[31m[46m'[m[31m]'[m[31m[46m][m[44;155H20[7;20H[?12l[?25h[?25l[31m[46m'[m[35m][m[31m'[m[35m[46m][m[44;156H1[7;21H[?12l[?25h[?25l[46m,[m[35m][m,[35m[46m][m[44;156H2[7;22H[?12l[?25h[?25l[31m[46m'[m[31m]'[m[31m[46m][m[44;156H3[7;23H[?12l[?25h[?25l[31m[46m'[m[35m][m[31m'[m[35m[46m][m[44;156H4[7;24H[?12l[?25h[?25l[7;15H[35m[[8C][m[44;156H3[7;23H[?12l[?25h[?25l[44;156H2[7;22H[?12l[?25h[?25l[44;156H1[7;21H[?12l[?25h[?25l[44;156H0[7;20H[?12l[?25h[?25l[44;155H19[7;19H[?12l[?25h[?25l[44;156H8[7;18H[?12l[?25h[?25l[44;156H7[7;17H[?12l[?25h[?25l[31mc'[m,[1C[31m'[m,[1C[31m'[m[35m][m[44;156H8[7;18H[?12l[?25h[?25l[31mu'[m,[1C[31m'[m,[1C[31m'[m[35m][m[44;156H9[7;19H[?12l[?25h[?25l[31mr'[m,[1C[31m'[m,[1C[31m'[m[35m][m[44;155H20[7;20H[?12l[?25h[?25l[31ml'[m,[1C[31m'[m,[1C[31m'[m[35m][m[44;156H1[7;21H[?12l[?25h[?25l[44;156H2[7;22H[?12l[?25h[?25l[44;156H3[7;23H[?12l[?25h[?25l[44;156H4[7;24H[?12l[?25h[?25l[31mo'[m,[1C[31m'[m[35m][m[44;156H5[7;25H[?12l[?25h[?25l[31mp'[m,[1C[31m'[m[35m][m[44;156H6[7;26H[?12l[?25h[?25l[31me'[m,[1C[31m'[m[35m][m[44;156H7[7;27H[?12l[?25h[?25l[31mn'[m,[1C[31m'[m[35m][m[44;156H8[7;28H[?12l[?25h[?25l[31ms'[m,[1C[31m'[m[35m][m[44;156H9[7;29H[?12l[?25h[?25l[31ms'[m,[1C[31m'[m[35m][m[44;155H30[7;30H[?12l[?25h[?25l[31mh'[m,[1C[31m'[m[35m][m[44;156H1[7;31H[?12l[?25h[?25l[31m-'[m,[1C[31m'[m[35m][m[44;156H2[7;32H[?12l[?25h[?25l[31ms'[m,[1C[31m'[m[35m][m[44;156H3[7;33H[?12l[?25h[?25l[31me'[m,[1C[31m'[m[35m][m[44;156H4[7;34H[?12l[?25h[?25l[31mr'[m,[1C[31m'[m[35m][m[44;156H5[7;35H[?12l[?25h[?25l[31mv'[m,[1C[31m'[m[35m][m[44;156H6[7;36H[?12l[?25h[?25l[31me'[m,[1C[31m'[m[35m][m[44;156H7[7;37H[?12l[?25h[?25l[31mr'[m,[1C[31m'[m[35m][m[44;156H8[7;38H[?12l[?25h[?25l[44;156H9[7;39H[?12l[?25h[?25l[44;155H40[7;40H[?12l[?25h[?25l[44;156H1[7;41H[?12l[?25h[?25l[31mc'[m[35m][m[44;156H2[7;42H[?12l[?25h[?25l[31ma'[m[35m][m[44;156H3[7;43H[?12l[?25h[?25l[31m-'[m[35m][m[44;156H4[7;44H[?12l[?25h[?25l[31mc'[m[35m][m[44;156H5[7;45H[?12l[?25h[?25l[31me'[m[35m][m[44;156H6[7;46H[?12l[?25h[?25l[31mr'[m[35m][m[44;156H7[7;47H[?12l[?25h[?25l[31mt'[m[35m][m[44;156H8[7;48H[?12l[?25h[?25l[31mi'[m[35m][m[44;156H9[7;49H[?12l[?25h[?25l[31mf'[m[35m][m[44;155H50[7;50H[?12l[?25h[?25l[31mi'[m[35m][m[44;156H1[7;51H[?12l[?25h[?25l[31mc'[m[35m][m[44;156H2[7;52H[?12l[?25h[?25l[31ma'[m[35m][m[44;156H3[7;53H[?12l[?25h[?25l[31mt'[m[35m][m[44;156H4[7;54H[?12l[?25h[?25l[31me'[m[35m][m[44;156H5[7;55H[?12l[?25h[?25l[31ms'[m[35m][m[44;156H6[7;56H[?12l[?25h[?25l[7;15H[35m[46m[[41C][m[44;156H7[7;57H[?12l[?25h[?25l[44;156H8[7;58H[?12l[?25h[?25l[8;1H[K[7;15H[35m[[41C][m[44;153H8,1 [8;1H[?12l[?25h[?25l[44;155H2[8;2H[?12l[?25h[?25l[44;155H3[8;3H[?12l[?25h[?25l[44;155H4[8;4H[?12l[?25h[?25l[44;155H5[8;5H[?12l[?25h[?25l[44;155H6[8;6H[?12l[?25h[?25l[44;155H7[8;7H[?12l[?25h[?25l[44;155H8[8;8H[?12l[?25h[?25l[44;155H9[8;9H[?12l[?25h[?25ls[44;155H10[8;10H[?12l[?25h[?25lt[44;156H1[8;11H[?12l[?25h[?25la[44;156H2[8;12H[?12l[?25h[?25lt[44;156H3[8;13H[?12l[?25h[?25le[44;156H4[8;14H[?12l[?25h[?25l[36mstate[m[35m:[m[44;156H5[8;15H[?12l[?25h[?25l[44;156H6[8;16H[?12l[?25h[?25lp[44;156H7[8;17H[?12l[?25h[?25lr[44;156H8[8;18H[?12l[?25h[?25le[44;156H9[8;19H[?12l[?25h[?25ls[44;155H20[8;20H[?12l[?25h[?25le[44;156H1[8;21H[?12l[?25h[?25ln[44;156H2[8;22H[?12l[?25h[?25lt[44;156H3[8;23H[?12l[?25h[?25l[9;1H[K[44;153H9,1 [9;1H[?12l[?25h[?25l[44;155H2[9;2H[?12l[?25h[?25l[44;155H3[9;3H[?12l[?25h[?25l[44;155H4[9;4H[?12l[?25h[?25l[44;155H5[9;5H[?12l[?25h[?25l[44;155H6[9;6H[?12l[?25h[?25l[44;155H7[9;7H[?12l[?25h[?25l[44;155H8[9;8H[?12l[?25h[?25l[44;155H9[9;9H[?12l[?25h[?25lu[44;155H10[9;10H[?12l[?25h[?25lp[44;156H1[9;11H[?12l[?25h[?25ld[44;156H2[9;12H[?12l[?25h[?25la[44;156H3[9;13H[?12l[?25h[?25lt[44;156H4[9;14H[?12l[?25h[?25le[44;156H5[9;15H[?12l[?25h[?25l-[44;156H6[9;16H[?12l[?25h[?25lc[44;156H7[9;17H[?12l[?25h[?25la[44;156H8[9;18H[?12l[?25h[?25lc[44;156H9[9;19H[?12l[?25h[?25lh[44;155H20[9;20H[?12l[?25h[?25le[44;156H1[9;21H[?12l[?25h[?25l[9;9H[36mupdate-cache[m[35m:[m[44;156H2[9;22H[?12l[?25h[?25l[44;156H3[9;23H[?12l[?25h[?25ly[44;156H4[9;24H[?12l[?25h[?25le[44;156H5[9;25H[?12l[?25h[?25ls[44;156H6[9;26H[?12l[?25h[?25l[10;1H[K[44;153H10,1[10;1H[?12l[?25h[?25l[44;156H2[10;2H[?12l[?25h[?25l[44;156H3[10;3H[?12l[?25h[?25l[44;156H4[10;4H[?12l[?25h[?25l[44;156H5[10;5H[?12l[?25h[?25l-[44;156H6[10;6H[?12l[?25h[?25l[33m- [m[44;156H7[10;7H[?12l[?25h[?25ln[44;156H8[10;8H[?12l[?25h[?25la[44;156H9[10;9H[?12l[?25h[?25lm[44;156H10[10;10H[?12l[?25h[?25le[44;157H1[10;11H[?12l[?25h[?25l[36mname[m[35m:[m[44;157H2[10;12H[?12l[?25h[?25l[44;157H [10;1H[?12l[?25h[?25l[10;5H[K[11;1H    [33m- [m[36mname[m[35m:[m[11;12H[K[44;154H1[11;1H[?12l[?25h[?25l[44;156H2[11;2H[?12l[?25h[?25l[44;156H3[11;3H[?12l[?25h[?25l[44;156H4[11;4H[?12l[?25h[?25l[44;156H5[11;5H[?12l[?25h[?25l[44;156H6[11;6H[?12l[?25h[?25l[44;156H7[11;7H[?12l[?25h[?25l[44;156H8[11;8H[?12l[?25h[?25l[44;156H9[11;9H[?12l[?25h[?25l[44;156H10[11;10H[?12l[?25h[?25l[44;157H1[11;11H[?12l[?25h[?25l[44;157H2[11;12H[?12l[?25h[?25l[44;157H3[11;13H[?12l[?25h[?25l[44;157H2[11;12H[?12l[?25h[?25l[44;157H3[11;13H[?12l[?25h[?25lE[44;157H4[11;14H[?12l[?25h[?25lx[44;157H5[11;15H[?12l[?25h[?25le[44;157H6[11;16H[?12l[?25h[?25lc[44;157H7[11;17H[?12l[?25h[?25lu[44;157H8[11;18H[?12l[?25h[?25lt[44;157H9[11;19H[?12l[?25h[?25la[44;156H20[11;20H[?12l[?25h[?25ln[44;157H1[11;21H[?12l[?25h[?25ld[44;157H2[11;22H[?12l[?25h[?25lo[44;157H3[11;23H[?12l[?25h[?25l[44;157H4[11;24H[?12l[?25h[?25lS[44;157H5[11;25H[?12l[?25h[?25lC[44;157H6[11;26H[?12l[?25h[?25lR[44;157H7[11;27H[?12l[?25h[?25lI[44;157H8[11;28H[?12l[?25h[?25lP[44;157H9[11;29H[?12l[?25h[?25lT[44;156H30[11;30H[?12l[?25h[?25l[44;157H1[11;31H[?12l[?25h[?25l-[44;157H2[11;32H[?12l[?25h[?25l[44;157H3[11;33H[?12l[?25h[?25lG[44;157H4[11;34H[?12l[?25h[?25lI[44;157H5[11;35H[?12l[?25h[?25lT[44;157H6[11;36H[?12l[?25h[?25lL[44;157H7[11;37H[?12l[?25h[?25lA[44;157H8[11;38H[?12l[?25h[?25lB[44;157H9[11;39H[?12l[?25h[?25l[12;1H[K[44;154H2,1 [12;1H[?12l[?25h[?25l[44;156H2[12;2H[?12l[?25h[?25l[44;156H3[12;3H[?12l[?25h[?25l[44;156H4[12;4H[?12l[?25h[?25l[44;156H5[12;5H[?12l[?25h[?25l[44;156H6[12;6H[?12l[?25h[?25l[44;156H7[12;7H[?12l[?25h[?25ls[44;156H8[12;8H[?12l[?25h[?25lh[44;156H9[12;9H[?12l[?25h[?25le[44;156H10[12;10H[?12l[?25h[?25ll[44;157H1[12;11H[?12l[?25h[?25ll[44;157H2[12;12H[?12l[?25h[?25l[36mshell[m[35m:[m[44;157H3[12;13H[?12l[?25h[?25l[44;157H4[12;14H[?12l[?25h[?25lc[44;157H5[12;15H[?12l[?25h[?25lu[44;157H6[12;16H[?12l[?25h[?25lr[44;157H7[12;17H[?12l[?25h[?25ll[44;157H8[12;18H[?12l[?25h[?25l[44;157H9[12;19H[?12l[?25h[?25lh[44;156H20[12;20H[?12l[?25h[?25lt[44;157H1[12;21H[?12l[?25h[?25lt[44;157H2[12;22H[?12l[?25h[?25lp[44;157H3[12;23H[?12l[?25h[?25ls[44;157H4[12;24H[?12l[?25h[?25l[13;1H[K[44;154H3,1 [13;1H[?12l[?25h[?25l[14;1H[K[44;154H4[14;1H[?12l[?25h[?25l[44;156H2[14;2H[?12l[?25h[?25l[44;156H3[14;3H[?12l[?25h[?25l[44;156H4[14;4H[?12l[?25h[?25l[44;156H5[14;5H[?12l[?25h[?25l-[44;156H6[14;6H[?12l[?25h[?25l[33m- [m[44;156H7[14;7H[?12l[?25h[?25ln[44;156H8[14;8H[?12l[?25h[?25la[44;156H9[14;9H[?12l[?25h[?25lm[44;156H10[14;10H[?12l[?25h[?25le[44;157H1[14;11H[?12l[?25h[?25l[36mname[m[35m:[m[44;157H2[14;12H[?12l[?25h[?25l[44;157H3[14;13H[?12l[?25h[?25lI[44;157H4[14;14H[?12l[?25h[?25ln[44;157H5[14;15H[?12l[?25h[?25ls[44;157H6[14;16H[?12l[?25h[?25lt[44;157H7[14;17H[?12l[?25h[?25la[44;157H8[14;18H[?12l[?25h[?25ll[44;157H9[14;19H[?12l[?25h[?25la[44;156H20[14;20H[?12l[?25h[?25lm[44;157H1[14;21H[?12l[?25h[?25ld[44;157H2[14;22H[?12l[?25h[?25lo[44;157H3[14;23H[?12l[?25h[?25l[44;157H4[14;24H[?12l[?25h[?25l[44;157H3[14;23H[?12l[?25h[?25l[14;22H[K[44;157H2[14;22H[?12l[?25h[?25l[14;21H[K[44;157H1[14;21H[?12l[?25h[?25l[14;20H[K[44;157H0[14;20H[?12l[?25h[?25ln[44;157H1[14;21H[?12l[?25h[?25ld[44;157H2[14;22H[?12l[?25h[?25lo[44;157H3[14;23H[?12l[?25h[?25l[44;157H4[14;24H[?12l[?25h[?25lP[44;157H5[14;25H[?12l[?25h[?25la[44;157H6[14;26H[?12l[?25h[?25lc[44;157H7[14;27H[?12l[?25h[?25lo[44;157H8[14;28H[?12l[?25h[?25lt[44;157H9[14;29H[?12l[?25h[?25le[44;156H30[14;30H[?12l[?25h[?25l[44;157H1[14;31H[?12l[?25h[?25l-[44;157H2[14;32H[?12l[?25h[?25l[44;157H3[14;33H[?12l[?25h[?25lG[44;157H4[14;34H[?12l[?25h[?25lI[44;157H5[14;35H[?12l[?25h[?25lT[44;157H6[14;36H[?12l[?25h[?25lL[44;157H7[14;37H[?12l[?25h[?25lA[44;157H8[14;38H[?12l[?25h[?25lB[44;157H9[14;39H[?12l[?25h[?25l[15;1H[K[44;154H5,1 [15;1H[?12l[?25h[?25l[44;156H2[15;2H[?12l[?25h[?25l[44;156H3[15;3H[?12l[?25h[?25l[44;156H4[15;4H[?12l[?25h[?25l[44;156H5[15;5H[?12l[?25h[?25l[44;156H6[15;6H[?12l[?25h[?25l[44;156H7[15;7H[?12l[?25h[?25la[44;156H8[15;8H[?12l[?25h[?25lp[44;156H9[15;9H[?12l[?25h[?25lt[44;156H10[15;10H[?12l[?25h[?25l[36mapt[m[35m:[m[44;157H1[15;11H[?12l[?25h[?25l[16;1H[K[44;154H6,1 [16;1H[?12l[?25h[?25l[44;156H2[16;2H[?12l[?25h[?25l[44;156H3[16;3H[?12l[?25h[?25l[44;156H4[16;4H[?12l[?25h[?25l[44;156H5[16;5H[?12l[?25h[?25l[44;156H6[16;6H[?12l[?25h[?25l[44;156H7[16;7H[?12l[?25h[?25l[44;156H8[16;8H[?12l[?25h[?25l[44;156H9[16;9H[?12l[?25h[?25ln[44;156H10[16;10H[?12l[?25h[?25la[44;157H1[16;11H[?12l[?25h[?25lm[44;157H2[16;12H[?12l[?25h[?25le[44;157H3[16;13H[?12l[?25h[?25l[36mname[m[35m:[m[44;157H4[16;14H[?12l[?25h[?25l[44;157H5[16;15H[?12l[?25h[?25lg[44;157H6[16;16H[?12l[?25h[?25li[44;157H7[16;17H[?12l[?25h[?25lt[44;157H8[16;18H[?12l[?25h[?25la[44;157H9[16;19H[?12l[?25h[?25lb[44;156H20[16;20H[?12l[?25h[?25l-[44;157H1[16;21H[?12l[?25h[?25lc[44;157H2[16;22H[?12l[?25h[?25le[44;157H3[16;23H[?12l[?25h[?25l[17;1H[K[44;154H7,1 [17;1H[?12l[?25h[?25l[44;156H2[17;2H[?12l[?25h[?25l[44;156H3[17;3H[?12l[?25h[?25l[44;156H4[17;4H[?12l[?25h[?25l[44;156H5[17;5H[?12l[?25h[?25l[44;156H6[17;6H[?12l[?25h[?25l[44;156H7[17;7H[?12l[?25h[?25l[44;156H8[17;8H[?12l[?25h[?25l[44;156H9[17;9H[?12l[?25h[?25ls[44;156H10[17;10H[?12l[?25h[?25lt[44;157H1[17;11H[?12l[?25h[?25la[44;157H2[17;12H[?12l[?25h[?25lt[44;157H3[17;13H[?12l[?25h[?25le[44;157H4[17;14H[?12l[?25h[?25l[36mstate[m[35m:[m[44;157H5[17;15H[?12l[?25h[?25l[44;157H6[17;16H[?12l[?25h[?25lp[44;157H7[17;17H[?12l[?25h[?25lr[44;157H8[17;18H[?12l[?25h[?25le[44;157H9[17;19H[?12l[?25h[?25ls[44;156H20[17;20H[?12l[?25h[?25le[44;157H1[17;21H[?12l[?25h[?25ln[44;157H2[17;22H[?12l[?25h[?25lt[44;157H3[17;23H[?12l[?25h[?25l[44;154H6[16;23H[?12l[?25h[?25l[44;154H5,11[15;11H[?12l[?25h[?25l[44;154H4,23[14;23H[?12l[?25h[?25l[44;154H3,1 [13;1H[?12l[?25h[?25l[44;154H2,23[12;23H[?12l[?25h[?25l[44;157H4[12;24H[?12l[?25h[?25l:[44;157H5[12;25H[?12l[?25h[?25l[12;24H[K[44;157H4[12;24H[?12l[?25h[?25l[12;23H[K[44;157H3[12;23H[?12l[?25h[?25l[12;22H[K[44;157H2[12;22H[?12l[?25h[?25l[12;21H[K[44;157H1[12;21H[?12l[?25h[?25l[12;20H[K[44;157H0[12;20H[?12l[?25h[?25l[12;19H[K[44;156H19[12;19H[?12l[?25h[?25l[44;157H8[12;18H[?12l[?25h[?25l[12;17H[K[44;157H7[12;17H[?12l[?25h[?25l[12;16H[K[44;157H6[12;16H[?12l[?25h[?25l[12;15H[K[44;157H5[12;15H[?12l[?25h[?25l[12;14H[K[44;157H4[12;14H[?12l[?25h[?25lcurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/.deb.sh | bash[44;156H99[12;99H[?12l[?25h[?25l[44;154H3,1 [13;1H[?12l[?25h[?25l[44;154H2,99[12;99H[?12l[?25h[?25l[13;43r[13;1H[L[1;44r[44;153H[K[44;153H13,1[10CAll[13;1H[?12l[?25h[?25l[44;156H2-9[13;9H[?12l[?25h[?25l[44;156H3-17[13;17H[?12l[?25h[?25l[14;43r[14;1H[L[1;44r[44;153H[K[44;153H14,1[10CAll[14;1H[?12l[?25h[?25l[44;156H2[14;2H[?12l[?25h[?25l[44;156H3[14;3H[?12l[?25h[?25l[44;156H4[14;4H[?12l[?25h[?25l[44;156H5[14;5H[?12l[?25h[?25l[44;156H6[14;6H[?12l[?25h[?25l[15;43r[15;1H[L[1;44r[44;153H[K[44;153H15,1[10CAll[15;1H[?12l[?25h[?25l[16;43r[16;1H[L[1;44r[44;153H[K[44;153H16,1[10CAll[16;1H[?12l[?25h[?25l[15;43r[43;1H
[1;44r[43;1H[1m[34m~                                                                                                                                                                         [m[44;153H[K[44;153H15,1[10CAll[15;1H[?12l[?25h[?25l[14;43r[43;1H
[1;44r[43;1H[1m[34m~                                                                                                                                                                         [m[44;153H[K[44;153H14,6[10CAll[14;6H[?12l[?25h[?25l[44;156H5[14;5H[?12l[?25h[?25l[44;156H4[14;4H[?12l[?25h[?25l[44;156H3[14;3H[?12l[?25h[?25l[44;156H2[14;2H[?12l[?25h[?25l[44;156H1[14;1H[?12l[?25h[?25l[13;43r[43;1H
[1;44r[43;1H[1m[34m~                                                                                                                                                                         [m[44;153H[K[44;153H13,3-17[7CAll[13;17H[?12l[?25h[?25l[44;156H2-9 [13;9H[?12l[?25h[?25l[44;156H1  [13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25lr[44;156H8[13;8H[?12l[?25h[?25le[44;156H9[13;9H[?12l[?25h[?25lg[44;156H10[13;10H[?12l[?25h[?25li[44;157H1[13;11H[?12l[?25h[?25ls[44;157H2[13;12H[?12l[?25h[?25lt[44;157H3[13;13H[?12l[?25h[?25le[44;157H4[13;14H[?12l[?25h[?25lr[44;157H5[13;15H[?12l[?25h[?25l[13;7H[36mregister[m[35m:[m[44;157H6[13;16H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25lc[44;157H8[13;18H[?12l[?25h[?25lo[44;157H9[13;19H[?12l[?25h[?25lm[44;156H20[13;20H[?12l[?25h[?25la[44;157H1[13;21H[?12l[?25h[?25ln[44;157H2[13;22H[?12l[?25h[?25ld[44;157H3[13;23H[?12l[?25h[?25lo[44;157H4[13;24H[?12l[?25h[?25l[44;154H4,1 [14;1H[?12l[?25h[?25l[44;154H5,24[15;24H[?12l[?25h[?25l[44;154H6,11[16;11H[?12l[?25h[?25l[44;154H7,23[17;23H[?12l[?25h[?25l[44;154H8[18;23H[?12l[?25h[?25l[19;1H[K[44;154H9,1 [19;1H[?12l[?25h[?25l[44;156H2[19;2H[?12l[?25h[?25l[44;156H3[19;3H[?12l[?25h[?25l[44;156H4[19;4H[?12l[?25h[?25l[44;156H5[19;5H[?12l[?25h[?25l[44;156H6[19;6H[?12l[?25h[?25l[44;156H7[19;7H[?12l[?25h[?25lw[44;156H8[19;8H[?12l[?25h[?25lh[44;156H9[19;9H[?12l[?25h[?25le[44;156H10[19;10H[?12l[?25h[?25ln[44;157H1[19;11H[?12l[?25h[?25l[36mwhen[m[35m:[m[44;157H2[19;12H[?12l[?25h[?25l[44;157H3[19;13H[?12l[?25h[?25lc[44;157H4[19;14H[?12l[?25h[?25lo[44;157H5[19;15H[?12l[?25h[?25lm[44;157H6[19;16H[?12l[?25h[?25la[44;157H7[19;17H[?12l[?25h[?25ln[44;157H8[19;18H[?12l[?25h[?25ld[44;157H9[19;19H[?12l[?25h[?25lo[44;156H20[19;20H[?12l[?25h[?25l.[44;157H1[19;21H[?12l[?25h[?25lr[44;157H2[19;22H[?12l[?25h[?25lc[44;157H3[19;23H[?12l[?25h[?25l[44;157H4[19;24H[?12l[?25h[?25l=[44;157H5[19;25H[?12l[?25h[?25l=[44;157H6[19;26H[?12l[?25h[?25l[44;157H7[19;27H[?12l[?25h[?25l[31m0[m[44;157H8[19;28H[?12l[?25h[?25l[44;154H8,23[18;23H[?12l[?25h[?25l[44;154H7[17;23H[?12l[?25h[?25l[44;154H6,11[16;11H[?12l[?25h[?25l[44;154H5,28[15;28H[?12l[?25h[?25l[44;154H4,1 [14;1H[?12l[?25h[?25l[44;154H3,24[13;24H[?12l[?25h[?25l[44;157H5[13;25H[?12l[?25h[?25l[34m #[m[44;157H6[13;26H[?12l[?25h[?25l[34mt[m[44;157H7[13;27H[?12l[?25h[?25l[34mo[m[44;157H8[13;28H[?12l[?25h[?25l[34md[m[44;157H9[13;29H[?12l[?25h[?25l[34mo[m[44;156H30[13;30H[?12l[?25h[?25l[34m [m[44;157H1[13;31H[?12l[?25h[?25l[34mo[m[44;157H2[13;32H[?12l[?25h[?25l[34m [m[44;157H3[13;33H[?12l[?25h[?25l[34mr[m[44;157H4[13;34H[?12l[?25h[?25l[34me[m[44;157H5[13;35H[?12l[?25h[?25l[34ms[m[44;157H6[13;36H[?12l[?25h[?25l[34mu[m[44;157H7[13;37H[?12l[?25h[?25l[34ml[m[44;157H8[13;38H[?12l[?25h[?25l[34mt[m[44;157H9[13;39H[?12l[?25h[?25l[34m [m[44;156H40[13;40H[?12l[?25h[?25l[34md[m[44;157H1[13;41H[?12l[?25h[?25l[34mo[m[44;157H2[13;42H[?12l[?25h[?25l[34m [m[44;157H3[13;43H[?12l[?25h[?25l[34ms[m[44;157H4[13;44H[?12l[?25h[?25l[34mh[m[44;157H5[13;45H[?12l[?25h[?25l[34me[m[44;157H6[13;46H[?12l[?25h[?25l[34ml[m[44;157H7[13;47H[?12l[?25h[?25l[34ml[m[44;157H8[13;48H[?12l[?25h[?25l[34m [m[44;157H9[13;49H[?12l[?25h[?25l[34ma[m[44;156H50[13;50H[?12l[?25h[?25l[34mb[m[44;157H1[13;51H[?12l[?25h[?25l[34ma[m[44;157H2[13;52H[?12l[?25h[?25l[34mi[m[44;157H3[13;53H[?12l[?25h[?25l[34mx[m[44;157H4[13;54H[?12l[?25h[?25l[34mo[m[44;157H5[13;55H[?12l[?25h[?25l[13;54H[K[44;157H4[13;54H[?12l[?25h[?25l[13;53H[K[44;157H3[13;53H[?12l[?25h[?25l[13;52H[K[44;157H2[13;52H[?12l[?25h[?25l[13;51H[K[44;157H1[13;51H[?12l[?25h[?25l[13;50H[K[44;157H0[13;50H[?12l[?25h[?25l[34mc[m[44;157H1[13;51H[?12l[?25h[?25l[34mi[m[44;157H2[13;52H[?12l[?25h[?25l[34mm[m[44;157H3[13;53H[?12l[?25h[?25l[34ma[m[44;157H4[13;54H[?12l[?25h[?25l[34m [m[44;157H5[13;55H[?12l[?25h[?25l[34ms[m[44;157H6[13;56H[?12l[?25h[?25l[34me[m[44;157H7[13;57H[?12l[?25h[?25l[34mr[m[44;157H8[13;58H[?12l[?25h[?25l[34mÃ¡[m[44;156H60-59[13;59H[?12l[?25h[?25l[34m [m[44;157H1-60[13;60H[?12l[?25h[?25l[34ma[m[44;157H2-61[13;61H[?12l[?25h[?25l[34mr[m[44;157H3-62[13;62H[?12l[?25h[?25l[34mm[m[44;157H4-63[13;63H[?12l[?25h[?25l[34ma[m[44;157H5-64[13;64H[?12l[?25h[?25l[34mz[m[44;157H6-65[13;65H[?12l[?25h[?25l[34me[m[44;157H7-66[13;66H[?12l[?25h[?25l[34mn[m[44;157H8-67[13;67H[?12l[?25h[?25l[34ma[m[44;157H9-68[13;68H[?12l[?25h[?25l[34md[m[44;156H70-69[13;69H[?12l[?25h[?25l[34mo[m[44;157H1-70[13;70H[?12l[?25h[?25l[34m [m[44;157H2-71[13;71H[?12l[?25h[?25l[34ma[m[44;157H3-72[13;72H[?12l[?25h[?25l[34mq[m[44;157H4-73[13;73H[?12l[?25h[?25l[34mu[m[44;157H5-74[13;74H[?12l[?25h[?25l[34mi[m[44;157H6-75[13;75H[?12l[?25h[44;1H[K[13;74H[?25l[44;153H13,75-74      All[13;74H[?12l[?25h[?25l[44;154H4,0-1  [14;1H[?12l[?25h[?25l[44;154H5,38 [15;38H[?12l[?25h[?25l[44;154H6,10[16;10H[?12l[?25h[?25l[44;154H7,22[17;22H[?12l[?25h[?25l[44;154H8[18;22H[?12l[?25h[?25l[44;154H9,27[19;27H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;153H[K[44;153H19,28[9CAll[19;28H[?12l[?25h[?25l[44;157H9[19;29H[?12l[?25h[?25l[34m #[m[44;156H30[19;30H[?12l[?25h[?25l[34ms[m[44;157H1[19;31H[?12l[?25h[?25l[34mÃ³[m[44;157H3-32[19;32H[?12l[?25h[?25l[34m [m[44;157H4-33[19;33H[?12l[?25h[?25l[34ms[m[44;157H5-34[19;34H[?12l[?25h[?25l[34me[m[44;157H6-35[19;35H[?12l[?25h[?25l[34mr[m[44;157H7-36[19;36H[?12l[?25h[?25l[34mÃ¡[m[44;157H9-37[19;37H[?12l[?25h[?25l[34m [m[44;156H40-38[19;38H[?12l[?25h[?25l[34me[m[44;157H1-39[19;39H[?12l[?25h[?25l[34mx[m[44;157H2-40[19;40H[?12l[?25h[?25l[34me[m[44;157H3-41[19;41H[?12l[?25h[?25l[34mc[m[44;157H4-42[19;42H[?12l[?25h[?25l[34mu[m[44;157H5-43[19;43H[?12l[?25h[?25l[34mt[m[44;157H6-44[19;44H[?12l[?25h[?25l[34ma[m[44;157H7-45[19;45H[?12l[?25h[?25l[34md[m[44;157H8-46[19;46H[?12l[?25h[?25l[34mo[m[44;157H9-47[19;47H[?12l[?25h[?25l[34m [m[44;156H50-48[19;48H[?12l[?25h[?25l[34ms[m[44;157H1-49[19;49H[?12l[?25h[?25l[34me[m[44;157H2-50[19;50H[?12l[?25h[?25l[34m [m[44;157H3-51[19;51H[?12l[?25h[?25l[34mo[m[44;157H4-52[19;52H[?12l[?25h[?25l[34m [m[44;157H5-53[19;53H[?12l[?25h[?25l[34mv[m[44;157H6-54[19;54H[?12l[?25h[?25l[34ma[m[44;157H7-55[19;55H[?12l[?25h[?25l[34ml[m[44;157H8-56[19;56H[?12l[?25h[?25l[34mo[m[44;157H9-57[19;57H[?12l[?25h[?25l[34mr[m[44;156H60-58[19;58H[?12l[?25h[?25l[34m [m[44;157H1-59[19;59H[?12l[?25h[?25l[34mf[m[44;157H2-60[19;60H[?12l[?25h[?25l[34mo[m[44;157H3-61[19;61H[?12l[?25h[?25l[34mr[m[44;157H4-62[19;62H[?12l[?25h[?25l[34m [m[44;157H5-63[19;63H[?12l[?25h[?25l[34mi[m[44;157H6-64[19;64H[?12l[?25h[?25l[34mg[m[44;157H7-65[19;65H[?12l[?25h[?25l[34mu[m[44;157H8-66[19;66H[?12l[?25h[?25l[34ma[m[44;157H9-67[19;67H[?12l[?25h[?25l[34ml[m[44;156H70-68[19;68H[?12l[?25h[?25l[34m [m[44;157H1-69[19;69H[?12l[?25h[?25l[34m [m[44;157H2-70[19;70H[?12l[?25h[?25l[34m=[m[44;157H3-71[19;71H[?12l[?25h[?25l[19;70H[K[44;157H2-70[19;70H[?12l[?25h[?25l[19;69H[K[44;157H1-69[19;69H[?12l[?25h[?25l[34ma[m[44;157H2-70[19;70H[?12l[?25h[?25l[34m [m[44;157H3-71[19;71H[?12l[?25h[?25l[34mz[m[44;157H4-72[19;72H[?12l[?25h[?25l[34me[m[44;157H5-73[19;73H[?12l[?25h[?25l[34mr[m[44;157H6-74[19;74H[?12l[?25h[?25l[34mo[m[44;157H7-75[19;75H[?12l[?25h[44;1H[K[19;74H[?25l[44;153H19,76-74      All[19;74H[?12l[?25h[?25l[44;154H8,22   [18;22H[?12l[?25h[?25l[44;154H9,76-74[19;74H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"gitlab.yml" [New] 19L, 605C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cat gitlab.yml 
---
- name: Instalando GitLab
  hosts: devops
  tasks:
    - name: Instalando Pacotes necessarios
      apt:
        name: ['curl','openssh-server','ca-certificates']
        state: present
        update-cache: yes

    - name: Executando SCRIPT - GITLAB
      shell: curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/.deb.sh | bash
      register: comando #todo o result do shell acima serÃ¡ armazenado aqui

    - name: Instalando Pacote - GITLAB
      apt:
        name: gitab-ce
        state: present
      when: comando.rc == 0 #sÃ³ serÃ¡ executado se o valor for igual a zero
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cat gitlab.yml ls[Kvim gitlab.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"gitlab.yml" 19L, 605C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m Instalando GitLab
  [36mhosts[m[35m:[m devops
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Instalando Pacotes necessarios[6;7H[36mapt[m[35m:[m[7;9H[36mname[m[35m:[m [35m[[m[31m'curl'[m,[31m'openssh-server'[m,[31m'ca-certificates'[m[35m][m[8;9H[36mstate[m[35m:[m present[9;9H[36mupdate-cache[m[35m:[m yes[11;5H[33m- [m[36mname[m[35m:[m Executando SCRIPT - GITLAB[12;7H[36mshell[m[35m:[m curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/.deb.sh | bash[13;7H[36mregister[m[35m:[m comando[34m #todo o result do shell acima serÃ¡ armazenado aqui[m[15;5H[33m- [m[36mname[m[35m:[m Instalando Pacote - GITLAB[16;7H[36mapt[m[35m:[m[17;9H[36mname[m[35m:[m gitab-ce[18;9H[36mstate[m[35m:[m present[19;7H[36mwhen[m[35m:[m comando.rc == [31m0[m[34m #sÃ³ serÃ¡ executado se o valor for igual a zero[m
[1m[34m~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9[9;1H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,1  [11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25l[44;156H8[13;8H[?12l[?25h[?25l[44;156H9[13;9H[?12l[?25h[?25l[44;156H10[13;10H[?12l[?25h[?25l[44;157H1[13;11H[?12l[?25h[?25l[44;157H2[13;12H[?12l[?25h[?25l[44;157H3[13;13H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H9[13;19H[?12l[?25h[?25l[44;156H20[13;20H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;157H2[13;22H[?12l[?25h[?25l[44;157H3[13;23H[?12l[?25h[?25l[44;157H4[13;24H[?12l[?25h[?25l[44;157H5[13;25H[?12l[?25h[?25l[44;157H6[13;26H[?12l[?25h[?25l[44;157H7[13;27H[?12l[?25h[?25l[44;157H8[13;28H[?12l[?25h[?25l[44;157H9[13;29H[?12l[?25h[?25l[44;156H30[13;30H[?12l[?25h[?25l[44;157H1[13;31H[?12l[?25h[?25l[44;154H2[12;31H[?12l[?25h[?25l[44;157H2[12;32H[?12l[?25h[?25l[44;157H3[12;33H[?12l[?25h[?25l[44;157H4[12;34H[?12l[?25h[?25l[44;157H5[12;35H[?12l[?25h[?25l[44;157H6[12;36H[?12l[?25h[?25l[44;157H7[12;37H[?12l[?25h[?25l[44;157H8[12;38H[?12l[?25h[?25l[44;157H9[12;39H[?12l[?25h[?25l[44;156H40[12;40H[?12l[?25h[?25l[44;157H1[12;41H[?12l[?25h[?25l[44;157H2[12;42H[?12l[?25h[?25l[44;157H3[12;43H[?12l[?25h[?25l[44;157H4[12;44H[?12l[?25h[?25l[44;157H5[12;45H[?12l[?25h[?25l[44;157H6[12;46H[?12l[?25h[?25l[44;157H7[12;47H[?12l[?25h[?25l[44;157H8[12;48H[?12l[?25h[?25l[44;157H9[12;49H[?12l[?25h[?25l[44;156H50[12;50H[?12l[?25h[?25l[44;157H1[12;51H[?12l[?25h[?25l[44;157H2[12;52H[?12l[?25h[?25l[44;157H3[12;53H[?12l[?25h[?25l[44;157H4[12;54H[?12l[?25h[?25l[44;157H5[12;55H[?12l[?25h[?25l[44;157H6[12;56H[?12l[?25h[?25l[44;157H7[12;57H[?12l[?25h[?25l[44;157H8[12;58H[?12l[?25h[?25l[44;157H9[12;59H[?12l[?25h[?25l[44;156H60[12;60H[?12l[?25h[?25l[44;157H1[12;61H[?12l[?25h[?25l[44;157H2[12;62H[?12l[?25h[?25l[44;157H3[12;63H[?12l[?25h[?25l[44;157H4[12;64H[?12l[?25h[?25l[44;157H5[12;65H[?12l[?25h[?25l[44;157H6[12;66H[?12l[?25h[?25l[44;157H7[12;67H[?12l[?25h[?25l[44;157H8[12;68H[?12l[?25h[?25l[44;157H9[12;69H[?12l[?25h[?25l[44;156H70[12;70H[?12l[?25h[?25l[44;157H1[12;71H[?12l[?25h[?25l[44;157H2[12;72H[?12l[?25h[?25l[44;157H3[12;73H[?12l[?25h[?25l[44;157H4[12;74H[?12l[?25h[?25l[44;157H5[12;75H[?12l[?25h[?25l[44;157H6[12;76H[?12l[?25h[?25l[44;157H7[12;77H[?12l[?25h[?25l[44;157H8[12;78H[?12l[?25h[?25l[44;157H9[12;79H[?12l[?25h[?25l[44;156H80[12;80H[?12l[?25h[?25l[44;157H1[12;81H[?12l[?25h[?25l[44;157H2[12;82H[?12l[?25h[?25l[44;157H3[12;83H[?12l[?25h[?25l[44;157H4[12;84H[?12l[?25h[?25l[44;157H5[12;85H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;14H[K[44;153H12,85[9CAll[12;85H[?12l[?25h[?25ls.deb.sh | bash[44;157H6[12;86H[?12l[?25h[?25lc.deb.sh | bash[44;157H7[12;87H[?12l[?25h[?25lr.deb.sh | bash[44;157H8[12;88H[?12l[?25h[?25li.deb.sh | bash[44;157H9[12;89H[?12l[?25h[?25lp.deb.sh | bash[44;156H90[12;90H[?12l[?25h[?25lt.deb.sh | bash[44;157H1[12;91H[?12l[?25h[44;1H[K[12;90H[?25l[44;153H12,90[9CAll[12;90H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"gitlab.yml" 19L, 611C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim gitlab.ymlcat gitlab.yml [1Pvim gitlab.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"gitlab.yml" 19L, 611C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m Instalando GitLab
  [36mhosts[m[35m:[m devops
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Instalando Pacotes necessarios[6;7H[36mapt[m[35m:[m[7;9H[36mname[m[35m:[m [35m[[m[31m'curl'[m,[31m'openssh-server'[m,[31m'ca-certificates'[m[35m][m[8;9H[36mstate[m[35m:[m present[9;9H[36mupdate-cache[m[35m:[m yes[11;5H[33m- [m[36mname[m[35m:[m Executando SCRIPT - GITLAB[12;7H[36mshell[m[35m:[m curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | bash[13;7H[36mregister[m[35m:[m comando[34m #todo o result do shell acima serÃ¡ armazenado aqui[m[15;5H[33m- [m[36mname[m[35m:[m Instalando Pacote - GITLAB[16;7H[36mapt[m[35m:[m[17;9H[36mname[m[35m:[m gitab-ce[18;9H[36mstate[m[35m:[m present[19;7H[36mwhen[m[35m:[m comando.rc == [31m0[m[34m #sÃ³ serÃ¡ executado se o valor for igual a zero[m
[1m[34m~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9[9;1H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,1  [11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H1[11;1H[?12l[?25h[?25l[44;156H2[11;2H[?12l[?25h[?25l[44;156H3[11;3H[?12l[?25h[?25l[44;156H4[11;4H[?12l[?25h[?25l[44;156H5[11;5H[?12l[?25h[?25l[44;156H6[11;6H[?12l[?25h[?25l[44;156H7[11;7H[?12l[?25h[?25l[44;156H8[11;8H[?12l[?25h[?25l[44;156H9[11;9H[?12l[?25h[?25l[44;156H10[11;10H[?12l[?25h[?25l[44;157H1[11;11H[?12l[?25h[?25l[44;157H2[11;12H[?12l[?25h[?25l[44;157H3[11;13H[?12l[?25h[?25l[44;157H4[11;14H[?12l[?25h[?25l[44;154H2[12;14H[?12l[?25h[?25l[44;157H5[12;15H[?12l[?25h[?25l[44;157H4[12;14H[?12l[?25h[?25l[12;14H[K[44;157H3[12;13H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;14H[K[44;153H12,14[9CAll[12;14H[?12l[?25h[?25lcurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | bash[44;157H05[12;105H[?12l[?25h[44;1H[K[12;104H[?25l[44;153H12,104[8CAll[12;104H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"gitlab.yml" 19L, 611C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# pa[Kla[K[K[Kcd[K[Kansible-l[Kplaybook gitlab.yml 
 __________________________
< PLAY [Instalando GitLab] >
 --------------------------
      \                    / \  //\
       \    |\___/|      /   \//  \\
            /0  0  \__  /    //  | \ \    
           /     /  \/_/    //   |  \  \  
           @_^_@'/   \/_   //    |   \   \ 
           //_^_/     \/_ //     |    \    \
        ( //) |        \///      |     \     \
      ( / /) _|_ /   )  //       |      \     _\
    ( // /) '/,_ _ _/  ( ; -.    |    _ _\.-~        .-~~~^-.
  (( / / )) ,-{        _      `-.|.-~-.           .~         `.
 (( // / ))  '/\      /                 ~-. _ .-~      .-~^-.  \
 (( /// ))      `.   {            }                   /      \  \
  (( / ))     .----~-.\        \-'                 .~         \  `. \^-.
             ///.----..>        \             _ -~             `.  ^-`  ^-_
               ///-._ _ _ _ _ _ _}^ - - - - ~                     ~-- ,.-~
                                                                  /.-~

 ________________________
< TASK [Gathering Facts] >
 ------------------------
      \                    / \  //\
       \    |\___/|      /   \//  \\
            /0  0  \__  /    //  | \ \    
           /     /  \/_/    //   |  \  \  
           @_^_@'/   \/_   //    |   \   \ 
           //_^_/     \/_ //     |    \    \
        ( //) |        \///      |     \     \
      ( / /) _|_ /   )  //       |      \     _\
    ( // /) '/,_ _ _/  ( ; -.    |    _ _\.-~        .-~~~^-.
  (( / / )) ,-{        _      `-.|.-~-.           .~         `.
 (( // / ))  '/\      /                 ~-. _ .-~      .-~^-.  \
 (( /// ))      `.   {            }                   /      \  \
  (( / ))     .----~-.\        \-'                 .~         \  `. \^-.
             ///.----..>        \             _ -~             `.  ^-`  ^-_
               ///-._ _ _ _ _ _ _}^ - - - - ~                     ~-- ,.-~
                                                                  /.-~

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.10][0m
 _______________________________________
< TASK [Instalando Pacotes necessarios] >
 ---------------------------------------
  \
   \ ,   _ ___.--'''`--''//-,-_--_.
      \`"' ` || \\ \ \\/ / // / ,-\\`,_
     /'`  \ \ || Y  | \|/ / // / - |__ `-,
    /@"\  ` \ `\ |  | ||/ // | \/  \  `-._`-,_.,
   /  _.-. `.-\,___/\ _/|_/_\_\/|_/ |     `-._._)
   `-'``/  /  |  // \__/\__  /  \__/ \
        `-'  /-\/  | -|   \__ \   |-' |
          __/\ / _/ \/ __,-'   ) ,' _|'
         (((__/(((_.' ((___..-'((__,'

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.10][0m
 ___________________________________
< TASK [Executando SCRIPT - GITLAB] >
 -----------------------------------
 \     ____________ 
  \    |__________|
      /           /\
     /           /  \
    /___________/___/|
    |          |     |
    |  ==\ /== |     |
    |   O   O  | \ \ |
    |     <    |  \ \|
   /|          |   \ \
  / |  \_____/ |   / /
 / /|          |  / /|
/||\|          | /||\/
    -------------|   
        | |    | | 
       <__/    \__>

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: Consider using the get_url or uri module rather than running curl.  If you need to use command because get_url or uri is insufficient you can add warn=False[0m
[1;35mto this command task or set command_warnings=False in ansible.cfg to get rid of this message.[0m
[1;35m[0m
[0;33mchanged: [192.168.99.10][0m
 ___________________________________
< TASK [Instalando Pacote - GITLAB] >
 -----------------------------------
    \                                  ___-------___
     \                             _-~~             ~~-_
      \                         _-~                    /~-_
             /^\__/^\         /~  \                   /    \
           /|  O|| O|        /      \_______________/        \
          | |___||__|      /       /                \          \
          |          \    /      /                    \          \
          |   (_______) /______/                        \_________ \
          |         / /         \                      /            \
           \         \^\\         \                  /               \     /
             \         ||           \______________/      _-_       //\__//
               \       ||------_-~~-_ ------------- \ --/~   ~\    || __/
                 ~-----||====/~     |==================|       |/~~~~~
                  (_(__/  ./     /                    \_\      \.
                         (_(___/                         \_____)_)

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;31mfatal: [192.168.99.10]: FAILED! => {"changed": false, "msg": "No package matching 'gitab-ce' is available"}[0m
	to retry, use: --limit @/etc/ansible/gitlab.retry
 ____________
< PLAY RECAP >
 ------------
  \
   \          .
       ___   //
     {~._.~}// 
      ( Y )K/  
     ()~*~()   
     (_)-(_)   
     Luke    
     Skywalker
     koala   

[0;31m192.168.99.10[0m              : [0;32mok=3   [0m [0;33mchanged=1   [0m unreachable=0    [0;31mfailed=1   [0m

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ansible-playbook gitlab.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[14Pvim gitlab.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"gitlab.yml" 19L, 611C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m Instalando GitLab
  [36mhosts[m[35m:[m devops
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Instalando Pacotes necessarios[6;7H[36mapt[m[35m:[m[7;9H[36mname[m[35m:[m [35m[[m[31m'curl'[m,[31m'openssh-server'[m,[31m'ca-certificates'[m[35m][m[8;9H[36mstate[m[35m:[m present[9;9H[36mupdate-cache[m[35m:[m yes[11;5H[33m- [m[36mname[m[35m:[m Executando SCRIPT - GITLAB[12;7H[36mshell[m[35m:[m curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | bash[13;7H[36mregister[m[35m:[m comando[34m #todo o result do shell acima serÃ¡ armazenado aqui[m[15;5H[33m- [m[36mname[m[35m:[m Instalando Pacote - GITLAB[16;7H[36mapt[m[35m:[m[17;9H[36mname[m[35m:[m gitab-ce[18;9H[36mstate[m[35m:[m present[19;7H[36mwhen[m[35m:[m comando.rc == [31m0[m[34m #sÃ³ serÃ¡ executado se o valor for igual a zero[m
[1m[34m~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9[9;1H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,1  [11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H5,1  [15;1H[?12l[?25h[?25l[44;154H6[16;1H[?12l[?25h[?25l[44;154H7[17;1H[?12l[?25h[?25l[44;154H8[18;1H[?12l[?25h[?25l[44;154H7[17;1H[?12l[?25h[?25l[44;154H6[16;1H[?12l[?25h[?25l[44;156H2[16;2H[?12l[?25h[?25l[44;156H3[16;3H[?12l[?25h[?25l[44;156H4[16;4H[?12l[?25h[?25l[44;156H5[16;5H[?12l[?25h[?25l[44;156H6[16;6H[?12l[?25h[?25l[44;156H7[16;7H[?12l[?25h[?25l[44;156H8[16;8H[?12l[?25h[?25l[44;156H9[16;9H[?12l[?25h[?25l[44;156H10[16;10H[?12l[?25h[?25l[44;154H7[17;10H[?12l[?25h[?25l[44;157H1[17;11H[?12l[?25h[?25l[44;157H2[17;12H[?12l[?25h[?25l[44;157H3[17;13H[?12l[?25h[?25l[44;157H4[17;14H[?12l[?25h[?25l[44;157H5[17;15H[?12l[?25h[?25l[44;157H6[17;16H[?12l[?25h[?25l[44;157H7[17;17H[?12l[?25h[?25l[44;157H8[17;18H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;14H[K[44;153H17,18[9CAll[17;18H[?12l[?25h[?25llab-ce[44;157H9[17;19H[?12l[?25h[44;1H[K[17;18H[?25l[44;153H17,18[9CAll[17;18H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"gitlab.yml" 19L, 612C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim gitlab.ymlansible-playbook gitlab.yml 
 __________________________
< PLAY [Instalando GitLab] >
 --------------------------
  \     .    _  .    
   \    |\_|/__/|    
       / / \/ \  \  
      /__|O||O|__ \ 
     |/_ \_/\_/ _\ |  
     | | (____) | ||  
     \/\___/\__/  // 
     (_/         ||
      |          ||
      |          ||\   
       \        //_/  
        \______//
       __ || __||
      (____(____)

 ________________________
< TASK [Gathering Facts] >
 ------------------------
  \
   \
      /\_)o<
     |      \
     | O . O|
      \_____/

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.10][0m
 _______________________________________
< TASK [Instalando Pacotes necessarios] >
 ---------------------------------------
  \
   \
      /\_)o<
     |      \
     | O . O|
      \_____/

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.10][0m
 ___________________________________
< TASK [Executando SCRIPT - GITLAB] >
 -----------------------------------
   \
    \
        .--.
       |o_o |
       |:_/ |
      //   \ \
     (|     | )
    /'\_   _/`\
    \___)=(___/


[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: Consider using the get_url or uri module rather than running curl.  If you need to use command because get_url or uri is insufficient you can add warn=False[0m
[1;35mto this command task or set command_warnings=False in ansible.cfg to get rid of this message.[0m
[1;35m[0m
[0;33mchanged: [192.168.99.10][0m
 ___________________________________
< TASK [Instalando Pacote - GITLAB] >
 -----------------------------------
\                             .       .
 \                           / `.   .' " 
  \                  .---.  <    > <    >  .---.
   \                 |    \  \ - ~ ~ - /  /    |
         _____          ..-~             ~-..-~
        |     |   \~~~\.'                    `./~~~/
       ---------   \__/                        \__/
      .'  O    \     /               /       \  " 
     (_____,    `._.'               |         }  \/~~~/
      `----.          /       }     |        /    \__/
            `-.      |       /      |       /      `. ,~~|
                ~-.__|      /_ - ~ ^|      /- _      `..-'   
                     |     /        |     /     ~-.     `-. _  _  _
                     |_____|        |_____|         ~ - . _ _ _ _ _>

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.10]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
echo "      [0;33mchanged: [192.168.99.10][0m
 ____________
< PLAY RECAP >
 ------------
  \
   \          .
       ___   //
     {~._.~}// 
      ( Y )K/  
     ()~*~()   
     (_)-(_)   
     Luke    
     Skywalker
     koala   

[0;33m192.168.99.10[0m              : [0;32mok=4   [0m [0;33mchanged=2   [0m unreachable=0    failed=0   

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd /etc/gitlab/
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# ls
gitlab.rb
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# vi [Km gitlab.rb 
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"gitlab.rb" 1934L, 82867C[>c[1;1H[34m## GitLab configuration settings
##! This file is generated during initial installation and **is not** modified
##! during upgrades.
##! Check out the latest version of this file to know about the different
##! settings that can be configured by this file, which may be found at:
##! https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template


## GitLab URL
##! URL on which GitLab will be reachable.
##! For more details on configuring external_url see:
##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab[m
external_url [35m'[m[31mhttp://gitlab.example.com[m[35m'[m

[34m## Roles for multi-instance GitLab
##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.
##! Options:
##!   redis_sentinel_role redis_master_role redis_slave_role geo_primary_role geo_secondary_role
##! For more details on each role, see:
##! https://docs.gitlab.com/omnibus/roles/README.html#roles
##!
# roles ['redis_sentinel_role', 'redis_master_role']

## Legend
##! The following notations at the beginning of each line may be used to
##! differentiate between components of this file and to easily select them using
##! a regex.
##! ## Titles, subtitles etc
##! ##! More information - Description, Docs, Links, Issues etc.
##! Configuration settings have a single # followed by a single space at the
##! beginning; Remove them to enable the setting.

##! **Configuration settings below are optional.**
##! **The values currently assigned are only examples and ARE NOT the default
##!   values.**


################################################################################
################################################################################
##                Configuration Settings for GitLab CE and EE                 ##
################################################################################
################################################################################[m[44;153H1,1[11CTop[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7,0-1[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9,1  [9;1H[?12l[?25h[?25l[44;153H10,1[10;1H[?12l[?25h[?25l[44;154H1[11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H5,1  [15;1H[?12l[?25h[?25l[44;154H6[16;1H[?12l[?25h[?25l[44;154H7[17;1H[?12l[?25h[?25l[44;154H8[18;1H[?12l[?25h[?25l[44;154H9[19;1H[?12l[?25h[?25l[44;153H20[20;1H[?12l[?25h[?25l[44;154H1[21;1H[?12l[?25h[?25l[44;154H2[22;1H[?12l[?25h[?25l[44;154H3,0-1[23;1H[?12l[?25h[?25l[44;154H4,1  [24;1H[?12l[?25h[?25l[44;154H5[25;1H[?12l[?25h[?25l[44;154H6[26;1H[?12l[?25h[?25l[44;154H7[27;1H[?12l[?25h[?25l[44;154H8[28;1H[?12l[?25h[?25l[44;154H9[29;1H[?12l[?25h[?25l[44;153H30[30;1H[?12l[?25h[?25l[44;154H1[31;1H[?12l[?25h[?25l[44;154H2,0-1[32;1H[?12l[?25h[?25l[44;154H3,1  [33;1H[?12l[?25h[?25l[44;154H4[34;1H[?12l[?25h[?25l[44;154H5[35;1H[?12l[?25h[?25l[44;154H6,0-1[36;1H[?12l[?25h[?25l[44;154H7[37;1H[?12l[?25h[?25l[44;154H8,1  [38;1H[?12l[?25h[?25l[44;154H9[39;1H[?12l[?25h[?25l[44;153H40[40;1H[?12l[?25h[?25l[44;154H1[41;1H[?12l[?25h[?25l[44;154H2[42;1H[?12l[?25h[?25l[44;154H3,0-1[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m################################################################################[m[44;1H[K[44;153H44,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m## gitlab.yml configuration[m[44;153H[K[44;153H45,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m##! Docs: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/gitlab.yml.md[m[44;153H[K[44;153H46,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m################################################################################[m[44;153H[K[44;153H47,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_ssh_host'] = 'ssh.host_example.com'[m[44;153H[K[44;153H48,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['time_zone'] = 'UTC'[m[44;153H[K[44;153H49,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H50,0-1[9C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Email Settings[m[44;153H[K[44;153H51,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_enabled'] = true[m[44;153H[K[44;153H52,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_from'] = 'example@example.com'[m[44;153H[K[44;153H53,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_display_name'] = 'Example'[m[44;153H[K[44;153H54,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_reply_to'] = 'noreply@example.com'[m[44;153H[K[44;153H55,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_subject_suffix'] = ''[m[44;153H[K[44;153H56,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H57,0-1[9C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab user privileges[m[44;153H[K[44;153H58,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_can_create_group'] = true[m[44;153H[K[44;153H59,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_username_changing_enabled'] = true[m[44;153H[K[44;153H60,1[11C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H61,0-1[9C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Default Theme[m[44;153H[K[44;153H62,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_theme'] = 2[m[44;153H[K[44;153H63,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H64,0-1[9C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Default project feature settings[m[44;153H[K[44;153H65,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_issues'] = true[m[44;153H[K[44;153H66,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_merge_requests'] = true[m[44;153H[K[44;153H67,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_wiki'] = true[m[44;153H[K[44;153H68,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_snippets'] = true[m[44;153H[K[44;153H69,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_builds'] = true[m[44;153H[K[44;153H70,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_container_registry'] = true[m[44;153H[K[44;153H71,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H72,0-1[9C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Automatic issue closing[m[44;153H[K[44;153H73,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! See https://docs.gitlab.com/ce/customization/issue_closing.html for more[m[44;153H[K[44;153H74,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! information about this pattern.[m[44;153H[K[44;153H75,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[1;1H[2M[1;44r[42;1H[34m# gitlab_rails['gitlab_issue_closing_pattern'] = "\b((?:[Cc]los(?:e[sd]?|ing)|\b[Ff]ix(?:e[sd]|ing)?|\b[Rr]esolv(?:e[sd]?|ing)|\b[Ii]mplement(?:s|ed|ing)?)(:?) +(?:(?:isss[43;1Hues? +)?%{issue_ref}(?:(?:, *| +and +)?)|([A-Z][A-Z0-9_]+-\d+))+)"[m[44;153H[K[44;153H76,1[11C1%[42;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H77,0-1[9C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Download location[m[44;153H[K[44;153H78,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! When a user clicks e.g. 'Download zip' on a project, a temporary zip file[m[44;153H[K[44;153H79,1[11C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! is created in the following directory.[m[44;153H[K[44;153H80,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Should not be the same path, or a sub directory of any of the `git_data_dirs`[m[44;153H[K[44;153H81,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_repository_downloads_path'] = 'tmp/repositories'[m[44;153H[K[44;153H82,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H83,0-1[9C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Gravatar Settings[m[44;153H[K[44;153H84,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gravatar_plain_url'] = 'http://www.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'[m[44;153H[K[44;153H85,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gravatar_ssl_url'] = 'https://secure.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'[m[44;153H[K[44;153H86,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H87,0-1[9C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Auxiliary jobs[m[44;153H[K[44;153H88,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Periodically executed jobs, to self-heal Gitlab, do external[m[44;153H[K[44;153H89,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! synchronizations, etc.[m[44;153H[K[44;153H90,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://github.com/ondrejbartas/sidekiq-cron#adding-cron-job[m[44;153H[K[44;153H91,1[11C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!       https://docs.gitlab.com/ce/ci/yaml/README.html#artifacts:expire_in[m[44;153H[K[44;153H92,1[11C2%[43;1H[?12l[?25h[?25l[27m[23m[m[H[2J[1;1H[34m## GitLab configuration settings
##! This file is generated during initial installation and **is not** modified
##! during upgrades.
##! Check out the latest version of this file to know about the different
##! settings that can be configured by this file, which may be found at:
##! https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template


## GitLab URL
##! URL on which GitLab will be reachable.
##! For more details on configuring external_url see:
##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab[m
external_url [35m'[m[31mhttp://gitlab.example.com[m[35m'[m

[34m## Roles for multi-instance GitLab
##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.
##! Options:
##!   redis_sentinel_role redis_master_role redis_slave_role geo_primary_role geo_secondary_role
##! For more details on each role, see:
##! https://docs.gitlab.com/omnibus/roles/README.html#roles
##!
# roles ['redis_sentinel_role', 'redis_master_role']

## Legend
##! The following notations at the beginning of each line may be used to
##! differentiate between components of this file and to easily select them using
##! a regex.
##! ## Titles, subtitles etc
##! ##! More information - Description, Docs, Links, Issues etc.
##! Configuration settings have a single # followed by a single space at the
##! beginning; Remove them to enable the setting.

##! **Configuration settings below are optional.**
##! **The values currently assigned are only examples and ARE NOT the default
##!   values.**


################################################################################
################################################################################
##                Configuration Settings for GitLab CE and EE                 ##
################################################################################
################################################################################[m[44;153H1,1[11CTop[1;1H[?12l[?25h[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7,0-1[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9,1  [9;1H[?12l[?25h[?25l[44;153H10,1[10;1H[?12l[?25h[?25l[44;154H1[11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25l[44;156H8[13;8H[?12l[?25h[?25l[44;156H9[13;9H[?12l[?25h[?25l[44;156H10[13;10H[?12l[?25h[?25l[44;157H1[13;11H[?12l[?25h[?25l[44;157H2[13;12H[?12l[?25h[?25l[44;157H3[13;13H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;153H[K[44;153H13,15[9CTop[13;15H[35m'[m[13;16H[K[13;15H[?12l[?25h[?25l[31mi[m[35m'[m[44;157H6[13;16H[?12l[?25h[?25l[31mh[m[35m'[m[44;157H7[13;17H[?12l[?25h[?25l[31mt[m[35m'[m[44;157H8[13;18H[?12l[?25h[?25l[31mt[m[35m'[m[44;157H9[13;19H[?12l[?25h[?25l[31mp[m[35m'[m[44;156H20[13;20H[?12l[?25h[?25l[31m:[m[35m'[m[44;157H1[13;21H[?12l[?25h[?25l[31m/[m[35m'[m[44;157H2[13;22H[?12l[?25h[?25l[31m/[m[35m'[m[44;157H3[13;23H[?12l[?25h[?25l[35m'[m[13;23H[K[44;157H2[13;22H[?12l[?25h[?25l[35m'[m[13;22H[K[44;157H1[13;21H[?12l[?25h[?25l[35m'[m[13;21H[K[44;157H0[13;20H[?12l[?25h[?25l[35m'[m[13;20H[K[44;156H19[13;19H[?12l[?25h[?25l[35m'[m[13;19H[K[44;157H8[13;18H[?12l[?25h[?25l[35m'[m[13;18H[K[44;157H7[13;17H[?12l[?25h[?25l[35m'[m[13;17H[K[44;157H6[13;16H[?12l[?25h[?25l[35m'[m[13;16H[K[44;157H5[13;15H[?12l[?25h[?25l[31mh[m[35m'[m[44;157H6[13;16H[?12l[?25h[?25l[31mt[m[35m'[m[44;157H7[13;17H[?12l[?25h[?25l[31mt[m[35m'[m[44;157H8[13;18H[?12l[?25h[?25l[31mp[m[35m'[m[44;157H9[13;19H[?12l[?25h[?25l[31m:[m[35m'[m[44;156H20[13;20H[?12l[?25h[?25l[31m/[m[35m'[m[44;157H1[13;21H[?12l[?25h[?25l[31m/[m[35m'[m[44;157H2[13;22H[?12l[?25h[?25l[31m1[m[35m'[m[44;157H3[13;23H[?12l[?25h[?25l[31m9[m[35m'[m[44;157H4[13;24H[?12l[?25h[?25l[31m2[m[35m'[m[44;157H5[13;25H[?12l[?25h[?25l[31m.[m[35m'[m[44;157H6[13;26H[?12l[?25h[?25l[31m1[m[35m'[m[44;157H7[13;27H[?12l[?25h[?25l[31m6[m[35m'[m[44;157H8[13;28H[?12l[?25h[?25l[31m8[m[35m'[m[44;157H9[13;29H[?12l[?25h[?25l[31m.[m[35m'[m[44;156H30[13;30H[?12l[?25h[?25l[31m9[m[35m'[m[44;157H1[13;31H[?12l[?25h[?25l[31m9[m[35m'[m[44;157H2[13;32H[?12l[?25h[?25l[31m.[m[35m'[m[44;157H3[13;33H[?12l[?25h[?25l[31m2[m[35m'[m[44;157H4[13;34H[?12l[?25h[?25l[31m0[m[35m'[m[44;157H5[13;35H[?12l[?25h[44;1H[K[13;34H[?25l[44;153H13,34[9CTop[13;34H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H5,34 [15;34H[?12l[?25h[?25l[44;154H6[16;34H[?12l[?25h[?25l[44;154H7,12[17;12H[?12l[?25h[?25l[44;154H8,34[18;34H[?12l[?25h[?25l[44;154H9[19;34H[?12l[?25h[?25l[44;153H20[20;34H[?12l[?25h[?25l[44;154H1,3 [21;3H[?12l[?25h[?25l[44;154H2,34[22;34H[?12l[?25h[?25l[44;154H3,0-1[23;1H[?12l[?25h[?25l[44;154H4,9  [24;9H[?12l[?25h[?25l[44;154H5,34[25;34H[?12l[?25h[?25l[44;154H6[26;34H[?12l[?25h[?25l[44;154H7,12[27;12H[?12l[?25h[?25l[44;154H8,28[28;28H[?12l[?25h[?25l[44;154H9,34[29;34H[?12l[?25h[?25l[44;153H30[30;34H[?12l[?25h[?25l[44;154H1[31;34H[?12l[?25h[?25l[44;154H2,0-1[32;1H[?12l[?25h[?25l[44;154H3,34 [33;34H[?12l[?25h[?25l[44;154H4[34;34H[?12l[?25h[?25l[44;154H5,15[35;15H[?12l[?25h[?25l[44;154H6,0-1[36;1H[?12l[?25h[?25l[44;154H7[37;1H[?12l[?25h[?25l[44;154H8,34 [38;34H[?12l[?25h[?25l[44;154H9[39;34H[?12l[?25h[?25l[44;153H40[40;34H[?12l[?25h[?25l[44;154H1[41;34H[?12l[?25h[?25l[44;154H2[42;34H[?12l[?25h[?25l[44;154H3,0-1[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m################################################################################[m[44;153H[K[44;153H44,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m## gitlab.yml configuration[m[44;153H[K[44;153H45,27[10C0%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m##! Docs: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/gitlab.yml.md[m[44;153H[K[44;153H46,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m################################################################################[m[44;153H[K[44;153H47,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_ssh_host'] = 'ssh.host_example.com'[m[44;153H[K[44;153H48,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['time_zone'] = 'UTC'[m[44;153H[K[44;153H49,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H50,0-1[9C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Email Settings[m[44;153H[K[44;153H51,18[10C0%[43;18H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_enabled'] = true[m[44;153H[K[44;153H52,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_from'] = 'example@example.com'[m[44;153H[K[44;153H53,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_display_name'] = 'Example'[m[44;153H[K[44;153H54,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_reply_to'] = 'noreply@example.com'[m[44;153H[K[44;153H55,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_email_subject_suffix'] = ''[m[44;153H[K[44;153H56,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H57,0-1[9C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab user privileges[m[44;153H[K[44;153H58,26[10C0%[43;26H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_can_create_group'] = true[m[44;153H[K[44;153H59,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_username_changing_enabled'] = true[m[44;153H[K[44;153H60,34[10C0%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H61,0-1[9C0%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Default Theme[m[44;153H[K[44;153H62,17[10C1%[43;17H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_theme'] = 2[m[44;153H[K[44;153H63,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H64,0-1[9C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Default project feature settings[m[44;153H[K[44;153H65,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_issues'] = true[m[44;153H[K[44;153H66,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_merge_requests'] = true[m[44;153H[K[44;153H67,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_wiki'] = true[m[44;153H[K[44;153H68,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_snippets'] = true[m[44;153H[K[44;153H69,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_builds'] = true[m[44;153H[K[44;153H70,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_default_projects_features_container_registry'] = true[m[44;153H[K[44;153H71,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H72,0-1[9C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Automatic issue closing[m[44;153H[K[44;153H73,27[10C1%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! See https://docs.gitlab.com/ce/customization/issue_closing.html for more[m[44;153H[K[44;153H74,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! information about this pattern.[m[44;153H[K[44;153H75,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[1;1H[2M[1;44r[42;1H[34m# gitlab_rails['gitlab_issue_closing_pattern'] = "\b((?:[Cc]los(?:e[sd]?|ing)|\b[Ff]ix(?:e[sd]|ing)?|\b[Rr]esolv(?:e[sd]?|ing)|\b[Ii]mplement(?:s|ed|ing)?)(:?) +(?:(?:isss[43;1Hues? +)?%{issue_ref}(?:(?:, *| +and +)?)|([A-Z][A-Z0-9_]+-\d+))+)"[m[44;153H[K[44;153H76,34[10C1%[42;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H77,0-1[9C1%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Download location[m[44;153H[K[44;153H78,21[10C1%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! When a user clicks e.g. 'Download zip' on a project, a temporary zip file[m[44;153H[K[44;153H79,34[10C1%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! is created in the following directory.[m[44;153H[K[44;153H80,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Should not be the same path, or a sub directory of any of the `git_data_dirs`[m[44;153H[K[44;153H81,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_repository_downloads_path'] = 'tmp/repositories'[m[44;153H[K[44;153H82,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H83,0-1[9C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Gravatar Settings[m[44;153H[K[44;153H84,21[10C2%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gravatar_plain_url'] = 'http://www.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'[m[44;153H[K[44;153H85,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'gravatar_ssl_url'[m[34m[46m][m[34m = 'https://secure.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'[m[44;153H[K[44;153H86,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C][m[44;153H[K[44;153H87,0-1[9C2%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Auxiliary jobs[m[44;153H[K[44;153H88,18[10C2%[43;18H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Periodically executed jobs, to self-heal Gitlab, do external[m[44;153H[K[44;153H89,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! synchronizations, etc.[m[44;153H[K[44;153H90,27[10C2%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://github.com/ondrejbartas/sidekiq-cron#adding-cron-job[m[44;153H[K[44;153H91,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!       https://docs.gitlab.com/ce/ci/yaml/README.html#artifacts:expire_in[m[44;153H[K[44;153H92,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['stuck_ci_jobs_worker_cron'] = "0 0 * * *"[m[44;153H[K[44;153H93,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['expire_build_artifacts_worker_cron'] = "50 * * * *"[m[44;153H[K[44;153H94,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['pipeline_schedule_worker_cron'] = "41 * * * *"[m[44;153H[K[44;153H95,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['ci_archive_traces_cron_worker_cron'] = "17 * * * *"[m[44;153H[K[44;153H96,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['repository_check_worker_cron'] = "20 * * * *"[m[44;153H[K[44;153H97,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['admin_email_worker_cron'] = "0 0 * * 0"[m[44;153H[K[44;153H98,34[10C2%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['repository_archive_cache_worker_cron'] = "0 * * * *"[m[44;153H[K[44;153H99,34[10C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['pages_domain_verification_cron_worker'] = "*/15 * * * *"[m[44;153H[K[44;153H100,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H101,0-1[8C3%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Webhook Settings[m[44;153H[K[44;153H102,20[9C3%[43;20H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Number of seconds to wait for HTTP response after sending webhook HTTP POST[m[44;153H[K[44;153H103,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! request [m[34m[46m([m[34mdefault: 10[m[34m[46m)[m[44;153H[K[44;153H104,26[9C3%[43;26H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;14H[34m([11C)
# gitlab_rails['webhook_timeout'] = 10[m[44;153H[K[44;153H105,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H106,0-1[8C3%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Trusted proxies[m[44;153H[K[44;153H107,19[9C3%[43;19H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Customize if you have GitLab behind a reverse proxy which is running on a[m[44;153H[K[44;153H108,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! different machine.[m[44;153H[K[44;153H109,23[9C3%[43;23H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Add the IP address for your reverse proxy to the list, otherwise users[m[44;153H[K[44;153H110,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!   will appear signed in from that address.**[m[44;153H[K[44;153H111,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['trusted_proxies'] = [][m[44;153H[K[44;153H112,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H113,0-1[8C3%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Monitoring settings[m[44;153H[K[44;153H114,23[9C3%[43;23H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! IP whitelist controlling access to monitoring endpoints[m[44;153H[K[44;153H115,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['monitoring_whitelist'] = ['127.0.0.0/8', '::1/128'][m[44;153H[K[44;153H116,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Time between sampling of unicorn socket metrics, in seconds[m[44;153H[K[44;153H117,34[9C3%[43;34H[?12l[?25h[?25l[1;43r[1;1H[2M[1;44r[42;1H[34m# gitlab_rails['monitoring_unicorn_sampler_interval'] = 10[m[44;153H[K[44;153H118,34[9C4%[42;34H[?12l[?25h[?25l[44;155H9,0-1[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Reply by email[m[44;153H[K[44;153H120,18[9C4%[43;18H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Allow users to comment on issues and merge requests by replying to[m[44;153H[K[44;153H121,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! notification emails.[m[44;153H[K[44;153H122,25[9C4%[43;25H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/ce/administration/reply_by_email.html[m[44;153H[K[44;153H123,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_enabled'] = true[m[44;153H[K[44;153H124,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H125,0-1[8C4%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Incoming Email Address[m[44;153H[K[44;153H126,27[9C4%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! The email address including the `%{key}` placeholder that will be replaced[m[44;153H[K[44;153H127,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! to reference the item being replied to.[m[44;153H[K[44;153H128,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! **The placeholder can be omitted but if present, it must appear in the[m[44;153H[K[44;153H129,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####!   "user" part of the address (before the `@`).**[m[44;153H[K[44;153H130,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_address'] = "gitlab-incoming+%{key}@gmail.com"[m[44;153H[K[44;153H131,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H132,0-1[8C4%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Email account username[m[44;153H[K[44;153H133,27[9C4%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! **With third party providers, this is usually the full email address.**[m[44;153H[K[44;153H134,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! **With self-hosted email servers, this is usually the user part of the[m[44;153H[K[44;153H135,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####!   email address.**[m[44;153H[K[44;153H136,24[9C4%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_email'] = "gitlab-incoming@gmail.com"[m[44;153H[K[44;153H137,34[9C4%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H138,0-1[8C5%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Email account password[m[44;153H[K[44;153H139,27[9C5%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_password'] = "[REDACTED]"[m[44;153H[K[44;153H140,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H141,0-1[8C5%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### IMAP Settings[m[44;153H[K[44;153H142,18[9C5%[43;18H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_host'] = "imap.gmail.com"[m[44;153H[K[44;153H143,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_port'] = 993[m[44;153H[K[44;153H144,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_ssl'] = true[m[44;153H[K[44;153H145,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_start_tls'] = false[m[44;153H[K[44;153H146,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H147,0-1[8C5%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Incoming Mailbox Settings[m[44;153H[K[44;153H148,30[9C5%[43;30H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! The mailbox where incoming mail will end up. Usually "inbox".[m[44;153H[K[44;153H149,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_mailbox_name'] = "inbox"[m[44;153H[K[44;153H150,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! The IDLE command timeout.[m[44;153H[K[44;153H151,31[9C5%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['incoming_email_idle_timeout'] = 60[m[44;153H[K[44;153H152,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H153,0-1[8C5%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Job Artifacts[m[44;153H[K[44;153H154,17[9C5%[43;17H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_enabled'] = true[m[44;153H[K[44;153H155,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_path'] = "/var/opt/gitlab/gitlab-rails/shared/artifacts"[m[44;153H[K[44;153H156,34[9C5%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! Job artifacts Object Store[m[44;153H[K[44;153H157,32[9C6%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! Docs: https://docs.gitlab.com/ee/administration/job_artifacts.html#using-object-storage[m[44;153H[K[44;153H158,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_object_store_enabled'] = false[m[44;153H[K[44;153H159,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_object_store_direct_upload'] = false[m[44;153H[K[44;153H160,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_object_store_background_upload'] = true[m[44;153H[K[44;153H161,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_object_store_proxy_download'] = false[m[44;153H[K[44;153H162,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_object_store_remote_directory'] = "artifacts"[m[44;153H[K[44;153H163,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['artifacts_object_store_connection'] = {[m[44;153H[K[44;153H164,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'provider' => 'AWS',[m[44;153H[K[44;153H165,24[9C6%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'region' => 'eu-west-1',[m[44;153H[K[44;153H166,28[9C6%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_access_key_id' => 'AWS_ACCESS_KEY_ID',[m[44;153H[K[44;153H167,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_secret_access_key' => 'AWS_SECRET_ACCESS_KEY',[m[44;153H[K[44;153H168,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # # The below options configure an S3 compatible host instead of AWS[m[44;153H[K[44;153H169,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'aws_signature_version' => 4, # For creation of signed URLs. Set to 2 if provider does not support v4.[m[44;153H[K[44;153H170,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'endpoint' => 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces[m[44;153H[K[44;153H171,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'host' => 's3.amazonaws.com',[m[44;153H[K[44;153H172,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'path_style' => false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'[m[44;153H[K[44;153H173,34[9C6%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[33;55H[34m[46m{[m[43;1H[34m# [m[34m[46m}[m[44;153H[K[44;153H174,3[10C6%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[32;55H[34m{[42;3H}[m[44;153H[K[44;153H175,0-1[8C6%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Git LFS[m[44;153H[K[44;153H176,11[9C7%[43;11H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['lfs_enabled'] = true[m[44;153H[K[44;153H177,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'lfs_storage_path'[m[34m[46m][m[34m = "/var/opt/gitlab/gitlab-rails/shared/lfs-objects"[m[44;153H[K[44;153H178,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C]
# gitlab_rails['lfs_object_store_enabled'] = false[m[44;153H[K[44;153H179,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['lfs_object_store_direct_upload'] = false[m[44;153H[K[44;153H180,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['lfs_object_store_background_upload'] = true[m[44;153H[K[44;153H181,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['lfs_object_store_proxy_download'] = false[m[44;153H[K[44;153H182,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['lfs_object_store_remote_directory'] = "lfs-objects"[m[44;153H[K[44;153H183,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['lfs_object_store_connection'] = {[m[44;153H[K[44;153H184,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'provider' => 'AWS',[m[44;153H[K[44;153H185,24[9C7%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'region' => 'eu-west-1',[m[44;153H[K[44;153H186,28[9C7%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_access_key_id' => 'AWS_ACCESS_KEY_ID',[m[44;153H[K[44;153H187,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_secret_access_key' => 'AWS_SECRET_ACCESS_KEY',[m[44;153H[K[44;153H188,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # # The below options configure an S3 compatible host instead of AWS[m[44;153H[K[44;153H189,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'aws_signature_version' => 4, # For creation of signed URLs. Set to 2 if provider does not support v4.[m[44;153H[K[44;153H190,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'endpoint' => 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces[m[44;153H[K[44;153H191,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'host' => 's3.amazonaws.com',[m[44;153H[K[44;153H192,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'path_style' => false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'[m[44;153H[K[44;153H193,34[9C7%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[33;49H[34m[46m{[m[43;1H[34m# [m[34m[46m}[m[44;153H[K[44;153H194,3[10C7%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[32;49H[34m{[42;3H}[m[44;153H[K[44;153H195,0-1[8C8%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab uploads[m[44;153H[K[44;153H196,18[9C8%[43;18H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/ee/administration/uploads.html[m[44;153H[K[44;153H197,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_storage_path'] = "/var/opt/gitlab/gitlab-rails/public"[m[44;153H[K[44;153H198,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'uploads_base_dir'[m[34m[46m][m[34m = "uploads/-/system"[m[44;153H[K[44;153H199,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C]
# gitlab_rails['uploads_object_store_enabled'] = false[m[44;153H[K[44;153H200,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_object_store_direct_upload'] = false[m[44;153H[K[44;153H201,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_object_store_background_upload'] = true[m[44;153H[K[44;153H202,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_object_store_proxy_download'] = false[m[44;153H[K[44;153H203,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_object_store_remote_directory'] = "uploads"[m[44;153H[K[44;153H204,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_object_store_connection'] = {[m[44;153H[K[44;153H205,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'provider' => 'AWS',[m[44;153H[K[44;153H206,24[9C8%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'region' => 'eu-west-1',[m[44;153H[K[44;153H207,28[9C8%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_access_key_id' => 'AWS_ACCESS_KEY_ID',[m[44;153H[K[44;153H208,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_secret_access_key' => 'AWS_SECRET_ACCESS_KEY',[m[44;153H[K[44;153H209,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # # The below options configure an S3 compatible host instead of AWS[m[44;153H[K[44;153H210,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'host' => 's3.amazonaws.com',[m[44;153H[K[44;153H211,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'aws_signature_version' => 4, # For creation of signed URLs. Set to 2 if provider does not support v4.[m[44;153H[K[44;153H212,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'endpoint' => 'https://s3.amazonaws.com', # default: nil - Useful for S3 compliant services such as DigitalOcean Spaces[m[44;153H[K[44;153H213,34[9C8%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   # 'path_style' => false # Use 'host/bucket_name/object' instead of 'bucket_name.host/object'[m[44;153H[K[44;153H214,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[33;53H[34m[46m{[m[43;1H[34m# [m[34m[46m}[m[44;153H[K[44;153H215,3[10C9%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[32;53H[34m{[42;3H}[m[44;153H[K[44;153H216,0-1[8C9%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Usage Statistics[m[44;153H[K[44;153H217,20[9C9%[43;20H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['usage_ping_enabled'] = true[m[44;153H[K[44;153H218,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H219,0-1[8C9%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab Mattermost[m[44;153H[K[44;153H220,21[9C9%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! These settings are void if Mattermost is installed on the same omnibus[m[44;153H[K[44;153H221,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! install[m[44;153H[K[44;153H222,12[9C9%[43;12H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['mattermost_host'] = "https://mattermost.example.com"[m[44;153H[K[44;153H223,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H224,0-1[8C9%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### LDAP Settings[m[44;153H[K[44;153H225,17[9C9%[43;17H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/ldap.html[m[44;153H[K[44;153H226,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Be careful not to break the indentation in the ldap_servers block. It is[m[44;153H[K[44;153H227,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!   in yaml format and the spaces must be retained. Using tabs will not work.**[m[44;153H[K[44;153H228,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H229,0-1[8C9%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['ldap_enabled'] = false[m[44;153H[K[44;153H230,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H231,0-1[8C9%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **remember to close this block with 'EOS' below**[m[44;153H[K[44;153H232,34[9C9%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['ldap_servers'] = YAML.load <<-'EOS'[m[44;153H[K[44;153H233,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   main: # 'main' is the GitLab 'provider ID' of this LDAP server[m[44;153H[K[44;153H234,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     label: 'LDAP'[m[44;153H[K[44;153H235,19[8C10%[43;19H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     host: '_your_ldap_server'[m[44;153H[K[44;153H236,31[8C10%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     port: 389[m[44;153H[K[44;153H237,15[8C10%[43;15H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     uid: 'sAMAccountName'[m[44;153H[K[44;153H238,27[8C10%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'[m[44;153H[K[44;153H239,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     password: '_the_password_of_the_bind_user'[m[44;153H[K[44;153H240,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     encryption: 'plain' # "start_tls" or "simple_tls" or "plain"[m[44;153H[K[44;153H241,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     verify_certificates: true[m[44;153H[K[44;153H242,31[8C10%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     active_directory: true[m[44;153H[K[44;153H243,28[8C10%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     allow_username_or_email_login: false[m[44;153H[K[44;153H244,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     lowercase_usernames: false[m[44;153H[K[44;153H245,32[8C10%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     block_auto_created_users: false[m[44;153H[K[44;153H246,34[8C10%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     base: ''[m[44;153H[K[44;153H247,14[8C10%[43;14H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     user_filter: ''[m[44;153H[K[44;153H248,21[8C10%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     ## EE only[m[44;153H[K[44;153H249,16[8C10%[43;16H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     group_base: ''[m[44;153H[K[44;153H250,20[8C10%[43;20H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     admin_group: ''[m[44;153H[K[44;153H251,21[8C10%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     sync_ssh_keys: false[m[44;153H[K[44;153H252,26[8C11%[43;26H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#[m[44;153H[K[44;153H253,1[9C11%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   secondary: # 'secondary' is the GitLab 'provider ID' of second LDAP server[m[44;153H[K[44;153H254,34[8C11%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     label: 'LDAP'[m[44;153H[K[44;153H255,19[8C11%[43;19H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     host: '_your_ldap_server'[m[44;153H[K[44;153H256,31[8C11%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     port: 389[m[44;153H[K[44;153H257,15[8C11%[43;15H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     uid: 'sAMAccountName'[m[44;153H[K[44;153H258,27[8C11%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     bind_dn: '_the_full_dn_of_the_user_you_will_bind_with'[m[44;153H[K[44;153H259,34[8C11%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     password: '_the_password_of_the_bind_user'[m[44;153H[K[44;153H260,34[8C11%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     encryption: 'plain' # "start_tls" or "simple_tls" or "plain"[m[44;153H[K[44;153H261,34[8C11%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     verify_certificates: true[m[44;153H[K[44;153H262,31[8C11%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     active_directory: true[m[44;153H[K[44;153H263,28[8C11%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     allow_username_or_email_login: false[m[44;153H[K[44;153H264,34[8C11%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     lowercase_usernames: false[m[44;153H[K[44;153H265,32[8C11%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     block_auto_created_users: false[m[44;153H[K[44;153H266,34[8C11%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     base: ''[m[44;153H[K[44;153H267,14[8C11%[43;14H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     user_filter: ''[m[44;153H[K[44;153H268,21[8C11%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     ## EE only[m[44;153H[K[44;153H269,16[8C11%[43;16H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     group_base: ''[m[44;153H[K[44;153H270,20[8C12%[43;20H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     admin_group: ''[m[44;153H[K[44;153H271,21[8C12%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     sync_ssh_keys: false[m[44;153H[K[44;153H272,26[8C12%[43;26H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# EOS[m[44;153H[K[44;153H273,5[9C12%[43;5H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H274,0-1[7C12%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### OmniAuth Settings[m[44;153H[K[44;153H275,21[8C12%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/ce/integration/omniauth.html[m[44;153H[K[44;153H276,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'omniauth_enabled'[m[34m[46m][m[34m = nil[m[44;153H[K[44;153H277,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C]
# gitlab_rails['omniauth_allow_single_sign_on'] = ['saml'][m[44;153H[K[44;153H278,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_sync_email_from_provider'] = 'saml'[m[44;153H[K[44;153H279,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_sync_profile_from_provider'] = ['saml'][m[44;153H[K[44;153H280,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_sync_profile_attributes'] = ['email'][m[44;153H[K[44;153H281,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_auto_sign_in_with_provider'] = 'saml'[m[44;153H[K[44;153H282,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_block_auto_created_users'] = true[m[44;153H[K[44;153H283,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_auto_link_ldap_user'] = false[m[44;153H[K[44;153H284,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_auto_link_saml_user'] = false[m[44;153H[K[44;153H285,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_external_providers'] = ['twitter', 'google_oauth2'][m[44;153H[K[44;153H286,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['omniauth_providers'] = [[m[44;153H[K[44;153H287,34[8C12%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   {[m[44;153H[K[44;153H288,5[9C12%[43;5H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     "name" => "google_oauth2",[m[44;153H[K[44;153H289,32[8C13%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     "app_id" => "YOUR APP ID",[m[44;153H[K[44;153H290,32[8C13%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     "app_secret" => "YOUR APP SECRET",[m[44;153H[K[44;153H291,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     "args" => { "access_type" => "offline", "approval_prompt" => "" }[m[44;153H[K[44;153H292,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[38;5H[34m[46m{[m[43;1H[34m#   [m[34m[46m}[m[44;153H[K[44;153H293,5[9C13%[43;5H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[36;40H[34m[46m[[m[37;5H[34m{[42;5H}
# [m[34m[46m][m[44;153H[K[44;153H294,3[9C13%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[35;40H[34m[[42;3H][m[44;153H[K[44;153H295,0-1[7C13%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Backup Settings[m[44;153H[K[44;153H296,19[8C13%[43;19H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/backups.html[m[44;153H[K[44;153H297,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H298,0-1[7C13%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['manage_backup_path'] = true[m[44;153H[K[44;153H299,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['backup_path'] = "/var/opt/gitlab/backups"[m[44;153H[K[44;153H300,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H301,0-1[7C13%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/ce/raketasks/backup_restore.html#backup-archive-permissions[m[44;153H[K[44;153H302,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['backup_archive_permissions'] = 0644[m[44;153H[K[44;153H303,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H304,0-1[7C13%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'backup_pg_schema'[m[34m[46m][m[34m = 'public'[m[44;153H[K[44;153H305,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C][m[44;153H[K[44;153H306,0-1[7C13%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! The duration in seconds to keep backups before they are allowed to be deleted[m[44;153H[K[44;153H307,34[8C13%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'backup_keep_time'[m[34m[46m][m[34m = 604800[m[44;153H[K[44;153H308,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C][m[44;153H[K[44;153H309,0-1[7C14%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['backup_upload_connection'] = {[m[44;153H[K[44;153H310,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'provider' => 'AWS',[m[44;153H[K[44;153H311,24[8C14%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'region' => 'eu-west-1',[m[44;153H[K[44;153H312,28[8C14%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_access_key_id' => 'AKIAKIAKI',[m[44;153H[K[44;153H313,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_secret_access_key' => 'secret123'[m[44;153H[K[44;153H314,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[38;46H[34m[46m{[m[43;1H[34m# [m[34m[46m}[m[44;153H[K[44;153H315,3[9C14%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[37;46H[34m{[42;3H}
# gitlab_rails['backup_upload_remote_directory'] = 'my.s3.bucket'[m[44;153H[K[44;153H316,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['backup_multipart_chunk_size'] = 104857600[m[44;153H[K[44;153H317,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H318,0-1[7C14%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Turns on AWS Server-Side Encryption with Amazon S3-Managed Keys for[m[44;153H[K[44;153H319,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!   backups**[m[44;153H[K[44;153H320,16[8C14%[43;16H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['backup_encryption'] = 'AES256'[m[44;153H[K[44;153H321,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H322,0-1[7C14%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Specifies Amazon S3 storage class to use for backups. Valid values[m[44;153H[K[44;153H323,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!   include 'STANDARD', 'STANDARD_IA', and 'REDUCED_REDUNDANCY'**[m[44;153H[K[44;153H324,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['backup_storage_class'] = 'STANDARD'[m[44;153H[K[44;153H325,34[8C14%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H326,0-1[7C14%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H327,0-1[7C15%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Pseudonymizer Settings[m[44;153H[K[44;153H328,26[8C15%[43;26H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['pseudonymizer_manifest'] = 'config/pseudonymizer.yml'[m[44;153H[K[44;153H329,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['pseudonymizer_upload_remote_directory'] = 'gitlab-elt'[m[44;153H[K[44;153H330,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['pseudonymizer_upload_connection'] = {[m[44;153H[K[44;153H331,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'provider' => 'AWS',[m[44;153H[K[44;153H332,24[8C15%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'region' => 'eu-west-1',[m[44;153H[K[44;153H333,28[8C15%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_access_key_id' => 'AKIAKIAKI',[m[44;153H[K[44;153H334,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'aws_secret_access_key' => 'secret123'[m[44;153H[K[44;153H335,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[38;53H[34m[46m{[m[43;1H[34m# [m[34m[46m}[m[44;153H[K[44;153H336,3[9C15%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[37;53H[34m{[42;3H}[m[44;153H[K[44;153H337,0-1[7C15%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H338,0-1[7C15%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### For setting up different data storing directory[m[44;153H[K[44;153H339,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#storing-git-data-in-an-alternative-directory[m[44;153H[K[44;153H340,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **If you want to use a single non-default directory to store git data use a[m[44;153H[K[44;153H341,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!   path that doesn't contain symlinks.**[m[44;153H[K[44;153H342,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# git_data_dirs({[m[44;153H[K[44;153H343,17[8C15%[43;17H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   "default" => {[m[44;153H[K[44;153H344,18[8C15%[43;18H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#     "path" => "/mnt/nfs-01/git-data"[m[44;153H[K[44;153H345,34[8C15%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[41;18H[34m[46m{[m

[34m#    [m[34m[46m}[m[44;153H[K[44;153H346,6[9C16%[43;6H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[39;16H[34m[46m([m[40;18H[34m{[42;6H}
# }[m[34m[46m)[m[44;153H[K[44;153H347,4[9C16%[43;4H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[38;16H[34m([42;4H)[m[44;153H[K[44;153H348,0-1[7C16%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Gitaly settings[m[44;153H[K[44;153H349,19[8C16%[43;19H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitaly_token'] = 'secret token'[m[44;153H[K[44;153H350,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H351,0-1[7C16%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### For storing GitLab application uploads, eg. LFS objects, build artifacts[m[44;153H[K[44;153H352,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/ce/development/shared_files.html[m[44;153H[K[44;153H353,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['shared_path'] = '/var/opt/gitlab/gitlab-rails/shared'[m[44;153H[K[44;153H354,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H355,0-1[7C16%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Wait for file system to be mounted[m[44;153H[K[44;153H356,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/configuration.html#only-start-omnibus-gitlab-services-after-a-given-filesystem-is-mounted[m[44;153H[K[44;153H357,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# high_availability['mountpoint'] = ["/var/opt/gitlab/git-data", "/var/opt/gitlab/gitlab-rails/shared"][m[44;153H[K[44;153H358,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H359,0-1[7C16%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab Shell settings for GitLab[m[44;153H[K[44;153H360,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_shell_ssh_port'] = 22[m[44;153H[K[44;153H361,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['gitlab_shell_git_timeout'] = 800[m[44;153H[K[44;153H362,34[8C16%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H363,0-1[7C16%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Extra customization[m[44;153H[K[44;153H364,23[8C16%[43;23H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['extra_google_analytics_id'] = '_your_tracking_id'[m[44;153H[K[44;153H365,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['extra_piwik_url'] = '_your_piwik_url'[m[44;153H[K[44;153H366,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['extra_piwik_site_id'] = '_your_piwik_site_id'[m[44;153H[K[44;153H367,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H368,0-1[7C17%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m##! Docs: https://docs.gitlab.com/omnibus/settings/environment-variables.html[m[44;153H[K[44;153H369,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['env'] = {[m[44;153H[K[44;153H370,25[8C17%[43;25H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'BUNDLE_GEMFILE' => "/opt/gitlab/embedded/service/gitlab-rails/Gemfile",[m[44;153H[K[44;153H371,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'PATH' => "/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin"[m[44;153H[K[44;153H372,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[40;25H[34m[46m{[m


[34m# [m[34m[46m}[m[44;153H[K[44;153H373,3[9C17%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[39;25H[34m{[42;3H}[m[44;153H[K[44;153H374,0-1[7C17%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['rack_attack_git_basic_auth'] = {[m[44;153H[K[44;153H375,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'enabled' => false,[m[44;153H[K[44;153H376,23[8C17%[43;23H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'ip_whitelist' => ["127.0.0.1"],[m[44;153H[K[44;153H377,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'maxretry' => 10,[m[44;153H[K[44;153H378,21[8C17%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'findtime' => 60,[m[44;153H[K[44;153H379,21[8C17%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   'bantime' => 3600[m[44;153H[K[44;153H380,21[8C17%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[37;48H[34m[46m{[m[43;1H[34m# [m[34m[46m}[m[44;153H[K[44;153H381,3[9C17%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[36;48H[34m{[42;3H}[m[44;153H[K[44;153H382,0-1[7C17%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['rack_attack_protected_paths'] = [[m[44;153H[K[44;153H383,34[8C17%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/users/password',[m[44;153H[K[44;153H384,22[8C18%[43;22H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/users/sign_in',[m[44;153H[K[44;153H385,21[8C18%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/api/#{API::API.version}/session.json',[m[44;153H[K[44;153H386,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/api/#{API::API.version}/session',[m[44;153H[K[44;153H387,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/users',[m[44;153H[K[44;153H388,13[8C18%[43;13H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/users/confirmation',[m[44;153H[K[44;153H389,26[8C18%[43;26H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/unsubscribes/',[m[44;153H[K[44;153H390,21[8C18%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   '/import/github/personal_access_token'[m[44;153H[K[44;153H391,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[34;49H[34m[46m[[m[43;1H[34m# [m[34m[46m][m[44;153H[K[44;153H392,3[9C18%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[33;49H[34m[[42;3H][m[44;153H[K[44;153H393,0-1[7C18%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **We do not recommend changing these directories.**[m[44;153H[K[44;153H394,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['dir'] = "/var/opt/gitlab/gitlab-rails"[m[44;153H[K[44;153H395,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['log_directory'] = "/var/log/gitlab/gitlab-rails"[m[44;153H[K[44;153H396,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H397,0-1[7C18%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab application settings[m[44;153H[K[44;153H398,31[8C18%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['uploads_directory'] = "/var/opt/gitlab/gitlab-rails/uploads"[m[44;153H[K[44;153H399,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['rate_limit_requests_per_period'] = 10[m[44;153H[K[44;153H400,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['rate_limit_period'] = 60[m[44;153H[K[44;153H401,34[8C18%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H402,0-1[7C18%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Change the initial default admin password and shared runner registration tokens.[m[44;153H[K[44;153H403,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! **Only applicable on initial setup, changing these settings after database[m[44;153H[K[44;153H404,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####!   is created and seeded won't yield any change.**[m[44;153H[K[44;153H405,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['initial_root_password'] = "password"[m[44;153H[K[44;153H406,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['initial_shared_runners_registration_token'] = "token"[m[44;153H[K[44;153H407,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H408,0-1[7C19%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Enable or disable automatic database migrations[m[44;153H[K[44;153H409,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['auto_migrate'] = true[m[44;153H[K[44;153H410,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H411,0-1[7C19%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### This is advanced feature used by large gitlab deployments where loading[m[44;153H[K[44;153H412,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### whole RAILS env takes a lot of time.[m[44;153H[K[44;153H413,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'rake_cache_clear'[m[34m[46m][m[34m = true[m[44;153H[K[44;153H414,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C][m[44;153H[K[44;153H415,0-1[7C19%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab database settings[m[44;153H[K[44;153H416,28[8C19%[43;28H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/database.html[m[44;153H[K[44;153H417,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Only needed if you use an external database.**[m[44;153H[K[44;153H418,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_adapter'] = "postgresql"[m[44;153H[K[44;153H419,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_encoding'] = "unicode"[m[44;153H[K[44;153H420,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_collation'] = nil[m[44;153H[K[44;153H421,34[8C19%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_database'] = "gitlabhq_production"[m[44;153H[K[44;153H422,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_pool'] = 10[m[44;153H[K[44;153H423,30[8C20%[43;30H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_username'] = "gitlab"[m[44;153H[K[44;153H424,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_password'] = nil[m[44;153H[K[44;153H425,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_host'] = nil[m[44;153H[K[44;153H426,31[8C20%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_port'] = 5432[m[44;153H[K[44;153H427,32[8C20%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_socket'] = nil[m[44;153H[K[44;153H428,33[8C20%[43;33H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_sslmode'] = nil[m[44;153H[K[44;153H429,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_sslcompression'] = 0[m[44;153H[K[44;153H430,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_sslrootcert'] = nil[m[44;153H[K[44;153H431,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_prepared_statements'] = false[m[44;153H[K[44;153H432,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['db_statements_limit'] = 1000[m[44;153H[K[44;153H433,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H434,0-1[7C20%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H435,0-1[7C20%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab Redis settings[m[44;153H[K[44;153H436,25[8C20%[43;25H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Connect to your own Redis instance[m[44;153H[K[44;153H437,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html[m[44;153H[K[44;153H438,34[8C20%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H439,0-1[7C20%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Redis TCP connection[m[44;153H[K[44;153H440,25[8C20%[43;25H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_host'] = "127.0.0.1"[m[44;153H[K[44;153H441,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_port'] = 6379[m[44;153H[K[44;153H442,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_password'] = nil[m[44;153H[K[44;153H443,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_database'] = 0[m[44;153H[K[44;153H444,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H445,0-1[7C21%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Redis local UNIX socket (will be disabled if TCP method is used)[m[44;153H[K[44;153H446,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_socket'] = "/var/opt/gitlab/redis/redis.socket"[m[44;153H[K[44;153H447,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H448,0-1[7C21%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Sentinel support[m[44;153H[K[44;153H449,21[8C21%[43;21H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! To have Sentinel working, you must enable Redis TCP connection support[m[44;153H[K[44;153H450,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! above and define a few Sentinel hosts below (to get a reliable setup[m[44;153H[K[44;153H451,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! at least 3 hosts).[m[44;153H[K[44;153H452,24[8C21%[43;24H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####! **You don't need to list every sentinel host, but the ones not listed will[m[44;153H[K[44;153H453,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m####!   not be used in a fail-over situation to query for the new master.**[m[44;153H[K[44;153H454,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_sentinels'] = [[m[44;153H[K[44;153H455,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#   {'host' => '127.0.0.1', 'port' => 26379},[m[44;153H[K[44;153H456,34[8C21%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[41;37H[34m[46m[[m

[34m# [m[34m[46m][m[44;153H[K[44;153H457,3[9C21%[43;3H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[40;37H[34m[

# ][m[44;153H[K[44;153H458,0-1[7C21%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m#### Separate instances support[m[44;153H[K[44;153H459,31[8C21%[43;31H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/redis.html#running-with-multiple-redis-instances[m[44;153H[K[44;153H460,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_cache_instance'] = nil[m[44;153H[K[44;153H461,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_cache_sentinels'] = nil[m[44;153H[K[44;153H462,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_queues_instance'] = nil[m[44;153H[K[44;153H463,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_queues_sentinels'] = nil[m[44;153H[K[44;153H464,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_shared_state_instance'] = nil[m[44;153H[K[44;153H465,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['redis_shared_sentinels'] = nil[m[44;153H[K[44;153H466,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H467,0-1[7C22%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### GitLab email server settings[m[44;153H[K[44;153H468,32[8C22%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: https://docs.gitlab.com/omnibus/settings/smtp.html[m[44;153H[K[44;153H469,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Use smtp instead of sendmail/postfix.**[m[44;153H[K[44;153H470,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H471,0-1[7C22%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_enable'] = true[m[44;153H[K[44;153H472,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_address'] = "smtp.server"[m[44;153H[K[44;153H473,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_port'] = 465[m[44;153H[K[44;153H474,33[8C22%[43;33H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_user_name'] = "smtp user"[m[44;153H[K[44;153H475,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_password'] = "smtp password"[m[44;153H[K[44;153H476,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_domain'] = "example.com"[m[44;153H[K[44;153H477,34[8C22%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_authentication'] = "login"[m[44;153H[K[44;153H478,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_enable_starttls_auto'] = true[m[44;153H[K[44;153H479,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_tls'] = false[m[44;153H[K[44;153H480,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H481,0-1[7C23%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Can be: 'none', 'peer', 'client_once', 'fail_if_no_peer_cert'**[m[44;153H[K[44;153H482,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! Docs: http://api.rubyonrails.org/classes/ActionMailer/Base.html[m[44;153H[K[44;153H483,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_openssl_verify_mode'] = 'none'[m[44;153H[K[44;153H484,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H485,0-1[7C23%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_ca_path'] = "/etc/ssl/certs"[m[44;153H[K[44;153H486,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['smtp_ca_file'] = "/etc/ssl/certs/ca-certificates.crt"[m[44;153H[K[44;153H487,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H488,0-1[7C23%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m################################################################################[m[44;153H[K[44;153H489,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m## Container Registry settings[m[44;153H[K[44;153H490,30[8C23%[43;30H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m##! Docs: https://docs.gitlab.com/ce/administration/container_registry.html[m[44;153H[K[44;153H491,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m################################################################################[m[44;153H[K[44;153H492,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H493,0-1[7C23%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry_external_url 'https://registry.gitlab.example.com'[m[44;153H[K[44;153H494,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H495,0-1[7C23%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Settings used by GitLab application[m[44;153H[K[44;153H496,34[8C23%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'registry_enabled'[m[34m[46m][m[34m = true[m[44;153H[K[44;153H497,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C]
# gitlab_rails['registry_host'] = "registry.gitlab.example.com"[m[44;153H[K[44;153H498,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['registry_port'] = "5005"[m[44;153H[K[44;153H499,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['registry_path'] = "/var/opt/gitlab/gitlab-rails/shared/registry"[m[44;153H[K[44;153H500,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H501,0-1[7C24%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###! **Do not change the following 3 settings unless you know what you are[m[44;153H[K[44;153H502,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m###!   doing**[m[44;153H[K[44;153H503,14[8C24%[43;14H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails[m[34m[46m[[m[34m'registry_api_url'[m[34m[46m][m[34m = "http://localhost:5000"[m[44;153H[K[44;153H504,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[42;15H[34m[[18C]
# gitlab_rails['registry_key_path'] = "/var/opt/gitlab/gitlab-rails/certificate.key"[m[44;153H[K[44;153H505,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# gitlab_rails['registry_issuer'] = "omnibus-gitlab-issuer"[m[44;153H[K[44;153H506,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[44;153H[K[44;153H507,0-1[7C24%[43;1H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m### Settings used by Registry application[m[44;153H[K[44;153H508,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['enable'] = true[m[44;153H[K[44;153H509,27[8C24%[43;27H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['username'] = "registry"[m[44;153H[K[44;153H510,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['group'] = "registry"[m[44;153H[K[44;153H511,32[8C24%[43;32H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['uid'] = nil[m[44;153H[K[44;153H512,23[8C24%[43;23H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['gid'] = nil[m[44;153H[K[44;153H513,23[8C24%[43;23H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['dir'] = "/var/opt/gitlab/registry"[m[44;153H[K[44;153H514,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['registry_http_addr'] = "localhost:5000"[m[44;153H[K[44;153H515,34[8C24%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['debug_addr'] = "localhost:5001"[m[44;153H[K[44;153H516,34[8C25%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['log_directory'] = "/var/log/gitlab/registry"[m[44;153H[K[44;153H517,34[8C25%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['env_directory'] = "/opt/gitlab/etc/registry/env"[m[44;153H[K[44;153H518,34[8C25%[43;34H[?12l[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[34m# registry['env'] = {[m[44;153H[K[44;153H519,21[8C25%[43;21H[?12l[?25h[?25l[27m[23m[m[H[2J[1;1H[34m## GitLab configuration settings
##! This file is generated during initial installation and **is not** modified
##! during upgrades.
##! Check out the latest version of this file to know about the different
##! settings that can be configured by this file, which may be found at:
##! https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template


## GitLab URL
##! URL on which GitLab will be reachable.
##! For more details on configuring external_url see:
##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab[m
external_url [35m'[m[31mhttp://192.168.99.20[m[35m'[m

[34m## Roles for multi-instance GitLab
##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.
##! Options:
##!   redis_sentinel_role redis_master_role redis_slave_role geo_primary_role geo_secondary_role
##! For more details on each role, see:
##! https://docs.gitlab.com/omnibus/roles/README.html#roles
##!
# roles ['redis_sentinel_role', 'redis_master_role']

## Legend
##! The following notations at the beginning of each line may be used to
##! differentiate between components of this file and to easily select them using
##! a regex.
##! ## Titles, subtitles etc
##! ##! More information - Description, Docs, Links, Issues etc.
##! Configuration settings have a single # followed by a single space at the
##! beginning; Remove them to enable the setting.

##! **Configuration settings below are optional.**
##! **The values currently assigned are only examples and ARE NOT the default
##!   values.**


################################################################################
################################################################################
##                Configuration Settings for GitLab CE and EE                 ##
################################################################################
################################################################################[m[44;153H1,1[11CTop[1;1H[?12l[?25h[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7,0-1[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9,1  [9;1H[?12l[?25h[?25l[44;153H10,1[10;1H[?12l[?25h[?25l[44;154H1[11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25l[44;156H8[13;8H[?12l[?25h[?25l[44;156H9[13;9H[?12l[?25h[?25l[44;156H10[13;10H[?12l[?25h[?25l[44;157H1[13;11H[?12l[?25h[?25l[44;157H2[13;12H[?12l[?25h[?25l[44;157H3[13;13H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H9[13;19H[?12l[?25h[?25l[44;156H20[13;20H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;157H2[13;22H[?12l[?25h[?25l[44;157H3[13;23H[?12l[?25h[?25l[44;157H4[13;24H[?12l[?25h[?25l[44;157H5[13;25H[?12l[?25h[?25l[44;157H6[13;26H[?12l[?25h[?25l[44;157H7[13;27H[?12l[?25h[?25l[44;157H8[13;28H[?12l[?25h[?25l[44;157H9[13;29H[?12l[?25h[?25l[44;156H30[13;30H[?12l[?25h[?25l[44;157H1[13;31H[?12l[?25h[?25l[44;157H2[13;32H[?12l[?25h[?25l[44;157H3[13;33H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;153H[K[44;153H13,33[9CTop[13;33H[31m0[m[35m'[m[13;35H[K[13;33H[?12l[?25h[?25l[31m10[m[35m'[m[44;157H4[13;34H[?12l[?25h[44;1H[K[13;33H[?25l[44;153H13,33[9CTop[13;33H[?12l[?25h[?25l[31m9[m[35m'[m[13;35H[K[13;33H[?12l[?25h[?25l[44;154H2[12;33H[?12l[?25h[?25l[44;154H1[11;33H[?12l[?25h[?25l[44;154H0[10;33H[?12l[?25h[?25l[44;154H1[11;33H[?12l[?25h[?25l[44;154H2[12;33H[?12l[?25h[?25l[44;154H3[13;33H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H3,33 [13;33H[?12l[?25h[?25l[31m8[?12l[?25h[?25l7[?12l[?25h[?25l8[?12l[?25h[?25l9[?12l[?25h[?25l10[m[35m'[m[44;157H4[13;34H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"gitlab.rb" 1934L, 82862C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# ss -lntp
State      Recv-Q Send-Q                                        Local Address:Port                                                       Peer Address:Port              
LISTEN     0      128                                                       *:80                                                                    *:*                   users:(("nginx",pid=1326,fd=6),("nginx",pid=1325,fd=6),("nginx",pid=1324,fd=6))
LISTEN     0      128                                                       *:22                                                                    *:*                   users:(("sshd",pid=1294,fd=3))
LISTEN     0      128                                                      :::80                                                                   :::*                   users:(("nginx",pid=1326,fd=7),("nginx",pid=1325,fd=7),("nginx",pid=1324,fd=7))
LISTEN     0      128                                                      :::22                                                                   :::*                   users:(("sshd",pid=1294,fd=4))
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# service nginx stop
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# syse[Ktemctl disable nginx
Synchronizing state of nginx.service with SysV init with /lib/systemd/systemd-sysv-install...
Executing /lib/systemd/systemd-sysv-install disable nginx
insserv: warning: current start runlevel(s) (empty) of script `nginx' overrides LSB defaults (2 3 4 5).
insserv: warning: current stop runlevel(s) (0 1 2 3 4 5 6) of script `nginx' overrides LSB defaults (0 1 6).
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# iptables -nL
Chain INPUT (policy ACCEPT)
target     prot opt source               destination         

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination         

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination         
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# syst[K[K[K[Kiptables -nLsystemctl disable nginx[5Pervice nginx stop[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kystemctl stop nginx puppet.service [K[K[K[K[K[K[K[K[Kse[K[K.service 
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# systemctl stop nginx puppet.service [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[24Piptables -nLsystemctl disable nginx[5Pervice nginx stop[10Ps -lntpervice nginx stop[10Ps -lntp
State      Recv-Q Send-Q                                        Local Address:Port                                                       Peer Address:Port              
LISTEN     0      128                                                       *:22                                                                    *:*                   users:(("sshd",pid=1294,fd=3))
LISTEN     0      128                                                      :::22                                                                   :::*                   users:(("sshd",pid=1294,fd=4))
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# free -h
              total        used        free      shared  buff/cache   available
Mem:           3.9G         65M        1.2G         14M        2.6G        3.5G
Swap:            0B          0B          0B
]0;root@devops: /etc/gitlabroot@devops:/etc/gitlab# cd
]0;root@devops: ~root@devops:~# [H[2J]0;root@devops: ~root@devops:~# git
git                 gitlab-psql         gitlab-rake         git-shell           git-upload-pack     
gitlab-ctl          gitlab-rails        git-receive-pack    git-upload-archive  
]0;root@devops: ~root@devops:~# gitlab-ctl recongi[K[Kfiru[K[Kgure
Starting Chef Client, version 13.6.4[0m
resolving cookbooks for run list: ["gitlab"][0m
Synchronizing Cookbooks:[0m
  - gitlab (0.0.1)[0m
  - package (0.1.0)[0m
  - postgresql (0.1.0)[0m
  - redis (0.1.0)[0m
  - registry (0.1.0)[0m
  - mattermost (0.1.0)[0m
  - gitaly (0.1.0)[0m
  - consul (0.0.0)[0m
  - runit (0.14.2)[0m
  - letsencrypt (0.1.0)[0m
  - nginx (0.1.0)[0m
  - acme (3.1.0)[0m
  - crond (0.1.0)[0m
  - compat_resource (12.19.0)[0m
Installing Cookbook Gems:[0m
Compiling Cookbooks...[0m
Recipe: gitlab::default[0m
  * directory[/etc/gitlab] action create
    [32m- change mode from '0755' to '0775'[0m
[0m  Converging 484 resources[0m
  * directory[/etc/gitlab] action create (up to date)
  * directory[Create /var/opt/gitlab] action create
    [32m- create new directory /var/opt/gitlab[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/embedded/etc] action create
    [32m- create new directory /opt/gitlab/embedded/etc[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/embedded/etc/gitconfig] action create
    [32m- create new file /opt/gitlab/embedded/etc/gitconfig[0m
    [32m- update content in file /opt/gitlab/embedded/etc/gitconfig from none to 987af3[0m
    [37m--- /opt/gitlab/embedded/etc/gitconfig	2018-12-19 22:12:57.088062340 +0000[0m
    [37m+++ /opt/gitlab/embedded/etc/.chef-gitconfig20181219-14209-1oz9c3h	2018-12-19 22:12:57.088062340 +0000[0m
    [37m@@ -1 +1,11 @@[0m
    [37m+[pack][0m
    [37m+  threads = 1[0m
    [37m+[receive][0m
    [37m+  fsckObjects = true[0m
    [37m+advertisePushOptions = true[0m
    [37m+[repack][0m
    [37m+  writeBitmaps = true[0m
    [37m+[transfer][0m
    [37m+  hideRefs=^refs/tmp/[0m
    [37m+hideRefs=^refs/keep-around/[0m
    [32m- change mode from '' to '0755'[0m
[0mRecipe: gitlab::web-server[0m
  * account[Webserver user and group] action create
    * group[Webserver user and group] action create
      [32m- create group gitlab-www[0m
[0m    * linux_user[Webserver user and group] action create
      [32m- create user gitlab-www[0m
[0m  
[0mRecipe: gitlab::users[0m
  * directory[/var/opt/gitlab] action create (up to date)
  * account[GitLab user and group] action create
    * group[GitLab user and group] action create
      [32m- create group git[0m
[0m    * linux_user[GitLab user and group] action create
      [32m- create user git[0m
[0m  
[0m  * template[/var/opt/gitlab/.gitconfig] action create
    [32m- create new file /var/opt/gitlab/.gitconfig[0m
    [32m- update content in file /var/opt/gitlab/.gitconfig from none to ddd4d0[0m
    [37m--- /var/opt/gitlab/.gitconfig	2018-12-19 22:12:57.655778340 +0000[0m
    [37m+++ /var/opt/gitlab/.chef-.gitconfig20181219-14209-13tuggw.gitconfig	2018-12-19 22:12:57.655778340 +0000[0m
    [37m@@ -1 +1,12 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m+[user][0m
    [37m+        name = GitLab[0m
    [37m+        email = gitlab@192.168.99.10[0m
    [37m+[core][0m
    [37m+        autocrlf = input[0m
    [37m+[gc][0m
    [37m+        auto = 0[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'git'[0m
    [32m- change group from '' to 'git'[0m
[0m  * directory[/var/opt/gitlab/.bundle] action create
    [32m- create new directory /var/opt/gitlab/.bundle[0m
    [32m- change owner from '' to 'git'[0m
    [32m- change group from '' to 'git'[0m
[0mRecipe: gitlab::gitlab-shell[0m
  * storage_directory[/var/opt/gitlab/.ssh] action create
    * ruby_block[directory resource: /var/opt/gitlab/.ssh] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/.ssh[0m
[0m  
[0m  * directory[/var/log/gitlab/gitlab-shell/] action create
    [32m- create new directory /var/log/gitlab/gitlab-shell/[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/var/opt/gitlab/gitlab-shell] action create
    [32m- create new directory /var/opt/gitlab/gitlab-shell[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * templatesymlink[Create a config.yml and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-shell/config.yml] action create
      [32m- create new file /var/opt/gitlab/gitlab-shell/config.yml[0m
      [32m- update content in file /var/opt/gitlab/gitlab-shell/config.yml from none to d824f9[0m
      [37m--- /var/opt/gitlab/gitlab-shell/config.yml	2018-12-19 22:12:58.083564340 +0000[0m
      [37m+++ /var/opt/gitlab/gitlab-shell/.chef-config20181219-14209-13n1o2k.yml	2018-12-19 22:12:58.083564340 +0000[0m
      [37m@@ -1 +1,44 @@[0m
      [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
      [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
      [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
      [37m+[0m
      [37m+# GitLab user. git by default[0m
      [37m+user: git[0m
      [37m+[0m
      [37m+# Url to gitlab instance. Used for api calls. Should end with a slash.[0m
      [37m+gitlab_url: "http://127.0.0.1:8080"[0m
      [37m+[0m
      [37m+http_settings:[0m
      [37m+  [0m
      [37m+#  user: someone[0m
      [37m+#  password: somepass[0m
      [37m+#  ca_file: /etc/ssl/cert.pem[0m
      [37m+#  ca_path: /etc/pki/tls/certs[0m
      [37m+#  self_signed_cert: false[0m
      [37m+[0m
      [37m+# File used as authorized_keys for gitlab user[0m
      [37m+auth_file: "/var/opt/gitlab/.ssh/authorized_keys"[0m
      [37m+[0m
      [37m+# Redis settings used for pushing commit notices to gitlab[0m
      [37m+redis:[0m
      [37m+  host: 127.0.0.1[0m
      [37m+  port: [0m
      [37m+  socket: /var/opt/gitlab/redis/redis.socket[0m
      [37m+  database: [0m
      [37m+  namespace: resque:gitlab[0m
      [37m+[0m
      [37m+# Log file.[0m
      [37m+# Default is gitlab-shell.log in the root directory.[0m
      [37m+log_file: "/var/log/gitlab/gitlab-shell/gitlab-shell.log"[0m
      [37m+[0m
      [37m+# Log level. INFO by default[0m
      [37m+log_level: [0m
      [37m+[0m
      [37m+[0m
      [37m+# Audit usernames.[0m
      [37m+# Set to true to see real usernames in the logs instead of key ids, which is easier to follow, but[0m
      [37m+# incurs an extra API call on every gitlab-shell command.[0m
      [37m+audit_usernames: [0m
      [37m+[0m
      [37m+[0m
      [32m- change mode from '' to '0640'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'git'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-shell/config.yml to /var/opt/gitlab/gitlab-shell/config.yml] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-shell/config.yml to /var/opt/gitlab/gitlab-shell/config.yml[0m
[0m  
[0m  * link[/opt/gitlab/embedded/service/gitlab-shell/.gitlab_shell_secret] action create
    [32m- create symlink at /opt/gitlab/embedded/service/gitlab-shell/.gitlab_shell_secret to /opt/gitlab/embedded/service/gitlab-rails/.gitlab_shell_secret[0m
[0m  * execute[/opt/gitlab/embedded/service/gitlab-shell/bin/gitlab-keys check-permissions] action run
    [32m- execute /opt/gitlab/embedded/service/gitlab-shell/bin/gitlab-keys check-permissions[0m
[0m  * bash[Set proper security context on ssh files for selinux] action run (skipped due to only_if)
Recipe: gitlab::gitlab-rails[0m
  * storage_directory[/var/opt/gitlab/git-data] action create
    * ruby_block[directory resource: /var/opt/gitlab/git-data] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/git-data[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/git-data/repositories] action create
    * ruby_block[directory resource: /var/opt/gitlab/git-data/repositories] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/git-data/repositories[0m
[0m  
[0m  * directory[/var/log/gitlab] action create
    [32m- change owner from 'root' to 'git'[0m
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared/artifacts] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared/artifacts] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared/artifacts[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared/lfs-objects] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared/lfs-objects] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared/lfs-objects[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared/packages] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared/packages] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared/packages[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/uploads] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/uploads] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/uploads[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-ci/builds] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-ci/builds] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-ci/builds[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared/cache] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared/cache] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared/cache[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared/tmp] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared/tmp] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared/tmp[0m
[0m  
[0m  * storage_directory[/var/opt/gitlab/gitlab-rails/shared/pages] action create
    * ruby_block[directory resource: /var/opt/gitlab/gitlab-rails/shared/pages] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/gitlab-rails/shared/pages[0m
[0m  
[0m  * directory[create /var/opt/gitlab/gitlab-rails/etc] action create
    [32m- create new directory /var/opt/gitlab/gitlab-rails/etc[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[create /opt/gitlab/etc/gitlab-rails] action create
    [32m- create new directory /opt/gitlab/etc/gitlab-rails[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[create /var/opt/gitlab/gitlab-rails/working] action create
    [32m- create new directory /var/opt/gitlab/gitlab-rails/working[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[create /var/opt/gitlab/gitlab-rails/tmp] action create
    [32m- create new directory /var/opt/gitlab/gitlab-rails/tmp[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[create /var/opt/gitlab/gitlab-rails/upgrade-status] action create
    [32m- create new directory /var/opt/gitlab/gitlab-rails/upgrade-status[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[create /var/log/gitlab/gitlab-rails] action create
    [32m- create new directory /var/log/gitlab/gitlab-rails[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * storage_directory[/var/opt/gitlab/backups] action create
    * ruby_block[directory resource: /var/opt/gitlab/backups] action run
      [32m- execute the ruby block directory resource: /var/opt/gitlab/backups[0m
[0m  
[0m  * directory[/var/opt/gitlab/gitlab-rails] action create
    [32m- change owner from 'root' to 'git'[0m
[0m  * directory[/var/opt/gitlab/gitlab-ci] action create
    [32m- change owner from 'root' to 'git'[0m
[0m  * file[/var/opt/gitlab/gitlab-rails/etc/gitlab-registry.key] action create (skipped due to only_if)
  * template[/opt/gitlab/etc/gitlab-rails/gitlab-rails-rc] action create
    [32m- create new file /opt/gitlab/etc/gitlab-rails/gitlab-rails-rc[0m
    [32m- update content in file /opt/gitlab/etc/gitlab-rails/gitlab-rails-rc from none to 81d695[0m
    [37m--- /opt/gitlab/etc/gitlab-rails/gitlab-rails-rc	2018-12-19 22:13:01.653778340 +0000[0m
    [37m+++ /opt/gitlab/etc/gitlab-rails/.chef-gitlab-rails-rc20181219-14209-1wpz7p	2018-12-19 22:13:01.653778340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+gitlab_user='git'[0m
    [37m+gitlab_group='git'[0m
[0m  * file[/opt/gitlab/embedded/service/gitlab-rails/.secret] action delete (up to date)
  * file[/var/opt/gitlab/gitlab-rails/etc/secret] action delete (up to date)
  * templatesymlink[Create a database.yml and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/database.yml] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/database.yml[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/database.yml from none to ba7f50[0m
      [37m--- /var/opt/gitlab/gitlab-rails/etc/database.yml	2018-12-19 22:13:01.669770340 +0000[0m
      [37m+++ /var/opt/gitlab/gitlab-rails/etc/.chef-database20181219-14209-m876gl.yml	2018-12-19 22:13:01.669770340 +0000[0m
      [37m@@ -1 +1,24 @@[0m
      [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
      [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
      [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
      [37m+[0m
      [37m+production:[0m
      [37m+  adapter: postgresql[0m
      [37m+  encoding: unicode[0m
      [37m+  collation: [0m
      [37m+  database: gitlabhq_production[0m
      [37m+  pool: 10[0m
      [37m+  username: "gitlab"[0m
      [37m+  password: [0m
      [37m+  host: "/var/opt/gitlab/postgresql"[0m
      [37m+  port: 5432[0m
      [37m+  socket: [0m
      [37m+  sslmode: [0m
      [37m+  sslcompression: 0[0m
      [37m+  sslrootcert: [0m
      [37m+  sslca: [0m
      [37m+  load_balancing: {"hosts":[]}[0m
      [37m+  prepared_statements: false[0m
      [37m+  statements_limit: 1000[0m
      [37m+  fdw: [0m
      [32m- change mode from '' to '0640'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'git'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/config/database.yml to /var/opt/gitlab/gitlab-rails/etc/database.yml] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/config/database.yml to /var/opt/gitlab/gitlab-rails/etc/database.yml[0m
[0m  
[0m  * templatesymlink[Create a secrets.yml and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/secrets.yml] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/secrets.yml[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/secrets.yml from none to 3968b0[0m
      [32m- suppressed sensitive resource[0m
      [32m- change mode from '' to '0644'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'root'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/config/secrets.yml to /var/opt/gitlab/gitlab-rails/etc/secrets.yml] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/config/secrets.yml to /var/opt/gitlab/gitlab-rails/etc/secrets.yml[0m
[0m  
[0m  * templatesymlink[Create a resque.yml and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/resque.yml] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/resque.yml[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/resque.yml from none to ec4232[0m
      [37m--- /var/opt/gitlab/gitlab-rails/etc/resque.yml	2018-12-19 22:13:01.705752340 +0000[0m
      [37m+++ /var/opt/gitlab/gitlab-rails/etc/.chef-resque20181219-14209-t95gu6.yml	2018-12-19 22:13:01.705752340 +0000[0m
      [37m@@ -1 +1,3 @@[0m
      [37m+production:[0m
      [37m+  url: unix:/var/opt/gitlab/redis/redis.socket[0m
      [32m- change mode from '' to '0644'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'root'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/config/resque.yml to /var/opt/gitlab/gitlab-rails/etc/resque.yml] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/config/resque.yml to /var/opt/gitlab/gitlab-rails/etc/resque.yml[0m
[0m  
[0m  * templatesymlink[Create a redis.cache.yml and create a symlink to Rails root] action create (skipped due to not_if)
  * templatesymlink[Create a redis.queues.yml and create a symlink to Rails root] action create (skipped due to not_if)
  * templatesymlink[Create a redis.shared_state.yml and create a symlink to Rails root] action create (skipped due to not_if)
  * templatesymlink[Create a smtp_settings.rb and create a symlink to Rails root] action delete
    * file[/var/opt/gitlab/gitlab-rails/etc/smtp_settings.rb] action delete (up to date)
    * link[/opt/gitlab/embedded/service/gitlab-rails/config/initializers/smtp_settings.rb] action delete (up to date)
     (up to date)
  * templatesymlink[Create a gitlab.yml and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/gitlab.yml] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/gitlab.yml[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/gitlab.yml from none to b4150d[0m
      [37m--- /var/opt/gitlab/gitlab-rails/etc/gitlab.yml	2018-12-19 22:13:01.729740339 +0000[0m
      [37m+++ /var/opt/gitlab/gitlab-rails/etc/.chef-gitlab20181219-14209-1sc1cp0.yml	2018-12-19 22:13:01.729740339 +0000[0m
      [37m@@ -1 +1,543 @@[0m
      [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
      [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
      [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
      [37m+[0m
      [37m+production: &base[0m
      [37m+  #[0m
      [37m+  # 1. GitLab app settings[0m
      [37m+  # ==========================[0m
      [37m+[0m
      [37m+  ## GitLab settings[0m
      [37m+  gitlab:[0m
      [37m+    ## Web server settings (note: host is the FQDN, do not include http://)[0m
      [37m+    host: 192.168.99.10[0m
      [37m+    port: 80[0m
      [37m+    https: false[0m
      [37m+[0m
      [37m+    # Uncommment this line below if your ssh host is different from HTTP/HTTPS one[0m
      [37m+    # (you'd obviously need to replace ssh.host_example.com with your own host).[0m
      [37m+    # Otherwise, ssh host will be set to the `host:` value above[0m
      [37m+    ssh_host: [0m
      [37m+[0m
      [37m+    # WARNING: See config/application.rb under "Relative url support" for the list of[0m
      [37m+    # other files that need to be changed for relative url support[0m
      [37m+    relative_url_root: [0m
      [37m+[0m
      [37m+    # Trusted Proxies[0m
      [37m+    # Customize if you have GitLab behind a reverse proxy which is running on a different machine.[0m
      [37m+    # Add the IP address for your reverse proxy to the list, otherwise users will appear signed in from that address.[0m
      [37m+    trusted_proxies:[0m
      [37m+[0m
      [37m+    # Uncomment and customize if you can't use the default user to run GitLab (default: 'git')[0m
      [37m+    user: git[0m
      [37m+[0m
      [37m+    ## Date & Time settings[0m
      [37m+    time_zone: [0m
      [37m+[0m
      [37m+    ## Email settings[0m
      [37m+    # Uncomment and set to false if you need to disable email sending from GitLab (default: true)[0m
      [37m+    email_enabled: [0m
      [37m+    # Email address used in the "From" field in mails sent by GitLab[0m
      [37m+    email_from: gitlab@192.168.99.10[0m
      [37m+    email_display_name: [0m
      [37m+    email_reply_to: [0m
      [37m+    email_subject_suffix: [0m
      [37m+[0m
      [37m+    # Email server smtp settings are in [a separate file](initializers/smtp_settings.rb.sample).[0m
      [37m+[0m
      [37m+    ## User settings[0m
      [37m+    default_can_create_group:   # default: true[0m
      [37m+    username_changing_enabled:  # default: true - User can change her username/namespace[0m
      [37m+    ## Default theme[0m
      [37m+    ##   1 - Graphite[0m
      [37m+    ##   2 - Charcoal[0m
      [37m+    ##   3 - Green[0m
      [37m+    ##   4 - Gray[0m
      [37m+    ##   5 - Violet[0m
      [37m+    ##   6 - Blue[0m
      [37m+    default_theme:  # default: 2[0m
      [37m+[0m
      [37m+    ## Automatic issue closing[0m
      [37m+    # If a commit message matches this regular expression, all issues referenced from the matched text will be closed.[0m
      [37m+    # This happens when the commit is pushed or merged into the default branch of a project.[0m
      [37m+    # When not specified the default issue_closing_pattern as specified below will be used.[0m
      [37m+    # Tip: you can test your closing pattern at http://rubular.com[0m
      [37m+    issue_closing_pattern: [0m
      [37m+[0m
      [37m+    ## Default project features settings[0m
      [37m+    default_projects_features:[0m
      [37m+      issues: [0m
      [37m+      merge_requests: [0m
      [37m+      wiki: [0m
      [37m+      snippets: [0m
      [37m+      builds: [0m
      [37m+      container_registry: [0m
      [37m+[0m
      [37m+    ## Webhook settings[0m
      [37m+    # Number of seconds to wait for HTTP response after sending webhook HTTP POST request (default: 10)[0m
      [37m+    webhook_timeout: [0m
      [37m+[0m
      [37m+    ## Repository downloads directory[0m
      [37m+    # When a user clicks e.g. 'Download zip' on a project, a temporary zip file is created in the following directory.[0m
      [37m+    # The default is 'tmp/repositories' relative to the root of the Rails app.[0m
      [37m+    repository_downloads_path: [0m
      [37m+[0m
      [37m+    usage_ping_enabled: [0m
      [37m+[0m
      [37m+  ## Reply by email[0m
      [37m+  # Allow users to comment on issues and merge requests by replying to notification emails.[0m
      [37m+  # For documentation on how to set this up, see https://docs.gitlab.com/ce/administration/reply_by_email.html[0m
      [37m+  incoming_email:[0m
      [37m+    enabled: false[0m
      [37m+[0m
      [37m+    # The email address including the `%{key}` placeholder that will be replaced to reference the item being replied to.[0m
      [37m+    # The placeholder can be omitted but if present, it must appear in the "user" part of the address (before the `@`).[0m
      [37m+    address: [0m
      [37m+[0m
      [37m+    # Email account username[0m
      [37m+    # With third party providers, this is usually the full email address.[0m
      [37m+    # With self-hosted email servers, this is usually the user part of the email address.[0m
      [37m+    user: [0m
      [37m+    # Email account password[0m
      [37m+    password: [0m
      [37m+[0m
      [37m+    # IMAP server host[0m
      [37m+    host: [0m
      [37m+    # IMAP server port[0m
      [37m+    port: [0m
      [37m+    # Whether the IMAP server uses SSL[0m
      [37m+    ssl: [0m
      [37m+    # Whether the IMAP server uses StartTLS[0m
      [37m+    start_tls: [0m
      [37m+[0m
      [37m+    # The mailbox where incoming mail will end up. Usually "inbox".[0m
      [37m+    mailbox: "inbox"[0m
      [37m+    # The IDLE command timeout.[0m
      [37m+    idle_timeout: [0m
      [37m+[0m
      [37m+  ## Build Artifacts[0m
      [37m+  artifacts:[0m
      [37m+    enabled: true[0m
      [37m+    # The location where Build Artifacts are stored (default: shared/artifacts).[0m
      [37m+    path: /var/opt/gitlab/gitlab-rails/shared/artifacts[0m
      [37m+    object_store:[0m
      [37m+      enabled: false[0m
      [37m+      direct_upload: false[0m
      [37m+      background_upload: true[0m
      [37m+      proxy_download: false[0m
      [37m+      remote_directory: "artifacts"[0m
      [37m+      connection: {}[0m
      [37m+[0m
      [37m+  ## Git LFS[0m
      [37m+  lfs:[0m
      [37m+    enabled: [0m
      [37m+    # The location where LFS objects are stored (default: shared/lfs-objects).[0m
      [37m+    storage_path: /var/opt/gitlab/gitlab-rails/shared/lfs-objects[0m
      [37m+    object_store:[0m
      [37m+      enabled: false[0m
      [37m+      direct_upload: false[0m
      [37m+      background_upload: true[0m
      [37m+      proxy_download: false[0m
      [37m+      remote_directory: "lfs-objects"[0m
      [37m+      connection: {}[0m
      [37m+[0m
      [37m+  ## Uploads[0m
      [37m+  uploads:[0m
      [37m+    # The location where uploads objects are stored (default: public/).[0m
      [37m+    storage_path: /opt/gitlab/embedded/service/gitlab-rails/public[0m
      [37m+    object_store:[0m
      [37m+      enabled: false[0m
      [37m+      direct_upload: false[0m
      [37m+      background_upload: true[0m
      [37m+      proxy_download: false[0m
      [37m+      remote_directory: "uploads"[0m
      [37m+      connection: {}[0m
      [37m+[0m
      [37m+  ## Packages (maven repository so far) EE only[0m
      [37m+  packages:[0m
      [37m+    enabled: [0m
      [37m+    # The location where build packages are stored (default: shared/packages).[0m
      [37m+    storage_path: /var/opt/gitlab/gitlab-rails/shared/packages[0m
      [37m+    object_store:[0m
      [37m+      enabled: false[0m
      [37m+      direct_upload: false[0m
      [37m+      background_upload: true[0m
      [37m+      proxy_download: false[0m
      [37m+      remote_directory: "packages"[0m
      [37m+      connection: {}[0m
      [37m+[0m
      [37m+  ## Container Registry[0m
      [37m+  registry:[0m
      [37m+    enabled: false[0m
      [37m+    host: [0m
      [37m+    port: [0m
      [37m+    api_url:  # internal address to the registry, will be used by GitLab to directly communicate with API[0m
      [37m+    path: [0m
      [37m+    key: /var/opt/gitlab/gitlab-rails/etc/gitlab-registry.key[0m
      [37m+    issuer: omnibus-gitlab-issuer[0m
      [37m+[0m
      [37m+  mattermost:[0m
      [37m+    enabled: false[0m
      [37m+    host: [0m
      [37m+[0m
      [37m+  ## GitLab Pages[0m
      [37m+  pages:[0m
      [37m+    enabled: false[0m
      [37m+    access_control: false[0m
      [37m+    path: /var/opt/gitlab/gitlab-rails/shared/pages[0m
      [37m+    host: [0m
      [37m+    port: [0m
      [37m+    https: false[0m
      [37m+    external_http: null[0m
      [37m+    external_https: null[0m
      [37m+    artifacts_server: true[0m
      [37m+    admin:[0m
      [37m+      address: unix:/var/opt/gitlab/gitlab-pages/admin.socket[0m
      [37m+      certificate: [0m
      [37m+[0m
      [37m+  ## Gravatar[0m
      [37m+  ## For Libravatar see: https://docs.gitlab.com/ce/customization/libravatar.html[0m
      [37m+  gravatar:[0m
      [37m+    # gravatar urls: possible placeholders: %{hash} %{size} %{email}[0m
      [37m+    plain_url:      # default: http://www.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon[0m
      [37m+    ssl_url:       # default: https://secure.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon[0m
      [37m+[0m
      [37m+  ## Sidekiq[0m
      [37m+  sidekiq:[0m
      [37m+    log_format: default[0m
      [37m+[0m
      [37m+  ## Auxiliary jobs[0m
      [37m+  # Periodically executed jobs, to self-heal GitLab, do external synchronizations, etc.[0m
      [37m+  # Please read here for more information: https://github.com/ondrejbartas/sidekiq-cron#adding-cron-job[0m
      [37m+  cron_jobs:[0m
      [37m+    # Flag stuck CI builds as failed[0m
      [37m+    stuck_ci_jobs_worker:[0m
      [37m+      cron:[0m
      [37m+    # Remove expired build artifacts[0m
      [37m+    expire_build_artifacts_worker:[0m
      [37m+      cron:[0m
      [37m+    # Schedule pipelines in the near future[0m
      [37m+    pipeline_schedule_worker:[0m
      [37m+      cron:[0m
      [37m+    # Periodically run 'git fsck' on all repositories. If started more than[0m
      [37m+    # once per hour you will have concurrent 'git fsck' jobs.[0m
      [37m+    repository_check_worker:[0m
      [37m+      cron:[0m
      [37m+    # Send admin emails once a week[0m
      [37m+    admin_email_worker:[0m
      [37m+      cron:[0m
      [37m+[0m
      [37m+    # Remove outdated repository archives[0m
      [37m+    repository_archive_cache_worker:[0m
      [37m+      cron:[0m
      [37m+[0m
      [37m+    # Archive live traces which have not been archived yet[0m
      [37m+    ci_archive_traces_cron_worker:[0m
      [37m+      cron:[0m
      [37m+[0m
      [37m+    # Verify custom GitLab Pages domains[0m
      [37m+    pages_domain_verification_cron_worker:[0m
      [37m+      cron:[0m
      [37m+[0m
      [37m+    ##[0m
      [37m+    # GitLab EE only jobs:[0m
      [37m+[0m
      [37m+    # Snapshot active users statistics[0m
      [37m+[0m
      [37m+    # In addition to refreshing users when they log in,[0m
      [37m+    # periodically refresh LDAP users membership.[0m
      [37m+    # NOTE: This will only take effect if LDAP is enabled[0m
      [37m+[0m
      [37m+    # GitLab LDAP group sync worker[0m
      [37m+    # NOTE: This will only take effect if LDAP is enabled[0m
      [37m+[0m
      [37m+    # GitLab Geo prune event log worker[0m
      [37m+    # NOTE: This will only take effect if Geo is enabled (primary node only)[0m
      [37m+[0m
      [37m+    # GitLab Geo repository sync worker[0m
      [37m+    # NOTE: This will only take effect if Geo is enabled[0m
      [37m+[0m
      [37m+    # GitLab Geo file download dispatch worker[0m
      [37m+    # NOTE: This will only take effect if Geo is enabled[0m
      [37m+[0m
      [37m+    # GitLab Geo repository verification primary batch worker[0m
      [37m+    # NOTE: This will only take effect if Geo is enabled[0m
      [37m+[0m
      [37m+    # GitLab Geo repository verification secondary scheduler worker[0m
      [37m+    # NOTE: This will only take effect if Geo is enabled[0m
      [37m+[0m
      [37m+    # GitLab Geo migrated local files clean up worker[0m
      [37m+    # NOTE: This will only take effect if Geo is enabled (secondary nodes only)[0m
      [37m+[0m
      [37m+    # Export pseudonymized data in CSV format for analysis[0m
      [37m+[0m
      [37m+  #[0m
      [37m+  # 2. GitLab CI settings[0m
      [37m+  # ==========================[0m
      [37m+[0m
      [37m+  gitlab_ci:[0m
      [37m+    # Default project notifications settings:[0m
      [37m+    #[0m
      [37m+    # Send emails only on broken builds (default: true)[0m
      [37m+    all_broken_builds: [0m
      [37m+    #[0m
      [37m+    # Add pusher to recipients list (default: false)[0m
      [37m+    add_pusher: [0m
      [37m+[0m
      [37m+    # The location where build traces are stored (default: builds/). Relative paths are relative to Rails.root[0m
      [37m+    builds_path: /var/opt/gitlab/gitlab-ci/builds[0m
      [37m+[0m
      [37m+  #[0m
      [37m+  # 3. Auth settings[0m
      [37m+  # ==========================[0m
      [37m+[0m
      [37m+  ## LDAP settings[0m
      [37m+  # You can inspect a sample of the LDAP users with login access by running:[0m
      [37m+  #   bundle exec rake gitlab:ldap:check RAILS_ENV=production[0m
      [37m+  ldap:[0m
      [37m+    enabled: false[0m
      [37m+    sync_time: [0m
      [37m+    host: [0m
      [37m+    port: [0m
      [37m+    uid: [0m
      [37m+    method:  # "tls" or "ssl" or "plain"[0m
      [37m+    bind_dn: [0m
      [37m+    password: [0m
      [37m+    active_directory: [0m
      [37m+    allow_username_or_email_login: [0m
      [37m+    lowercase_usernames: [0m
      [37m+    base: [0m
      [37m+    user_filter: [0m
      [37m+[0m
      [37m+    ## EE only[0m
      [37m+    group_base: [0m
      [37m+    admin_group: [0m
      [37m+    sync_ssh_keys: [0m
      [37m+    sync_time: [0m
      [37m+[0m
      [37m+  ## Kerberos settings[0m
      [37m+  kerberos:[0m
      [37m+    # Allow the HTTP Negotiate authentication method for Git clients[0m
      [37m+    enabled: [0m
      [37m+[0m
      [37m+    # Kerberos 5 keytab file. The keytab file must be readable by the GitLab user,[0m
      [37m+    # and should be different from other keytabs in the system.[0m
      [37m+    # (default: use default keytab from Krb5 config)[0m
      [37m+    keytab: [0m
      [37m+[0m
      [37m+    # The Kerberos service name to be used by GitLab.[0m
      [37m+    # (default: accept any service name in keytab file)[0m
      [37m+    service_principal_name: [0m
      [37m+[0m
      [37m+    # Dedicated port: Git before 2.4 does not fall back to Basic authentication if Negotiate fails.[0m
      [37m+    # To support both Basic and Negotiate methods with older versions of Git, configure[0m
      [37m+    # nginx to proxy GitLab on an extra port (e.g. 8443) and uncomment the following lines[0m
      [37m+    # to dedicate this port to Kerberos authentication. (default: false)[0m
      [37m+    use_dedicated_port: [0m
      [37m+    port: [0m
      [37m+    https: [0m
      [37m+[0m
      [37m+[0m
      [37m+  ## OmniAuth settings[0m
      [37m+  omniauth:[0m
      [37m+    # Allow login via Twitter, Google, etc. using OmniAuth providers[0m
      [37m+    enabled: [0m
      [37m+[0m
      [37m+    # Uncomment this to automatically sign in with a specific omniauth provider's without[0m
      [37m+    # showing GitLab's sign-in page (default: show the GitLab sign-in page)[0m
      [37m+    auto_sign_in_with_provider: [0m
      [37m+[0m
      [37m+    # Sync user's email address from the specified Omniauth provider every time the user logs[0m
      [37m+    # in (default: nil). And consequently make this field read-only.[0m
      [37m+[0m
      [37m+    # Sync user's profile from the specified Omniauth providers every time the user logs in (default: empty).[0m
      [37m+    # Define the allowed providers using an array, e.g. ["cas3", "saml", "twitter"],[0m
      [37m+    # or as true/false to allow all providers or none.[0m
      [37m+    # sync_profile_from_provider: [][0m
      [37m+[0m
      [37m+    # Select which info to sync from the providers above. (default: email).[0m
      [37m+    # Define the synced profile info using an array. Available options are "name", "email" and "location"[0m
      [37m+    # e.g. ["name", "email", "location"] or as true to sync all available.[0m
      [37m+    # This consequently will make the selected attributes read-only.[0m
      [37m+    # sync_profile_attributes: true[0m
      [37m+[0m
      [37m+    # CAUTION![0m
      [37m+    # This allows users to login without having a user account first. Define the allowed[0m
      [37m+    # providers using an array, e.g. ["saml", "twitter"][0m
      [37m+    # User accounts will be created automatically when authentication was successful.[0m
      [37m+    allow_single_sign_on: ["saml"][0m
      [37m+[0m
      [37m+    # Locks down those users until they have been cleared by the admin (default: true).[0m
      [37m+    block_auto_created_users: [0m
      [37m+    # Look up new users in LDAP servers. If a match is found (same uid), automatically[0m
      [37m+    # link the omniauth identity with the LDAP account. (default: false)[0m
      [37m+    auto_link_ldap_user: [0m
      [37m+[0m
      [37m+    # Allow users with existing accounts to login and auto link their account via SAML[0m
      [37m+    # login, without having to do a manual login first and manually add SAML[0m
      [37m+    # (default: false)[0m
      [37m+    auto_link_saml_user: null[0m
      [37m+[0m
      [37m+    # Set different Omniauth providers as external so that all users creating accounts[0m
      [37m+    # via these providers will not be able to have access to internal projects. You[0m
      [37m+    # will need to use the full name of the provider, like `google_oauth2` for Google.[0m
      [37m+    # Refer to the examples below for the full names of the supported providers.[0m
      [37m+    # (default: [])[0m
      [37m+    external_providers: null[0m
      [37m+[0m
      [37m+    ## Auth providers[0m
      [37m+    # Uncomment the following lines and fill in the data of the auth provider you want to use[0m
      [37m+    # If your favorite auth provider is not listed you can use others:[0m
      [37m+    # see https://github.com/gitlabhq/gitlab-public-wiki/wiki/Custom-omniauth-provider-configurations[0m
      [37m+    # The 'app_id' and 'app_secret' parameters are always passed as the first two[0m
      [37m+    # arguments, followed by optional 'args' which can be either a hash or an array.[0m
      [37m+    # Documentation for this is available at https://docs.gitlab.com/ce/integration/omniauth.html[0m
      [37m+    providers:[0m
      [37m+      # - { name: 'google_oauth2', app_id: 'YOUR APP ID',[0m
      [37m+      #     app_secret: 'YOUR APP SECRET',[0m
      [37m+      #     args: { access_type: 'offline', approval_prompt: '' } }[0m
      [37m+      # - { name: 'twitter', app_id: 'YOUR APP ID',[0m
      [37m+      #     app_secret: 'YOUR APP SECRET'}[0m
      [37m+      # - { name: 'github', app_id: 'YOUR APP ID',[0m
      [37m+      #     app_secret: 'YOUR APP SECRET',[0m
      [37m+      #     args: { scope: 'user:email' } }[0m
      [37m+[0m
      [37m+  # Shared file storage settings[0m
      [37m+  shared:[0m
      [37m+    path: /var/opt/gitlab/gitlab-rails/shared[0m
      [37m+[0m
      [37m+  # Gitaly settings[0m
      [37m+  # This setting controls whether GitLab uses Gitaly[0m
      [37m+  # Eventually Gitaly use will become mandatory and[0m
      [37m+  # this option will disappear.[0m
      [37m+  gitaly:[0m
      [37m+    client_path: /opt/gitlab/embedded/bin[0m
      [37m+    token: ""[0m
      [37m+[0m
      [37m+[0m
      [37m+  #[0m
      [37m+  # 4. Advanced settings[0m
      [37m+  # ==========================[0m
      [37m+[0m
      [37m+  ## Repositories settings[0m
      [37m+  repositories:[0m
      [37m+    # Paths where repositories can be stored. Give the canonicalized absolute pathname.[0m
      [37m+    # NOTE: REPOS PATHS MUST NOT CONTAIN ANY SYMLINK!!![0m
      [37m+    storages: {"default":{"path":"/var/opt/gitlab/git-data/repositories","gitaly_address":"unix:/var/opt/gitlab/gitaly/gitaly.socket"}}[0m
      [37m+[0m
      [37m+  ## Backup settings[0m
      [37m+  backup:[0m
      [37m+    path: "/var/opt/gitlab/backups"   # Relative paths are relative to Rails.root (default: tmp/backups/)[0m
      [37m+    archive_permissions:  # Permissions for the resulting backup.tar file (default: 0600)[0m
      [37m+    keep_time:    # default: 0 (forever) (in seconds)[0m
      [37m+    pg_schema:    # default: nil, it means that all schemas will be backed up[0m
      [37m+    upload:[0m
      [37m+      # Fog storage connection settings, see http://fog.io/storage/ .[0m
      [37m+      connection: [0m
      [37m+      # The remote 'directory' to store your backups. For S3, this would be the bucket name.[0m
      [37m+      remote_directory: [0m
      [37m+      multipart_chunk_size: [0m
      [37m+      encryption: [0m
      [37m+      storage_class: [0m
      [37m+[0m
      [37m+  ## Pseudonymizer settings[0m
      [37m+  pseudonymizer:[0m
      [37m+    manifest: [0m
      [37m+    upload:[0m
      [37m+      remote_directory: [0m
      [37m+      connection: {}[0m
      [37m+[0m
      [37m+  ## GitLab Shell settings[0m
      [37m+  gitlab_shell:[0m
      [37m+    path: /opt/gitlab/embedded/service/gitlab-shell/[0m
      [37m+    hooks_path: /opt/gitlab/embedded/service/gitlab-shell/hooks/[0m
      [37m+[0m
      [37m+    # Git over HTTP[0m
      [37m+    upload_pack: [0m
      [37m+    receive_pack: [0m
      [37m+[0m
      [37m+    # If you use non-standard ssh port you need to specify it[0m
      [37m+    ssh_port: [0m
      [37m+[0m
      [37m+    # Git import/fetch timeout[0m
      [37m+    git_timeout: 10800[0m
      [37m+[0m
      [37m+  ## Git settings[0m
      [37m+  # CAUTION![0m
      [37m+  # Use the default values unless you really know what you are doing[0m
      [37m+  git:[0m
      [37m+    bin_path: /opt/gitlab/embedded/bin/git[0m
      [37m+[0m
      [37m+  monitoring:[0m
      [37m+    # Time between sampling of unicorn socket metrics, in seconds[0m
      [37m+    unicorn_sampler_interval: 10[0m
      [37m+    # IP whitelist controlling access to monitoring endpoints[0m
      [37m+    ip_whitelist:[0m
      [37m+      - "127.0.0.0/8"[0m
      [37m+      - "::1/128"[0m
      [37m+    # Sidekiq exporter is webserver built in to Sidekiq to expose Prometheus metrics[0m
      [37m+    sidekiq_exporter:[0m
      [37m+      enabled: true[0m
      [37m+      address: 127.0.0.1[0m
      [37m+      port: 8082[0m
      [37m+[0m
      [37m+  #[0m
      [37m+  # 5. Extra customization[0m
      [37m+  # ==========================[0m
      [37m+[0m
      [37m+  extra:[0m
      [37m+[0m
      [37m+[0m
      [37m+  rack_attack:[0m
      [37m+    git_basic_auth: [0m
      [37m+[0m
      [37m+[0m
      [37m+development:[0m
      [37m+  <<: *base[0m
      [37m+[0m
      [37m+test:[0m
      [37m+  <<: *base[0m
      [37m+  gravatar:[0m
      [37m+    enabled: true[0m
      [37m+  gitlab:[0m
      [37m+    host: localhost[0m
      [37m+    port: 80[0m
      [37m+[0m
      [37m+    # When you run tests we clone and setup gitlab-shell[0m
      [37m+    # In order to setup it correctly you need to specify[0m
      [37m+    # your system username you use to run GitLab[0m
      [37m+    # user: YOUR_USERNAME[0m
      [37m+  repositories:[0m
      [37m+    storages:[0m
      [37m+      default: { "path": "tmp/tests/repositories/" }[0m
      [37m+  gitlab_shell:[0m
      [37m+    path: tmp/tests/gitlab-shell/[0m
      [37m+    hooks_path: tmp/tests/gitlab-shell/hooks/[0m
      [37m+  issues_tracker:[0m
      [37m+    redmine:[0m
      [37m+      title: "Redmine"[0m
      [37m+      project_url: "http://redmine/projects/:issues_tracker_id"[0m
      [37m+      issues_url: "http://redmine/:project_id/:issues_tracker_id/:id"[0m
      [37m+      new_issue_url: "http://redmine/projects/:issues_tracker_id/issues/new"[0m
      [37m+    jira:[0m
      [37m+      title: "JIRA"[0m
      [37m+      url: https://samplecompany.example.net[0m
      [37m+      project_key: PROJECT[0m
      [37m+  ldap:[0m
      [37m+    enabled: false[0m
      [37m+    servers:[0m
      [37m+      main:[0m
      [37m+        label: ldap[0m
      [37m+        host: 127.0.0.1[0m
      [37m+        port: 3890[0m
      [37m+        uid: 'uid'[0m
      [37m+        method: 'plain' # "tls" or "ssl" or "plain"[0m
      [37m+        base: 'dc=example,dc=com'[0m
      [37m+        user_filter: ''[0m
      [37m+        group_base: 'ou=groups,dc=example,dc=com'[0m
      [37m+        admin_group: ''[0m
      [37m+        sync_ssh_keys: false[0m
      [37m+[0m
      [37m+staging:[0m
      [37m+  <<: *base[0m
      [32m- change mode from '' to '0640'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'git'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml to /var/opt/gitlab/gitlab-rails/etc/gitlab.yml] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/config/gitlab.yml to /var/opt/gitlab/gitlab-rails/etc/gitlab.yml[0m
[0m  
[0m  * templatesymlink[Create a rack_attack.rb and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/rack_attack.rb] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/rack_attack.rb[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/rack_attack.rb from none to a61b95[0m
      [37m--- /var/opt/gitlab/gitlab-rails/etc/rack_attack.rb	2018-12-19 22:13:01.769720340 +0000[0m
      [37m+++ /var/opt/gitlab/gitlab-rails/etc/.chef-rack_attack20181219-14209-n4bp7c.rb	2018-12-19 22:13:01.769720340 +0000[0m
      [37m@@ -1 +1,32 @@[0m
      [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
      [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
      [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
      [37m+[0m
      [37m+# 1. Rename this file to rack_attack.rb[0m
      [37m+# 2. Review the paths_to_be_protected and add any other path you need protecting[0m
      [37m+#[0m
      [37m+[0m
      [37m+paths_to_be_protected = [[0m
      [37m+  "#{Rails.application.config.relative_url_root}/users/password",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/users/sign_in",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/api/#{API::API.version}/session.json",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/api/#{API::API.version}/session",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/users",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/users/confirmation",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/unsubscribes/",[0m
      [37m+  "#{Rails.application.config.relative_url_root}/import/github/personal_access_token",[0m
      [37m+][0m
      [37m+[0m
      [37m+# Create one big regular expression that matches strings starting with any of[0m
      [37m+# the paths_to_be_protected.[0m
      [37m+paths_regex = Regexp.union(paths_to_be_protected.map { |path| /\A#{Regexp.escape(path)}/ })[0m
      [37m+rack_attack_enabled = Gitlab.config.rack_attack.git_basic_auth['enabled'][0m
      [37m+[0m
      [37m+unless Rails.env.test? || !rack_attack_enabled[0m
      [37m+  Rack::Attack.throttle('protected paths', limit: 10, period: 60.seconds) do |req|[0m
      [37m+    if req.post? && req.path =~ paths_regex[0m
      [37m+      req.ip[0m
      [37m+    end[0m
      [37m+  end[0m
      [37m+end[0m
      [32m- change mode from '' to '0644'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'root'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/config/initializers/rack_attack.rb to /var/opt/gitlab/gitlab-rails/etc/rack_attack.rb] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/config/initializers/rack_attack.rb to /var/opt/gitlab/gitlab-rails/etc/rack_attack.rb[0m
[0m  
[0m  * templatesymlink[Create a gitlab_workhorse_secret and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/gitlab_workhorse_secret] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/gitlab_workhorse_secret[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/gitlab_workhorse_secret from none to ed5c14[0m
      [32m- suppressed sensitive resource[0m
      [32m- change mode from '' to '0644'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'root'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/.gitlab_workhorse_secret to /var/opt/gitlab/gitlab-rails/etc/gitlab_workhorse_secret] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/.gitlab_workhorse_secret to /var/opt/gitlab/gitlab-rails/etc/gitlab_workhorse_secret[0m
[0m  
[0m  * templatesymlink[Create a gitlab_shell_secret and create a symlink to Rails root] action create
    * template[/var/opt/gitlab/gitlab-rails/etc/gitlab_shell_secret] action create
      [32m- create new file /var/opt/gitlab/gitlab-rails/etc/gitlab_shell_secret[0m
      [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/gitlab_shell_secret from none to 718479[0m
      [32m- suppressed sensitive resource[0m
      [32m- change mode from '' to '0644'[0m
      [32m- change owner from '' to 'root'[0m
      [32m- change group from '' to 'root'[0m
[0m    * link[Link /opt/gitlab/embedded/service/gitlab-rails/.gitlab_shell_secret to /var/opt/gitlab/gitlab-rails/etc/gitlab_shell_secret] action create
      [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/.gitlab_shell_secret to /var/opt/gitlab/gitlab-rails/etc/gitlab_shell_secret[0m
[0m  
[0m  * templatesymlink[Create a gitlab_pages_secret and create a symlink to Rails root] action create (skipped due to only_if)
  * link[/opt/gitlab/embedded/service/gitlab-rails/config/initializers/relative_url.rb] action delete (up to date)
  * file[/var/opt/gitlab/gitlab-rails/etc/relative_url.rb] action delete (up to date)
  * env_dir[/opt/gitlab/etc/gitlab-rails/env] action create
    * directory[/opt/gitlab/etc/gitlab-rails/env] action create
      [32m- create new directory /opt/gitlab/etc/gitlab-rails/env[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/HOME] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/HOME[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/HOME from none to 205bb9[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/HOME	2018-12-19 22:13:01.821694340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-HOME20181219-14209-1x6s9dl	2018-12-19 22:13:01.821694340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/var/opt/gitlab[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/RAILS_ENV] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/RAILS_ENV[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/RAILS_ENV from none to ab8e18[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/RAILS_ENV	2018-12-19 22:13:01.825692340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-RAILS_ENV20181219-14209-1d7tx16	2018-12-19 22:13:01.825692340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+production[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/LD_PRELOAD] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/LD_PRELOAD[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/LD_PRELOAD from none to f79114[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/LD_PRELOAD	2018-12-19 22:13:01.825692340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-LD_PRELOAD20181219-14209-bvy4q3	2018-12-19 22:13:01.825692340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/lib/libjemalloc.so[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/SIDEKIQ_MEMORY_KILLER_MAX_RSS] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/SIDEKIQ_MEMORY_KILLER_MAX_RSS[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/SIDEKIQ_MEMORY_KILLER_MAX_RSS from none to dd80d7[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/SIDEKIQ_MEMORY_KILLER_MAX_RSS	2018-12-19 22:13:01.829690340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-SIDEKIQ_MEMORY_KILLER_MAX_RSS20181219-14209-1rsi3g8	2018-12-19 22:13:01.829690340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+2000000[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/BUNDLE_GEMFILE] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/BUNDLE_GEMFILE[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/BUNDLE_GEMFILE from none to 28d586[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/BUNDLE_GEMFILE	2018-12-19 22:13:01.833688340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-BUNDLE_GEMFILE20181219-14209-1cyqqnu	2018-12-19 22:13:01.833688340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/service/gitlab-rails/Gemfile[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/PATH] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/PATH[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/PATH from none to d5dc07[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/PATH	2018-12-19 22:13:01.837686340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-PATH20181219-14209-fv8xof	2018-12-19 22:13:01.837686340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/ICU_DATA] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/ICU_DATA[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/ICU_DATA from none to a04260[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/ICU_DATA	2018-12-19 22:13:01.837686340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-ICU_DATA20181219-14209-zygl8r	2018-12-19 22:13:01.837686340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/share/icu/current[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/PYTHONPATH] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/PYTHONPATH[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/PYTHONPATH from none to 990cc2[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/PYTHONPATH	2018-12-19 22:13:01.841684339 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-PYTHONPATH20181219-14209-dchzyf	2018-12-19 22:13:01.841684339 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/lib/python3.4/site-packages[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/EXECJS_RUNTIME] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/EXECJS_RUNTIME[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/EXECJS_RUNTIME from none to 75081b[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/EXECJS_RUNTIME	2018-12-19 22:13:01.849680340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-EXECJS_RUNTIME20181219-14209-1cp39mf	2018-12-19 22:13:01.849680340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+Disabled[0m
[0m    * file[/opt/gitlab/etc/gitlab-rails/env/TZ] action create
      [32m- create new file /opt/gitlab/etc/gitlab-rails/env/TZ[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-rails/env/TZ from none to 983a95[0m
      [37m--- /opt/gitlab/etc/gitlab-rails/env/TZ	2018-12-19 22:13:01.853678340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-rails/env/.chef-TZ20181219-14209-pww7je	2018-12-19 22:13:01.853678340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+:/etc/localtime[0m
[0m  
[0m  * link[/opt/gitlab/embedded/service/gitlab-rails/tmp] action create
    [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/tmp to /var/opt/gitlab/gitlab-rails/tmp[0m
[0m  * link[/opt/gitlab/embedded/service/gitlab-rails/public/uploads] action create
    [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/public/uploads to /var/opt/gitlab/gitlab-rails/uploads[0m
[0m  * link[/opt/gitlab/embedded/service/gitlab-rails/log] action create
    [32m- create symlink at /opt/gitlab/embedded/service/gitlab-rails/log to /var/log/gitlab/gitlab-rails[0m
[0m  * link[/var/log/gitlab/gitlab-rails/sidekiq.log] action create
    [32m- create symlink at /var/log/gitlab/gitlab-rails/sidekiq.log to /var/log/gitlab/sidekiq/current[0m
[0m  * file[/opt/gitlab/embedded/service/gitlab-rails/db/schema.rb] action create
    [32m- change owner from 'root' to 'git'[0m
[0m  * remote_file[/var/opt/gitlab/gitlab-rails/VERSION] action create
    [32m- create new file /var/opt/gitlab/gitlab-rails/VERSION[0m
    [32m- update content in file /var/opt/gitlab/gitlab-rails/VERSION from none to f6c5f2[0m
    [37m--- /var/opt/gitlab/gitlab-rails/VERSION	2018-12-19 22:13:01.869670339 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-rails/.chef-VERSION20181219-14209-t95ta9	2018-12-19 22:13:01.869670339 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+11.5.4[0m
[0m  * remote_file[/var/opt/gitlab/gitlab-rails/REVISION] action create
    [32m- create new file /var/opt/gitlab/gitlab-rails/REVISION[0m
    [32m- update content in file /var/opt/gitlab/gitlab-rails/REVISION from none to ef60f2[0m
    [37m--- /var/opt/gitlab/gitlab-rails/REVISION	2018-12-19 22:13:01.873668340 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-rails/.chef-REVISION20181219-14209-1jdlt5y	2018-12-19 22:13:01.873668340 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+315df49[0m
[0m  * file[/var/opt/gitlab/gitlab-rails/RUBY_VERSION] action create
    [32m- create new file /var/opt/gitlab/gitlab-rails/RUBY_VERSION[0m
    [32m- update content in file /var/opt/gitlab/gitlab-rails/RUBY_VERSION from none to c4c3ed[0m
    [37m--- /var/opt/gitlab/gitlab-rails/RUBY_VERSION	2018-12-19 22:13:01.881664339 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-rails/.chef-RUBY_VERSION20181219-14209-lmdvx4	2018-12-19 22:13:01.881664339 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+ruby 2.4.5p335 (2018-10-18 revision 65137) [x86_64-linux][0m
[0m  * execute[clear the gitlab-rails cache] action nothing (skipped due to action :nothing)
  * file[/var/opt/gitlab/gitlab-rails/config.ru] action delete (up to date)
Recipe: gitlab::add_trusted_certs[0m
  * directory[/etc/gitlab/trusted-certs] action create
    [32m- create new directory /etc/gitlab/trusted-certs[0m
    [32m- change mode from '' to '0755'[0m
[0m  * directory[/opt/gitlab/embedded/ssl/certs] action create (up to date)
  * file[/opt/gitlab/embedded/ssl/certs/README] action create
    [32m- create new file /opt/gitlab/embedded/ssl/certs/README[0m
    [32m- update content in file /opt/gitlab/embedded/ssl/certs/README from none to 623059[0m
    [37m--- /opt/gitlab/embedded/ssl/certs/README	2018-12-19 22:13:01.893658340 +0000[0m
    [37m+++ /opt/gitlab/embedded/ssl/certs/.chef-README20181219-14209-1pfz3ir	2018-12-19 22:13:01.893658340 +0000[0m
    [37m@@ -1 +1,4 @@[0m
    [37m+This directory is managed by omnibus-gitlab.[0m
    [37m+ Any file placed in this directory will be ignored[0m
    [37m+. Place certificates in /etc/gitlab/trusted-certs.[0m
    [32m- change mode from '' to '0644'[0m
[0m  * ruby_block[Move existing certs and link to /opt/gitlab/embedded/ssl/certs] action run

  * Moving existing certificates found in /opt/gitlab/embedded/ssl/certs

  * Symlinking existing certificates found in /etc/gitlab/trusted-certs

    [32m- execute the ruby block Move existing certs and link to /opt/gitlab/embedded/ssl/certs[0m
[0mRecipe: gitlab::default[0m
  * service[create a temporary unicorn service] action nothing (skipped due to action :nothing)
  * service[create a temporary puma service] action nothing (skipped due to action :nothing)
  * service[create a temporary sidekiq service] action nothing (skipped due to action :nothing)
  * service[create a temporary mailroom service] action nothing (skipped due to action :nothing)
Recipe: runit::systemd[0m
  * directory[/usr/lib/systemd/system] action create
    [32m- create new directory /usr/lib/systemd/system[0m
[0m  * cookbook_file[/usr/lib/systemd/system/gitlab-runsvdir.service] action create
    [32m- create new file /usr/lib/systemd/system/gitlab-runsvdir.service[0m
    [32m- update content in file /usr/lib/systemd/system/gitlab-runsvdir.service from none to 6ca59d[0m
    [37m--- /usr/lib/systemd/system/gitlab-runsvdir.service	2018-12-19 22:13:01.945632340 +0000[0m
    [37m+++ /usr/lib/systemd/system/.chef-gitlab-runsvdir20181219-14209-1b5qzrs.service	2018-12-19 22:13:01.945632340 +0000[0m
    [37m@@ -1 +1,11 @@[0m
    [37m+[Unit][0m
    [37m+Description=GitLab Runit supervision process[0m
    [37m+After=multi-user.target[0m
    [37m+[0m
    [37m+[Service][0m
    [37m+ExecStart=/opt/gitlab/embedded/bin/runsvdir-start[0m
    [37m+Restart=always[0m
    [37m+[0m
    [37m+[Install][0m
    [37m+WantedBy=multi-user.target[0m
    [32m- change mode from '' to '0644'[0m
[0m  * execute[systemctl daemon-reload] action run
    [32m- execute systemctl daemon-reload[0m
[0m  * execute[systemctl enable gitlab-runsvdir] action run
    [execute] Created symlink from /etc/systemd/system/multi-user.target.wants/gitlab-runsvdir.service to /usr/lib/systemd/system/gitlab-runsvdir.service.
    [32m- execute systemctl enable gitlab-runsvdir[0m
[0m  * execute[systemctl start gitlab-runsvdir] action run
    [32m- execute systemctl start gitlab-runsvdir[0m
[0m  * file[/etc/systemd/system/default.target.wants/gitlab-runsvdir.service] action delete (up to date)
  * file[/etc/systemd/system/basic.target.wants/gitlab-runsvdir.service] action delete (up to date)
  * execute[systemctl daemon-reload] action nothing (skipped due to action :nothing)
  * execute[systemctl enable gitlab-runsvdir] action nothing (skipped due to action :nothing)
  * execute[systemctl start gitlab-runsvdir] action nothing (skipped due to action :nothing)
Recipe: redis::enable[0m
  * account[user and group for redis] action create
    * group[user and group for redis] action create
      [32m- create group gitlab-redis[0m
[0m    * linux_user[user and group for redis] action create
      [32m- create user gitlab-redis[0m
[0m  
[0m  * group[Socket group] action create (up to date)
  * directory[/var/opt/gitlab/redis] action create
    [32m- create new directory /var/opt/gitlab/redis[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'gitlab-redis'[0m
    [32m- change group from '' to 'git'[0m
[0m  * directory[/var/log/gitlab/redis] action create
    [32m- create new directory /var/log/gitlab/redis[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-redis'[0m
[0m  * template[/var/opt/gitlab/redis/redis.conf] action create
    [32m- create new file /var/opt/gitlab/redis/redis.conf[0m
    [32m- update content in file /var/opt/gitlab/redis/redis.conf from none to 46b4a3[0m
    [37m--- /var/opt/gitlab/redis/redis.conf	2018-12-19 22:13:02.401404340 +0000[0m
    [37m+++ /var/opt/gitlab/redis/.chef-redis20181219-14209-1v8apjw.conf	2018-12-19 22:13:02.401404340 +0000[0m
    [37m@@ -1 +1,1062 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m+# Redis configuration file example.[0m
    [37m+#[0m
    [37m+# Note that in order to read the configuration file, Redis must be[0m
    [37m+# started with the file path as first argument:[0m
    [37m+#[0m
    [37m+# ./redis-server /path/to/redis.conf[0m
    [37m+[0m
    [37m+# Note on units: when memory size is needed, it is possible to specify[0m
    [37m+# it in the usual form of 1k 5GB 4M and so forth:[0m
    [37m+#[0m
    [37m+# 1k => 1000 bytes[0m
    [37m+# 1kb => 1024 bytes[0m
    [37m+# 1m => 1000000 bytes[0m
    [37m+# 1mb => 1024*1024 bytes[0m
    [37m+# 1g => 1000000000 bytes[0m
    [37m+# 1gb => 1024*1024*1024 bytes[0m
    [37m+#[0m
    [37m+# units are case insensitive so 1GB 1Gb 1gB are all the same.[0m
    [37m+[0m
    [37m+################################## INCLUDES ###################################[0m
    [37m+[0m
    [37m+# Include one or more other config files here.  This is useful if you[0m
    [37m+# have a standard template that goes to all Redis servers but also need[0m
    [37m+# to customize a few per-server settings.  Include files can include[0m
    [37m+# other files, so use this wisely.[0m
    [37m+#[0m
    [37m+# Notice option "include" won't be rewritten by command "CONFIG REWRITE"[0m
    [37m+# from admin or Redis Sentinel. Since Redis always uses the last processed[0m
    [37m+# line as value of a configuration directive, you'd better put includes[0m
    [37m+# at the beginning of this file to avoid overwriting config change at runtime.[0m
    [37m+#[0m
    [37m+# If instead you are interested in using includes to override configuration[0m
    [37m+# options, it is better to use include as the last line.[0m
    [37m+#[0m
    [37m+# include /path/to/local.conf[0m
    [37m+# include /path/to/other.conf[0m
    [37m+[0m
    [37m+################################## NETWORK #####################################[0m
    [37m+[0m
    [37m+# By default, if no "bind" configuration directive is specified, Redis listens[0m
    [37m+# for connections from all the network interfaces available on the server.[0m
    [37m+# It is possible to listen to just one or multiple selected interfaces using[0m
    [37m+# the "bind" configuration directive, followed by one or more IP addresses.[0m
    [37m+#[0m
    [37m+# Examples:[0m
    [37m+#[0m
    [37m+# bind 192.168.1.100 10.0.0.1[0m
    [37m+# bind 127.0.0.1 ::1[0m
    [37m+#[0m
    [37m+# ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the[0m
    [37m+# internet, binding to all the interfaces is dangerous and will expose the[0m
    [37m+# instance to everybody on the internet. So by default we uncomment the[0m
    [37m+# following bind directive, that will force Redis to listen only into[0m
    [37m+# the IPv4 lookback interface address (this means Redis will be able to[0m
    [37m+# accept connections only from clients running into the same computer it[0m
    [37m+# is running).[0m
    [37m+#[0m
    [37m+# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES[0m
    [37m+# JUST COMMENT THE FOLLOWING LINE.[0m
    [37m+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [37m+bind 127.0.0.1[0m
    [37m+[0m
    [37m+# Protected mode is a layer of security protection, in order to avoid that[0m
    [37m+# Redis instances left open on the internet are accessed and exploited.[0m
    [37m+#[0m
    [37m+# When protected mode is on and if:[0m
    [37m+#[0m
    [37m+# 1) The server is not binding explicitly to a set of addresses using the[0m
    [37m+#    "bind" directive.[0m
    [37m+# 2) No password is configured.[0m
    [37m+#[0m
    [37m+# The server only accepts connections from clients connecting from the[0m
    [37m+# IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain[0m
    [37m+# sockets.[0m
    [37m+#[0m
    [37m+# By default protected mode is enabled. You should disable it only if[0m
    [37m+# you are sure you want clients from other hosts to connect to Redis[0m
    [37m+# even if no authentication is configured, nor a specific set of interfaces[0m
    [37m+# are explicitly listed using the "bind" directive.[0m
    [37m+# protected-mode yes[0m
    [37m+[0m
    [37m+# Accept connections on the specified port, default is 6379 (IANA #815344).[0m
    [37m+# If port 0 is specified Redis will not listen on a TCP socket.[0m
    [37m+port 0[0m
    [37m+[0m
    [37m+# TCP listen() backlog.[0m
    [37m+#[0m
    [37m+# In high requests-per-second environments you need an high backlog in order[0m
    [37m+# to avoid slow clients connections issues. Note that the Linux kernel[0m
    [37m+# will silently truncate it to the value of /proc/sys/net/core/somaxconn so[0m
    [37m+# make sure to raise both the value of somaxconn and tcp_max_syn_backlog[0m
    [37m+# in order to get the desired effect.[0m
    [37m+tcp-backlog 511[0m
    [37m+[0m
    [37m+# Unix socket.[0m
    [37m+#[0m
    [37m+# Specify the path for the Unix socket that will be used to listen for[0m
    [37m+# incoming connections. There is no default, so Redis will not listen[0m
    [37m+# on a unix socket when not specified.[0m
    [37m+#[0m
    [37m+unixsocket /var/opt/gitlab/redis/redis.socket[0m
    [37m+unixsocketperm 777[0m
    [37m+[0m
    [37m+# Close the connection after a client is idle for N seconds (0 to disable)[0m
    [37m+timeout 60[0m
    [37m+[0m
    [37m+# TCP keepalive.[0m
    [37m+#[0m
    [37m+# If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence[0m
    [37m+# of communication. This is useful for two reasons:[0m
    [37m+#[0m
    [37m+# 1) Detect dead peers.[0m
    [37m+# 2) Take the connection alive from the point of view of network[0m
    [37m+#    equipment in the middle.[0m
    [37m+#[0m
    [37m+# On Linux, the specified value (in seconds) is the period used to send ACKs.[0m
    [37m+# Note that to close the connection the double of the time is needed.[0m
    [37m+# On other kernels the period depends on the kernel configuration.[0m
    [37m+#[0m
    [37m+# A reasonable value for this option is 300 seconds, which is the new[0m
    [37m+# Redis default starting with Redis 3.2.1.[0m
    [37m+tcp-keepalive 300[0m
    [37m+[0m
    [37m+################################# GENERAL #####################################[0m
    [37m+[0m
    [37m+# By default Redis does not run as a daemon. Use 'yes' if you need it.[0m
    [37m+# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.[0m
    [37m+daemonize no[0m
    [37m+[0m
    [37m+# If you run Redis from upstart or systemd, Redis can interact with your[0m
    [37m+# supervision tree. Options:[0m
    [37m+#   supervised no      - no supervision interaction[0m
    [37m+#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode[0m
    [37m+#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET[0m
    [37m+#   supervised auto    - detect upstart or systemd method based on[0m
    [37m+#                        UPSTART_JOB or NOTIFY_SOCKET environment variables[0m
    [37m+# Note: these supervision methods only signal "process is ready."[0m
    [37m+#       They do not enable continuous liveness pings back to your supervisor.[0m
    [37m+# supervised no[0m
    [37m+[0m
    [37m+# If a pid file is specified, Redis writes it where specified at startup[0m
    [37m+# and removes it at exit.[0m
    [37m+#[0m
    [37m+# When the server runs non daemonized, no pid file is created if none is[0m
    [37m+# specified in the configuration. When the server is daemonized, the pid file[0m
    [37m+# is used even if not specified, defaulting to "/var/run/redis.pid".[0m
    [37m+#[0m
    [37m+# Creating a pid file is best effort: if Redis is not able to create it[0m
    [37m+# nothing bad happens, the server will start and run normally.[0m
    [37m+pidfile "/var/run/redis_0.pid"[0m
    [37m+[0m
    [37m+# Specify the server verbosity level.[0m
    [37m+# This can be one of:[0m
    [37m+# debug (a lot of information, useful for development/testing)[0m
    [37m+# verbose (many rarely useful info, but not a mess like the debug level)[0m
    [37m+# notice (moderately verbose, what you want in production probably)[0m
    [37m+# warning (only very important / critical messages are logged)[0m
    [37m+loglevel notice[0m
    [37m+[0m
    [37m+# Specify the log file name. Also the empty string can be used to force[0m
    [37m+# Redis to log on the standard output. Note that if you use standard[0m
    [37m+# output for logging but daemonize, logs will be sent to /dev/null[0m
    [37m+logfile ""[0m
    [37m+[0m
    [37m+# To enable logging to the system logger, just set 'syslog-enabled' to yes,[0m
    [37m+# and optionally update the other syslog parameters to suit your needs.[0m
    [37m+# syslog-enabled no[0m
    [37m+[0m
    [37m+# Specify the syslog identity.[0m
    [37m+# syslog-ident redis[0m
    [37m+[0m
    [37m+# Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.[0m
    [37m+# syslog-facility local0[0m
    [37m+[0m
    [37m+# Set the number of databases. The default database is DB 0, you can select[0m
    [37m+# a different one on a per-connection basis using SELECT <dbid> where[0m
    [37m+# dbid is a number between 0 and 'databases'-1[0m
    [37m+databases 16[0m
    [37m+[0m
    [37m+################################ SNAPSHOTTING  ################################[0m
    [37m+#[0m
    [37m+# Save the DB on disk:[0m
    [37m+#[0m
    [37m+#   save <seconds> <changes>[0m
    [37m+#[0m
    [37m+#   Will save the DB if both the given number of seconds and the given[0m
    [37m+#   number of write operations against the DB occurred.[0m
    [37m+#[0m
    [37m+#   In the example below the behaviour will be to save:[0m
    [37m+#   after 900 sec (15 min) if at least 1 key changed[0m
    [37m+#   after 300 sec (5 min) if at least 10 keys changed[0m
    [37m+#   after 60 sec if at least 10000 keys changed[0m
    [37m+#[0m
    [37m+#   Note: you can disable saving completely by commenting out all "save" lines.[0m
    [37m+#[0m
    [37m+#   It is also possible to remove all the previously configured save[0m
    [37m+#   points by adding a save directive with a single empty string argument[0m
    [37m+#   like in the following example:[0m
    [37m+#[0m
    [37m+#   save ""[0m
    [37m+[0m
    [37m+save 900 1[0m
    [37m+save 300 10[0m
    [37m+save 60 10000[0m
    [37m+[0m
    [37m+# By default Redis will stop accepting writes if RDB snapshots are enabled[0m
    [37m+# (at least one save point) and the latest background save failed.[0m
    [37m+# This will make the user aware (in a hard way) that data is not persisting[0m
    [37m+# on disk properly, otherwise chances are that no one will notice and some[0m
    [37m+# disaster will happen.[0m
    [37m+#[0m
    [37m+# If the background saving process will start working again Redis will[0m
    [37m+# automatically allow writes again.[0m
    [37m+#[0m
    [37m+# However if you have setup your proper monitoring of the Redis server[0m
    [37m+# and persistence, you may want to disable this feature so that Redis will[0m
    [37m+# continue to work as usual even if there are problems with disk,[0m
    [37m+# permissions, and so forth.[0m
    [37m+stop-writes-on-bgsave-error yes[0m
    [37m+[0m
    [37m+# Compress string objects using LZF when dump .rdb databases?[0m
    [37m+# For default that's set to 'yes' as it's almost always a win.[0m
    [37m+# If you want to save some CPU in the saving child set it to 'no' but[0m
    [37m+# the dataset will likely be bigger if you have compressible values or keys.[0m
    [37m+rdbcompression yes[0m
    [37m+[0m
    [37m+# Since version 5 of RDB a CRC64 checksum is placed at the end of the file.[0m
    [37m+# This makes the format more resistant to corruption but there is a performance[0m
    [37m+# hit to pay (around 10%) when saving and loading RDB files, so you can disable it[0m
    [37m+# for maximum performances.[0m
    [37m+#[0m
    [37m+# RDB files created with checksum disabled have a checksum of zero that will[0m
    [37m+# tell the loading code to skip the check.[0m
    [37m+rdbchecksum yes[0m
    [37m+[0m
    [37m+# The filename where to dump the DB[0m
    [37m+dbfilename "dump.rdb"[0m
    [37m+[0m
    [37m+# The working directory.[0m
    [37m+#[0m
    [37m+# The DB will be written inside this directory, with the filename specified[0m
    [37m+# above using the 'dbfilename' configuration directive.[0m
    [37m+#[0m
    [37m+# The Append Only File will also be created inside this directory.[0m
    [37m+#[0m
    [37m+# Note that you must specify a directory here, not a file name.[0m
    [37m+dir "/var/opt/gitlab/redis"[0m
    [37m+[0m
    [37m+################################# REPLICATION #################################[0m
    [37m+[0m
    [37m+# Master-Slave replication. Use slaveof to make a Redis instance a copy of[0m
    [37m+# another Redis server. A few things to understand ASAP about Redis replication.[0m
    [37m+#[0m
    [37m+# 1) Redis replication is asynchronous, but you can configure a master to[0m
    [37m+#    stop accepting writes if it appears to be not connected with at least[0m
    [37m+#    a given number of slaves.[0m
    [37m+# 2) Redis slaves are able to perform a partial resynchronization with the[0m
    [37m+#    master if the replication link is lost for a relatively small amount of[0m
    [37m+#    time. You may want to configure the replication backlog size (see the next[0m
    [37m+#    sections of this file) with a sensible value depending on your needs.[0m
    [37m+# 3) Replication is automatic and does not need user intervention. After a[0m
    [37m+#    network partition slaves automatically try to reconnect to masters[0m
    [37m+#    and resynchronize with them.[0m
    [37m+#[0m
    [37m+# slaveof <masterip> <masterport>[0m
    [37m+[0m
    [37m+[0m
    [37m+# If the master is password protected (using the "requirepass" configuration[0m
    [37m+# directive below) it is possible to tell the slave to authenticate before[0m
    [37m+# starting the replication synchronization process, otherwise the master will[0m
    [37m+# refuse the slave request.[0m
    [37m+#[0m
    [37m+# masterauth <master-password>[0m
    [37m+[0m
    [37m+[0m
    [37m+# When a slave loses its connection with the master, or when the replication[0m
    [37m+# is still in progress, the slave can act in two different ways:[0m
    [37m+#[0m
    [37m+# 1) if slave-serve-stale-data is set to 'yes' (the default) the slave will[0m
    [37m+#    still reply to client requests, possibly with out of date data, or the[0m
    [37m+#    data set may just be empty if this is the first synchronization.[0m
    [37m+#[0m
    [37m+# 2) if slave-serve-stale-data is set to 'no' the slave will reply with[0m
    [37m+#    an error "SYNC with master in progress" to all the kind of commands[0m
    [37m+#    but to INFO and SLAVEOF.[0m
    [37m+#[0m
    [37m+slave-serve-stale-data yes[0m
    [37m+[0m
    [37m+# You can configure a slave instance to accept writes or not. Writing against[0m
    [37m+# a slave instance may be useful to store some ephemeral data (because data[0m
    [37m+# written on a slave will be easily deleted after resync with the master) but[0m
    [37m+# may also cause problems if clients are writing to it because of a[0m
    [37m+# misconfiguration.[0m
    [37m+#[0m
    [37m+# Since Redis 2.6 by default slaves are read-only.[0m
    [37m+#[0m
    [37m+# Note: read only slaves are not designed to be exposed to untrusted clients[0m
    [37m+# on the internet. It's just a protection layer against misuse of the instance.[0m
    [37m+# Still a read only slave exports by default all the administrative commands[0m
    [37m+# such as CONFIG, DEBUG, and so forth. To a limited extent you can improve[0m
    [37m+# security of read only slaves using 'rename-command' to shadow all the[0m
    [37m+# administrative / dangerous commands.[0m
    [37m+slave-read-only yes[0m
    [37m+[0m
    [37m+# Replication SYNC strategy: disk or socket.[0m
    [37m+#[0m
    [37m+# -------------------------------------------------------[0m
    [37m+# WARNING: DISKLESS REPLICATION IS EXPERIMENTAL CURRENTLY[0m
    [37m+# -------------------------------------------------------[0m
    [37m+#[0m
    [37m+# New slaves and reconnecting slaves that are not able to continue the replication[0m
    [37m+# process just receiving differences, need to do what is called a "full[0m
    [37m+# synchronization". An RDB file is transmitted from the master to the slaves.[0m
    [37m+# The transmission can happen in two different ways:[0m
    [37m+#[0m
    [37m+# 1) Disk-backed: The Redis master creates a new process that writes the RDB[0m
    [37m+#                 file on disk. Later the file is transferred by the parent[0m
    [37m+#                 process to the slaves incrementally.[0m
    [37m+# 2) Diskless: The Redis master creates a new process that directly writes the[0m
    [37m+#              RDB file to slave sockets, without touching the disk at all.[0m
    [37m+#[0m
    [37m+# With disk-backed replication, while the RDB file is generated, more slaves[0m
    [37m+# can be queued and served with the RDB file as soon as the current child producing[0m
    [37m+# the RDB file finishes its work. With diskless replication instead once[0m
    [37m+# the transfer starts, new slaves arriving will be queued and a new transfer[0m
    [37m+# will start when the current one terminates.[0m
    [37m+#[0m
    [37m+# When diskless replication is used, the master waits a configurable amount of[0m
    [37m+# time (in seconds) before starting the transfer in the hope that multiple slaves[0m
    [37m+# will arrive and the transfer can be parallelized.[0m
    [37m+#[0m
    [37m+# With slow disks and fast (large bandwidth) networks, diskless replication[0m
    [37m+# works better.[0m
    [37m+# repl-diskless-sync no[0m
    [37m+[0m
    [37m+# When diskless replication is enabled, it is possible to configure the delay[0m
    [37m+# the server waits in order to spawn the child that transfers the RDB via socket[0m
    [37m+# to the slaves.[0m
    [37m+#[0m
    [37m+# This is important since once the transfer starts, it is not possible to serve[0m
    [37m+# new slaves arriving, that will be queued for the next RDB transfer, so the server[0m
    [37m+# waits a delay in order to let more slaves arrive.[0m
    [37m+#[0m
    [37m+# The delay is specified in seconds, and by default is 5 seconds. To disable[0m
    [37m+# it entirely just set it to 0 seconds and the transfer will start ASAP.[0m
    [37m+# repl-diskless-sync-delay 5[0m
    [37m+[0m
    [37m+# Slaves send PINGs to server in a predefined interval. It's possible to change[0m
    [37m+# this interval with the repl_ping_slave_period option. The default value is 10[0m
    [37m+# seconds.[0m
    [37m+#[0m
    [37m+# repl-ping-slave-period 10[0m
    [37m+[0m
    [37m+# The following option sets the replication timeout for:[0m
    [37m+#[0m
    [37m+# 1) Bulk transfer I/O during SYNC, from the point of view of slave.[0m
    [37m+# 2) Master timeout from the point of view of slaves (data, pings).[0m
    [37m+# 3) Slave timeout from the point of view of masters (REPLCONF ACK pings).[0m
    [37m+#[0m
    [37m+# It is important to make sure that this value is greater than the value[0m
    [37m+# specified for repl-ping-slave-period otherwise a timeout will be detected[0m
    [37m+# every time there is low traffic between the master and the slave.[0m
    [37m+#[0m
    [37m+# repl-timeout 60[0m
    [37m+[0m
    [37m+# Disable TCP_NODELAY on the slave socket after SYNC?[0m
    [37m+#[0m
    [37m+# If you select "yes" Redis will use a smaller number of TCP packets and[0m
    [37m+# less bandwidth to send data to slaves. But this can add a delay for[0m
    [37m+# the data to appear on the slave side, up to 40 milliseconds with[0m
    [37m+# Linux kernels using a default configuration.[0m
    [37m+#[0m
    [37m+# If you select "no" the delay for data to appear on the slave side will[0m
    [37m+# be reduced but more bandwidth will be used for replication.[0m
    [37m+#[0m
    [37m+# By default we optimize for low latency, but in very high traffic conditions[0m
    [37m+# or when the master and slaves are many hops away, turning this to "yes" may[0m
    [37m+# be a good idea.[0m
    [37m+repl-disable-tcp-nodelay no[0m
    [37m+[0m
    [37m+# Set the replication backlog size. The backlog is a buffer that accumulates[0m
    [37m+# slave data when slaves are disconnected for some time, so that when a slave[0m
    [37m+# wants to reconnect again, often a full resync is not needed, but a partial[0m
    [37m+# resync is enough, just passing the portion of data the slave missed while[0m
    [37m+# disconnected.[0m
    [37m+#[0m
    [37m+# The bigger the replication backlog, the longer the time the slave can be[0m
    [37m+# disconnected and later be able to perform a partial resynchronization.[0m
    [37m+#[0m
    [37m+# The backlog is only allocated once there is at least a slave connected.[0m
    [37m+#[0m
    [37m+# repl-backlog-size 1mb[0m
    [37m+[0m
    [37m+# After a master has no longer connected slaves for some time, the backlog[0m
    [37m+# will be freed. The following option configures the amount of seconds that[0m
    [37m+# need to elapse, starting from the time the last slave disconnected, for[0m
    [37m+# the backlog buffer to be freed.[0m
    [37m+#[0m
    [37m+# A value of 0 means to never release the backlog.[0m
    [37m+#[0m
    [37m+# repl-backlog-ttl 3600[0m
    [37m+[0m
    [37m+# The slave priority is an integer number published by Redis in the INFO output.[0m
    [37m+# It is used by Redis Sentinel in order to select a slave to promote into a[0m
    [37m+# master if the master is no longer working correctly.[0m
    [37m+#[0m
    [37m+# A slave with a low priority number is considered better for promotion, so[0m
    [37m+# for instance if there are three slaves with priority 10, 100, 25 Sentinel will[0m
    [37m+# pick the one with priority 10, that is the lowest.[0m
    [37m+#[0m
    [37m+# However a special priority of 0 marks the slave as not able to perform the[0m
    [37m+# role of master, so a slave with priority of 0 will never be selected by[0m
    [37m+# Redis Sentinel for promotion.[0m
    [37m+#[0m
    [37m+# By default the priority is 100.[0m
    [37m+slave-priority 100[0m
    [37m+[0m
    [37m+# It is possible for a master to stop accepting writes if there are less than[0m
    [37m+# N slaves connected, having a lag less or equal than M seconds.[0m
    [37m+#[0m
    [37m+# The N slaves need to be in "online" state.[0m
    [37m+#[0m
    [37m+# The lag in seconds, that must be <= the specified value, is calculated from[0m
    [37m+# the last ping received from the slave, that is usually sent every second.[0m
    [37m+#[0m
    [37m+# This option does not GUARANTEE that N replicas will accept the write, but[0m
    [37m+# will limit the window of exposure for lost writes in case not enough slaves[0m
    [37m+# are available, to the specified number of seconds.[0m
    [37m+#[0m
    [37m+# For example to require at least 3 slaves with a lag <= 10 seconds use:[0m
    [37m+#[0m
    [37m+# min-slaves-to-write 3[0m
    [37m+# min-slaves-max-lag 10[0m
    [37m+#[0m
    [37m+# Setting one or the other to 0 disables the feature.[0m
    [37m+#[0m
    [37m+# By default min-slaves-to-write is set to 0 (feature disabled) and[0m
    [37m+# min-slaves-max-lag is set to 10.[0m
    [37m+[0m
    [37m+# A Redis master is able to list the address and port of the attached[0m
    [37m+# slaves in different ways. For example the "INFO replication" section[0m
    [37m+# offers this information, which is used, among other tools, by[0m
    [37m+# Redis Sentinel in order to discover slave instances.[0m
    [37m+# Another place where this info is available is in the output of the[0m
    [37m+# "ROLE" command of a masteer.[0m
    [37m+#[0m
    [37m+# The listed IP and address normally reported by a slave is obtained[0m
    [37m+# in the following way:[0m
    [37m+#[0m
    [37m+#   IP: The address is auto detected by checking the peer address[0m
    [37m+#   of the socket used by the slave to connect with the master.[0m
    [37m+#[0m
    [37m+#   Port: The port is communicated by the slave during the replication[0m
    [37m+#   handshake, and is normally the port that the slave is using to[0m
    [37m+#   list for connections.[0m
    [37m+#[0m
    [37m+# However when port forwarding or Network Address Translation (NAT) is[0m
    [37m+# used, the slave may be actually reachable via different IP and port[0m
    [37m+# pairs. The following two options can be used by a slave in order to[0m
    [37m+# report to its master a specific set of IP and port, so that both INFO[0m
    [37m+# and ROLE will report those values.[0m
    [37m+#[0m
    [37m+# There is no need to use both the options if you need to override just[0m
    [37m+# the port or the IP address.[0m
    [37m+#[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+################################## SECURITY ###################################[0m
    [37m+[0m
    [37m+# Require clients to issue AUTH <PASSWORD> before processing any other[0m
    [37m+# commands.  This might be useful in environments in which you do not trust[0m
    [37m+# others with access to the host running redis-server.[0m
    [37m+#[0m
    [37m+# This should stay commented out for backward compatibility and because most[0m
    [37m+# people do not need auth (e.g. they run their own servers).[0m
    [37m+#[0m
    [37m+# Warning: since Redis is pretty fast an outside user can try up to[0m
    [37m+# 150k passwords per second against a good box. This means that you should[0m
    [37m+# use a very strong password otherwise it will be very easy to break.[0m
    [37m+#[0m
    [37m+[0m
    [37m+[0m
    [37m+# Command renaming.[0m
    [37m+#[0m
    [37m+# It is possible to change the name of dangerous commands in a shared[0m
    [37m+# environment. For instance the CONFIG command may be renamed into something[0m
    [37m+# hard to guess so that it will still be available for internal-use tools[0m
    [37m+# but not available for general clients.[0m
    [37m+#[0m
    [37m+# Example:[0m
    [37m+#[0m
    [37m+# rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52[0m
    [37m+#[0m
    [37m+# It is also possible to completely kill a command by renaming it into[0m
    [37m+# an empty string:[0m
    [37m+#[0m
    [37m+# rename-command CONFIG ""[0m
    [37m+#[0m
    [37m+# Please note that changing the name of commands that are logged into the[0m
    [37m+# AOF file or transmitted to slaves may cause problems.[0m
    [37m+[0m
    [37m+################################### LIMITS ####################################[0m
    [37m+[0m
    [37m+# Set the max number of connected clients at the same time. By default[0m
    [37m+# this limit is set to 10000 clients, however if the Redis server is not[0m
    [37m+# able to configure the process file limit to allow for the specified limit[0m
    [37m+# the max number of allowed clients is set to the current file limit[0m
    [37m+# minus 32 (as Redis reserves a few file descriptors for internal uses).[0m
    [37m+#[0m
    [37m+# Once the limit is reached Redis will close all the new connections sending[0m
    [37m+# an error 'max number of clients reached'.[0m
    [37m+#[0m
    [37m+maxclients 10000[0m
    [37m+[0m
    [37m+# Don't use more memory than the specified amount of bytes.[0m
    [37m+# When the memory limit is reached Redis will try to remove keys[0m
    [37m+# according to the eviction policy selected (see maxmemory-policy).[0m
    [37m+#[0m
    [37m+# If Redis can't remove keys according to the policy, or if the policy is[0m
    [37m+# set to 'noeviction', Redis will start to reply with errors to commands[0m
    [37m+# that would use more memory, like SET, LPUSH, and so on, and will continue[0m
    [37m+# to reply to read-only commands like GET.[0m
    [37m+#[0m
    [37m+# This option is usually useful when using Redis as an LRU cache, or to set[0m
    [37m+# a hard memory limit for an instance (using the 'noeviction' policy).[0m
    [37m+#[0m
    [37m+# WARNING: If you have slaves attached to an instance with maxmemory on,[0m
    [37m+# the size of the output buffers needed to feed the slaves are subtracted[0m
    [37m+# from the used memory count, so that network problems / resyncs will[0m
    [37m+# not trigger a loop where keys are evicted, and in turn the output[0m
    [37m+# buffer of slaves is full with DELs of keys evicted triggering the deletion[0m
    [37m+# of more keys, and so forth until the database is completely emptied.[0m
    [37m+#[0m
    [37m+# In short... if you have slaves attached it is suggested that you set a lower[0m
    [37m+# limit for maxmemory so that there is some free RAM on the system for slave[0m
    [37m+# output buffers (but this is not needed if the policy is 'noeviction').[0m
    [37m+#[0m
    [37m+# maxmemory <bytes>[0m
    [37m+maxmemory 0[0m
    [37m+[0m
    [37m+# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory[0m
    [37m+# is reached. You can select among five behaviors:[0m
    [37m+#[0m
    [37m+# volatile-lru -> remove the key with an expire set using an LRU algorithm[0m
    [37m+# allkeys-lru -> remove any key according to the LRU algorithm[0m
    [37m+# volatile-random -> remove a random key with an expire set[0m
    [37m+# allkeys-random -> remove a random key, any key[0m
    [37m+# volatile-ttl -> remove the key with the nearest expire time (minor TTL)[0m
    [37m+# noeviction -> don't expire at all, just return an error on write operations[0m
    [37m+#[0m
    [37m+# Note: with any of the above policies, Redis will return an error on write[0m
    [37m+#       operations, when there are no suitable keys for eviction.[0m
    [37m+#[0m
    [37m+#       At the date of writing these commands are: set setnx setex append[0m
    [37m+#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd[0m
    [37m+#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby[0m
    [37m+#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby[0m
    [37m+#       getset mset msetnx exec sort[0m
    [37m+#[0m
    [37m+# The default is:[0m
    [37m+#[0m
    [37m+# maxmemory-policy noeviction[0m
    [37m+maxmemory-policy noeviction[0m
    [37m+[0m
    [37m+# LRU and minimal TTL algorithms are not precise algorithms but approximated[0m
    [37m+# algorithms (in order to save memory), so you can tune it for speed or[0m
    [37m+# accuracy. For default Redis will check five keys and pick the one that was[0m
    [37m+# used less recently, you can change the sample size using the following[0m
    [37m+# configuration directive.[0m
    [37m+#[0m
    [37m+# The default of 5 produces good enough results. 10 Approximates very closely[0m
    [37m+# true LRU but costs a bit more CPU. 3 is very fast but not very accurate.[0m
    [37m+#[0m
    [37m+# maxmemory-samples 5[0m
    [37m+maxmemory-samples 5[0m
    [37m+[0m
    [37m+############################## APPEND ONLY MODE ###############################[0m
    [37m+[0m
    [37m+# By default Redis asynchronously dumps the dataset on disk. This mode is[0m
    [37m+# good enough in many applications, but an issue with the Redis process or[0m
    [37m+# a power outage may result into a few minutes of writes lost (depending on[0m
    [37m+# the configured save points).[0m
    [37m+#[0m
    [37m+# The Append Only File is an alternative persistence mode that provides[0m
    [37m+# much better durability. For instance using the default data fsync policy[0m
    [37m+# (see later in the config file) Redis can lose just one second of writes in a[0m
    [37m+# dramatic event like a server power outage, or a single write if something[0m
    [37m+# wrong with the Redis process itself happens, but the operating system is[0m
    [37m+# still running correctly.[0m
    [37m+#[0m
    [37m+# AOF and RDB persistence can be enabled at the same time without problems.[0m
    [37m+# If the AOF is enabled on startup Redis will load the AOF, that is the file[0m
    [37m+# with the better durability guarantees.[0m
    [37m+#[0m
    [37m+# Please check http://redis.io/topics/persistence for more information.[0m
    [37m+[0m
    [37m+appendonly no[0m
    [37m+[0m
    [37m+# The name of the append only file (default: "appendonly.aof")[0m
    [37m+[0m
    [37m+# appendfilename "appendonly.aof"[0m
    [37m+[0m
    [37m+# The fsync() call tells the Operating System to actually write data on disk[0m
    [37m+# instead of waiting for more data in the output buffer. Some OS will really flush[0m
    [37m+# data on disk, some other OS will just try to do it ASAP.[0m
    [37m+#[0m
    [37m+# Redis supports three different modes:[0m
    [37m+#[0m
    [37m+# no: don't fsync, just let the OS flush the data when it wants. Faster.[0m
    [37m+# always: fsync after every write to the append only log. Slow, Safest.[0m
    [37m+# everysec: fsync only one time every second. Compromise.[0m
    [37m+#[0m
    [37m+# The default is "everysec", as that's usually the right compromise between[0m
    [37m+# speed and data safety. It's up to you to understand if you can relax this to[0m
    [37m+# "no" that will let the operating system flush the output buffer when[0m
    [37m+# it wants, for better performances (but if you can live with the idea of[0m
    [37m+# some data loss consider the default persistence mode that's snapshotting),[0m
    [37m+# or on the contrary, use "always" that's very slow but a bit safer than[0m
    [37m+# everysec.[0m
    [37m+#[0m
    [37m+# More details please check the following article:[0m
    [37m+# http://antirez.com/post/redis-persistence-demystified.html[0m
    [37m+#[0m
    [37m+# If unsure, use "everysec".[0m
    [37m+[0m
    [37m+# appendfsync always[0m
    [37m+appendfsync everysec[0m
    [37m+# appendfsync no[0m
    [37m+[0m
    [37m+# When the AOF fsync policy is set to always or everysec, and a background[0m
    [37m+# saving process (a background save or AOF log background rewriting) is[0m
    [37m+# performing a lot of I/O against the disk, in some Linux configurations[0m
    [37m+# Redis may block too long on the fsync() call. Note that there is no fix for[0m
    [37m+# this currently, as even performing fsync in a different thread will block[0m
    [37m+# our synchronous write(2) call.[0m
    [37m+#[0m
    [37m+# In order to mitigate this problem it's possible to use the following option[0m
    [37m+# that will prevent fsync() from being called in the main process while a[0m
    [37m+# BGSAVE or BGREWRITEAOF is in progress.[0m
    [37m+#[0m
    [37m+# This means that while another child is saving, the durability of Redis is[0m
    [37m+# the same as "appendfsync none". In practical terms, this means that it is[0m
    [37m+# possible to lose up to 30 seconds of log in the worst scenario (with the[0m
    [37m+# default Linux settings).[0m
    [37m+#[0m
    [37m+# If you have latency problems turn this to "yes". Otherwise leave it as[0m
    [37m+# "no" that is the safest pick from the point of view of durability.[0m
    [37m+[0m
    [37m+no-appendfsync-on-rewrite no[0m
    [37m+[0m
    [37m+# Automatic rewrite of the append only file.[0m
    [37m+# Redis is able to automatically rewrite the log file implicitly calling[0m
    [37m+# BGREWRITEAOF when the AOF log size grows by the specified percentage.[0m
    [37m+#[0m
    [37m+# This is how it works: Redis remembers the size of the AOF file after the[0m
    [37m+# latest rewrite (if no rewrite has happened since the restart, the size of[0m
    [37m+# the AOF at startup is used).[0m
    [37m+#[0m
    [37m+# This base size is compared to the current size. If the current size is[0m
    [37m+# bigger than the specified percentage, the rewrite is triggered. Also[0m
    [37m+# you need to specify a minimal size for the AOF file to be rewritten, this[0m
    [37m+# is useful to avoid rewriting the AOF file even if the percentage increase[0m
    [37m+# is reached but it is still pretty small.[0m
    [37m+#[0m
    [37m+# Specify a percentage of zero in order to disable the automatic AOF[0m
    [37m+# rewrite feature.[0m
    [37m+[0m
    [37m+auto-aof-rewrite-percentage 100[0m
    [37m+auto-aof-rewrite-min-size 64mb[0m
    [37m+[0m
    [37m+# An AOF file may be found to be truncated at the end during the Redis[0m
    [37m+# startup process, when the AOF data gets loaded back into memory.[0m
    [37m+# This may happen when the system where Redis is running[0m
    [37m+# crashes, especially when an ext4 filesystem is mounted without the[0m
    [37m+# data=ordered option (however this can't happen when Redis itself[0m
    [37m+# crashes or aborts but the operating system still works correctly).[0m
    [37m+#[0m
    [37m+# Redis can either exit with an error when this happens, or load as much[0m
    [37m+# data as possible (the default now) and start if the AOF file is found[0m
    [37m+# to be truncated at the end. The following option controls this behavior.[0m
    [37m+#[0m
    [37m+# If aof-load-truncated is set to yes, a truncated AOF file is loaded and[0m
    [37m+# the Redis server starts emitting a log to inform the user of the event.[0m
    [37m+# Otherwise if the option is set to no, the server aborts with an error[0m
    [37m+# and refuses to start. When the option is set to no, the user requires[0m
    [37m+# to fix the AOF file using the "redis-check-aof" utility before to restart[0m
    [37m+# the server.[0m
    [37m+#[0m
    [37m+# Note that if the AOF file will be found to be corrupted in the middle[0m
    [37m+# the server will still exit with an error. This option only applies when[0m
    [37m+# Redis will try to read more data from the AOF file but not enough bytes[0m
    [37m+# will be found.[0m
    [37m+# aof-load-truncated yes[0m
    [37m+[0m
    [37m+################################ LUA SCRIPTING  ###############################[0m
    [37m+[0m
    [37m+# Max execution time of a Lua script in milliseconds.[0m
    [37m+#[0m
    [37m+# If the maximum execution time is reached Redis will log that a script is[0m
    [37m+# still in execution after the maximum allowed time and will start to[0m
    [37m+# reply to queries with an error.[0m
    [37m+#[0m
    [37m+# When a long running script exceeds the maximum execution time only the[0m
    [37m+# SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be[0m
    [37m+# used to stop a script that did not yet called write commands. The second[0m
    [37m+# is the only way to shut down the server in the case a write command was[0m
    [37m+# already issued by the script but the user doesn't want to wait for the natural[0m
    [37m+# termination of the script.[0m
    [37m+#[0m
    [37m+# Set it to 0 or a negative value for unlimited execution without warnings.[0m
    [37m+lua-time-limit 5000[0m
    [37m+[0m
    [37m+################################ REDIS CLUSTER  ###############################[0m
    [37m+#[0m
    [37m+# ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++[0m
    [37m+# WARNING EXPERIMENTAL: Redis Cluster is considered to be stable code, however[0m
    [37m+# in order to mark it as "mature" we need to wait for a non trivial percentage[0m
    [37m+# of users to deploy it in production.[0m
    [37m+# ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++[0m
    [37m+#[0m
    [37m+# Normal Redis instances can't be part of a Redis Cluster; only nodes that are[0m
    [37m+# started as cluster nodes can. In order to start a Redis instance as a[0m
    [37m+# cluster node enable the cluster support uncommenting the following:[0m
    [37m+#[0m
    [37m+# cluster-enabled yes[0m
    [37m+[0m
    [37m+# Every cluster node has a cluster configuration file. This file is not[0m
    [37m+# intended to be edited by hand. It is created and updated by Redis nodes.[0m
    [37m+# Every Redis Cluster node requires a different cluster configuration file.[0m
    [37m+# Make sure that instances running in the same system do not have[0m
    [37m+# overlapping cluster configuration file names.[0m
    [37m+#[0m
    [37m+# cluster-config-file nodes-6379.conf[0m
    [37m+[0m
    [37m+# Cluster node timeout is the amount of milliseconds a node must be unreachable[0m
    [37m+# for it to be considered in failure state.[0m
    [37m+# Most other internal time limits are multiple of the node timeout.[0m
    [37m+#[0m
    [37m+# cluster-node-timeout 15000[0m
    [37m+[0m
    [37m+# A slave of a failing master will avoid to start a failover if its data[0m
    [37m+# looks too old.[0m
    [37m+#[0m
    [37m+# There is no simple way for a slave to actually have a exact measure of[0m
    [37m+# its "data age", so the following two checks are performed:[0m
    [37m+#[0m
    [37m+# 1) If there are multiple slaves able to failover, they exchange messages[0m
    [37m+#    in order to try to give an advantage to the slave with the best[0m
    [37m+#    replication offset (more data from the master processed).[0m
    [37m+#    Slaves will try to get their rank by offset, and apply to the start[0m
    [37m+#    of the failover a delay proportional to their rank.[0m
    [37m+#[0m
    [37m+# 2) Every single slave computes the time of the last interaction with[0m
    [37m+#    its master. This can be the last ping or command received (if the master[0m
    [37m+#    is still in the "connected" state), or the time that elapsed since the[0m
    [37m+#    disconnection with the master (if the replication link is currently down).[0m
    [37m+#    If the last interaction is too old, the slave will not try to failover[0m
    [37m+#    at all.[0m
    [37m+#[0m
    [37m+# The point "2" can be tuned by user. Specifically a slave will not perform[0m
    [37m+# the failover if, since the last interaction with the master, the time[0m
    [37m+# elapsed is greater than:[0m
    [37m+#[0m
    [37m+#   (node-timeout * slave-validity-factor) + repl-ping-slave-period[0m
    [37m+#[0m
    [37m+# So for example if node-timeout is 30 seconds, and the slave-validity-factor[0m
    [37m+# is 10, and assuming a default repl-ping-slave-period of 10 seconds, the[0m
    [37m+# slave will not try to failover if it was not able to talk with the master[0m
    [37m+# for longer than 310 seconds.[0m
    [37m+#[0m
    [37m+# A large slave-validity-factor may allow slaves with too old data to failover[0m
    [37m+# a master, while a too small value may prevent the cluster from being able to[0m
    [37m+# elect a slave at all.[0m
    [37m+#[0m
    [37m+# For maximum availability, it is possible to set the slave-validity-factor[0m
    [37m+# to a value of 0, which means, that slaves will always try to failover the[0m
    [37m+# master regardless of the last time they interacted with the master.[0m
    [37m+# (However they'll always try to apply a delay proportional to their[0m
    [37m+# offset rank).[0m
    [37m+#[0m
    [37m+# Zero is the only value able to guarantee that when all the partitions heal[0m
    [37m+# the cluster will always be able to continue.[0m
    [37m+#[0m
    [37m+# cluster-slave-validity-factor 10[0m
    [37m+[0m
    [37m+# Cluster slaves are able to migrate to orphaned masters, that are masters[0m
    [37m+# that are left without working slaves. This improves the cluster ability[0m
    [37m+# to resist to failures as otherwise an orphaned master can't be failed over[0m
    [37m+# in case of failure if it has no working slaves.[0m
    [37m+#[0m
    [37m+# Slaves migrate to orphaned masters only if there are still at least a[0m
    [37m+# given number of other working slaves for their old master. This number[0m
    [37m+# is the "migration barrier". A migration barrier of 1 means that a slave[0m
    [37m+# will migrate only if there is at least 1 other working slave for its master[0m
    [37m+# and so forth. It usually reflects the number of slaves you want for every[0m
    [37m+# master in your cluster.[0m
    [37m+#[0m
    [37m+# Default is 1 (slaves migrate only if their masters remain with at least[0m
    [37m+# one slave). To disable migration just set it to a very large value.[0m
    [37m+# A value of 0 can be set but is useful only for debugging and dangerous[0m
    [37m+# in production.[0m
    [37m+#[0m
    [37m+# cluster-migration-barrier 1[0m
    [37m+[0m
    [37m+# By default Redis Cluster nodes stop accepting queries if they detect there[0m
    [37m+# is at least an hash slot uncovered (no available node is serving it).[0m
    [37m+# This way if the cluster is partially down (for example a range of hash slots[0m
    [37m+# are no longer covered) all the cluster becomes, eventually, unavailable.[0m
    [37m+# It automatically returns available as soon as all the slots are covered again.[0m
    [37m+#[0m
    [37m+# However sometimes you want the subset of the cluster which is working,[0m
    [37m+# to continue to accept queries for the part of the key space that is still[0m
    [37m+# covered. In order to do so, just set the cluster-require-full-coverage[0m
    [37m+# option to no.[0m
    [37m+#[0m
    [37m+# cluster-require-full-coverage yes[0m
    [37m+[0m
    [37m+# In order to setup your cluster make sure to read the documentation[0m
    [37m+# available at http://redis.io web site.[0m
    [37m+[0m
    [37m+################################## SLOW LOG ###################################[0m
    [37m+[0m
    [37m+# The Redis Slow Log is a system to log queries that exceeded a specified[0m
    [37m+# execution time. The execution time does not include the I/O operations[0m
    [37m+# like talking with the client, sending the reply and so forth,[0m
    [37m+# but just the time needed to actually execute the command (this is the only[0m
    [37m+# stage of command execution where the thread is blocked and can not serve[0m
    [37m+# other requests in the meantime).[0m
    [37m+#[0m
    [37m+# You can configure the slow log with two parameters: one tells Redis[0m
    [37m+# what is the execution time, in microseconds, to exceed in order for the[0m
    [37m+# command to get logged, and the other parameter is the length of the[0m
    [37m+# slow log. When a new command is logged the oldest one is removed from the[0m
    [37m+# queue of logged commands.[0m
    [37m+[0m
    [37m+# The following time is expressed in microseconds, so 1000000 is equivalent[0m
    [37m+# to one second. Note that a negative number disables the slow log, while[0m
    [37m+# a value of zero forces the logging of every command.[0m
    [37m+slowlog-log-slower-than 10000[0m
    [37m+[0m
    [37m+# There is no limit to this length. Just be aware that it will consume memory.[0m
    [37m+# You can reclaim memory used by the slow log with SLOWLOG RESET.[0m
    [37m+slowlog-max-len 128[0m
    [37m+[0m
    [37m+################################ LATENCY MONITOR ##############################[0m
    [37m+[0m
    [37m+# The Redis latency monitoring subsystem samples different operations[0m
    [37m+# at runtime in order to collect data related to possible sources of[0m
    [37m+# latency of a Redis instance.[0m
    [37m+#[0m
    [37m+# Via the LATENCY command this information is available to the user that can[0m
    [37m+# print graphs and obtain reports.[0m
    [37m+#[0m
    [37m+# The system only logs operations that were performed in a time equal or[0m
    [37m+# greater than the amount of milliseconds specified via the[0m
    [37m+# latency-monitor-threshold configuration directive. When its value is set[0m
    [37m+# to zero, the latency monitor is turned off.[0m
    [37m+#[0m
    [37m+# By default latency monitoring is disabled since it is mostly not needed[0m
    [37m+# if you don't have latency issues, and collecting data has a performance[0m
    [37m+# impact, that while very small, can be measured under big load. Latency[0m
    [37m+# monitoring can easily be enabled at runtime using the command[0m
    [37m+# "CONFIG SET latency-monitor-threshold <milliseconds>" if needed.[0m
    [37m+# latency-monitor-threshold 0[0m
    [37m+[0m
    [37m+############################# EVENT NOTIFICATION ##############################[0m
    [37m+[0m
    [37m+# Redis can notify Pub/Sub clients about events happening in the key space.[0m
    [37m+# This feature is documented at http://redis.io/topics/notifications[0m
    [37m+#[0m
    [37m+# For instance if keyspace events notification is enabled, and a client[0m
    [37m+# performs a DEL operation on key "foo" stored in the Database 0, two[0m
    [37m+# messages will be published via Pub/Sub:[0m
    [37m+#[0m
    [37m+# PUBLISH __keyspace@0__:foo del[0m
    [37m+# PUBLISH __keyevent@0__:del foo[0m
    [37m+#[0m
    [37m+# It is possible to select the events that Redis will notify among a set[0m
    [37m+# of classes. Every class is identified by a single character:[0m
    [37m+#[0m
    [37m+#  K     Keyspace events, published with __keyspace@<db>__ prefix.[0m
    [37m+#  E     Keyevent events, published with __keyevent@<db>__ prefix.[0m
    [37m+#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...[0m
    [37m+#  $     String commands[0m
    [37m+#  l     List commands[0m
    [37m+#  s     Set commands[0m
    [37m+#  h     Hash commands[0m
    [37m+#  z     Sorted set commands[0m
    [37m+#  x     Expired events (events generated every time a key expires)[0m
    [37m+#  e     Evicted events (events generated when a key is evicted for maxmemory)[0m
    [37m+#  A     Alias for g$lshzxe, so that the "AKE" string means all the events.[0m
    [37m+#[0m
    [37m+#  The "notify-keyspace-events" takes as argument a string that is composed[0m
    [37m+#  of zero or multiple characters. The empty string means that notifications[0m
    [37m+#  are disabled.[0m
    [37m+#[0m
    [37m+#  Example: to enable list and generic events, from the point of view of the[0m
    [37m+#           event name, use:[0m
    [37m+#[0m
    [37m+#  notify-keyspace-events Elg[0m
    [37m+#[0m
    [37m+#  Example 2: to get the stream of the expired keys subscribing to channel[0m
    [37m+#             name __keyevent@0__:expired use:[0m
    [37m+#[0m
    [37m+#  notify-keyspace-events Ex[0m
    [37m+#[0m
    [37m+#  By default all notifications are disabled because most users don't need[0m
    [37m+#  this feature and the feature has some overhead. Note that if you don't[0m
    [37m+#  specify at least one of K or E, no events will be delivered.[0m
    [37m+notify-keyspace-events ""[0m
    [37m+[0m
    [37m+############################### ADVANCED CONFIG ###############################[0m
    [37m+[0m
    [37m+# Hashes are encoded using a memory efficient data structure when they have a[0m
    [37m+# small number of entries, and the biggest entry does not exceed a given[0m
    [37m+# threshold. These thresholds can be configured using the following directives.[0m
    [37m+hash-max-ziplist-entries 512[0m
    [37m+hash-max-ziplist-value 64[0m
    [37m+[0m
    [37m+# Lists are also encoded in a special way to save a lot of space.[0m
    [37m+# The number of entries allowed per internal list node can be specified[0m
    [37m+# as a fixed maximum size or a maximum number of elements.[0m
    [37m+# For a fixed maximum size, use -5 through -1, meaning:[0m
    [37m+# -5: max size: 64 Kb  <-- not recommended for normal workloads[0m
    [37m+# -4: max size: 32 Kb  <-- not recommended[0m
    [37m+# -3: max size: 16 Kb  <-- probably not recommended[0m
    [37m+# -2: max size: 8 Kb   <-- good[0m
    [37m+# -1: max size: 4 Kb   <-- good[0m
    [37m+# Positive numbers mean store up to _exactly_ that number of elements[0m
    [37m+# per list node.[0m
    [37m+# The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),[0m
    [37m+# but if your use case is unique, adjust the settings as necessary.[0m
    [37m+# list-max-ziplist-size -2[0m
    [37m+[0m
    [37m+# Lists may also be compressed.[0m
    [37m+# Compress depth is the number of quicklist ziplist nodes from *each* side of[0m
    [37m+# the list to *exclude* from compression.  The head and tail of the list[0m
    [37m+# are always uncompressed for fast push/pop operations.  Settings are:[0m
    [37m+# 0: disable all list compression[0m
    [37m+# 1: depth 1 means "don't start compressing until after 1 node into the list,[0m
    [37m+#    going from either the head or tail"[0m
    [37m+#    So: [head]->node->node->...->node->[tail][0m
    [37m+#    [head], [tail] will always be uncompressed; inner nodes will compress.[0m
    [37m+# 2: [head]->[next]->node->node->...->node->[prev]->[tail][0m
    [37m+#    2 here means: don't compress head or head->next or tail->prev or tail,[0m
    [37m+#    but compress all nodes between them.[0m
    [37m+# 3: [head]->[next]->[next]->node->node->...->node->[prev]->[prev]->[tail][0m
    [37m+# etc.[0m
    [37m+# list-compress-depth 0[0m
    [37m+[0m
    [37m+# Sets have a special encoding in just one case: when a set is composed[0m
    [37m+# of just strings that happen to be integers in radix 10 in the range[0m
    [37m+# of 64 bit signed integers.[0m
    [37m+# The following configuration setting sets the limit in the size of the[0m
    [37m+# set in order to use this special memory saving encoding.[0m
    [37m+set-max-intset-entries 512[0m
    [37m+[0m
    [37m+# Similarly to hashes and lists, sorted sets are also specially encoded in[0m
    [37m+# order to save a lot of space. This encoding is only used when the length and[0m
    [37m+# elements of a sorted set are below the following limits:[0m
    [37m+zset-max-ziplist-entries 128[0m
    [37m+zset-max-ziplist-value 64[0m
    [37m+[0m
    [37m+# HyperLogLog sparse representation bytes limit. The limit includes the[0m
    [37m+# 16 bytes header. When an HyperLogLog using the sparse representation crosses[0m
    [37m+# this limit, it is converted into the dense representation.[0m
    [37m+#[0m
    [37m+# A value greater than 16000 is totally useless, since at that point the[0m
    [37m+# dense representation is more memory efficient.[0m
    [37m+#[0m
    [37m+# The suggested value is ~ 3000 in order to have the benefits of[0m
    [37m+# the space efficient encoding without slowing down too much PFADD,[0m
    [37m+# which is O(N) with the sparse encoding. The value can be raised to[0m
    [37m+# ~ 10000 when CPU is not a concern, but space is, and the data set is[0m
    [37m+# composed of many HyperLogLogs with cardinality in the 0 - 15000 range.[0m
    [37m+# hll-sparse-max-bytes 3000[0m
    [37m+[0m
    [37m+# Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in[0m
    [37m+# order to help rehashing the main Redis hash table (the one mapping top-level[0m
    [37m+# keys to values). The hash table implementation Redis uses (see dict.c)[0m
    [37m+# performs a lazy rehashing: the more operation you run into a hash table[0m
    [37m+# that is rehashing, the more rehashing "steps" are performed, so if the[0m
    [37m+# server is idle the rehashing is never complete and some more memory is used[0m
    [37m+# by the hash table.[0m
    [37m+#[0m
    [37m+# The default is to use this millisecond 10 times every second in order to[0m
    [37m+# actively rehash the main dictionaries, freeing memory when possible.[0m
    [37m+#[0m
    [37m+# If unsure:[0m
    [37m+# use "activerehashing no" if you have hard latency requirements and it is[0m
    [37m+# not a good thing in your environment that Redis can reply from time to time[0m
    [37m+# to queries with 2 milliseconds delay.[0m
    [37m+#[0m
    [37m+# use "activerehashing yes" if you don't have such hard requirements but[0m
    [37m+# want to free memory asap when possible.[0m
    [37m+activerehashing yes[0m
    [37m+[0m
    [37m+# The client output buffer limits can be used to force disconnection of clients[0m
    [37m+# that are not reading data from the server fast enough for some reason (a[0m
    [37m+# common reason is that a Pub/Sub client can't consume messages as fast as the[0m
    [37m+# publisher can produce them).[0m
    [37m+#[0m
    [37m+# The limit can be set differently for the three different classes of clients:[0m
    [37m+#[0m
    [37m+# normal -> normal clients including MONITOR clients[0m
    [37m+# slave  -> slave clients[0m
    [37m+# pubsub -> clients subscribed to at least one pubsub channel or pattern[0m
    [37m+#[0m
    [37m+# The syntax of every client-output-buffer-limit directive is the following:[0m
    [37m+#[0m
    [37m+# client-output-buffer-limit <class> <hard limit> <soft limit> <soft seconds>[0m
    [37m+#[0m
    [37m+# A client is immediately disconnected once the hard limit is reached, or if[0m
    [37m+# the soft limit is reached and remains reached for the specified number of[0m
    [37m+# seconds (continuously).[0m
    [37m+# So for instance if the hard limit is 32 megabytes and the soft limit is[0m
    [37m+# 16 megabytes / 10 seconds, the client will get disconnected immediately[0m
    [37m+# if the size of the output buffers reach 32 megabytes, but will also get[0m
    [37m+# disconnected if the client reaches 16 megabytes and continuously overcomes[0m
    [37m+# the limit for 10 seconds.[0m
    [37m+#[0m
    [37m+# By default normal clients are not limited because they don't receive data[0m
    [37m+# without asking (in a push way), but just after a request, so only[0m
    [37m+# asynchronous clients may create a scenario where data is requested faster[0m
    [37m+# than it can read.[0m
    [37m+#[0m
    [37m+# Instead there is a default limit for pubsub and slave clients, since[0m
    [37m+# subscribers and slaves receive data in a push fashion.[0m
    [37m+#[0m
    [37m+# Both the hard or the soft limit can be disabled by setting them to zero.[0m
    [37m+client-output-buffer-limit normal 0 0 0[0m
    [37m+client-output-buffer-limit slave 256mb 64mb 60[0m
    [37m+client-output-buffer-limit pubsub 32mb 8mb 60[0m
    [37m+[0m
    [37m+# Redis calls an internal function to perform many background tasks, like[0m
    [37m+# closing connections of clients in timeout, purging expired keys that are[0m
    [37m+# never requested, and so forth.[0m
    [37m+#[0m
    [37m+# Not all tasks are performed with the same frequency, but Redis checks for[0m
    [37m+# tasks to perform according to the specified "hz" value.[0m
    [37m+#[0m
    [37m+# By default "hz" is set to 10. Raising the value will use more CPU when[0m
    [37m+# Redis is idle, but at the same time will make Redis more responsive when[0m
    [37m+# there are many keys expiring at the same time, and timeouts may be[0m
    [37m+# handled with more precision.[0m
    [37m+#[0m
    [37m+# The range is between 1 and 500, however a value over 100 is usually not[0m
    [37m+# a good idea. Most users should use the default of 10 and raise this up to[0m
    [37m+# 100 only in environments where very low latency is required.[0m
    [37m+hz 10[0m
    [37m+[0m
    [37m+# When a child rewrites the AOF file, if the following option is enabled[0m
    [37m+# the file will be fsync-ed every 32 MB of data generated. This is useful[0m
    [37m+# in order to commit the file to the disk more incrementally and avoid[0m
    [37m+# big latency spikes.[0m
    [37m+aof-rewrite-incremental-fsync yes[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-redis'[0m
[0m  * directory[/opt/gitlab/sv/redis] action create
    [32m- create new directory /opt/gitlab/sv/redis[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/redis/log] action create
    [32m- create new directory /opt/gitlab/sv/redis/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/redis/log/main] action create
    [32m- create new directory /opt/gitlab/sv/redis/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/redis/run] action create
    [32m- create new file /opt/gitlab/sv/redis/run[0m
    [32m- update content in file /opt/gitlab/sv/redis/run from none to da365d[0m
    [37m--- /opt/gitlab/sv/redis/run	2018-12-19 22:13:02.497356339 +0000[0m
    [37m+++ /opt/gitlab/sv/redis/.chef-run20181219-14209-94ozs4	2018-12-19 22:13:02.497356339 +0000[0m
    [37m@@ -1 +1,6 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -P -U gitlab-redis:gitlab-redis -u gitlab-redis:gitlab-redis /opt/gitlab/embedded/bin/redis-server /var/opt/gitlab/redis/redis.conf[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/redis/log/run] action create
    [32m- create new file /opt/gitlab/sv/redis/log/run[0m
    [32m- update content in file /opt/gitlab/sv/redis/log/run from none to af1017[0m
    [37m--- /opt/gitlab/sv/redis/log/run	2018-12-19 22:13:02.505352339 +0000[0m
    [37m+++ /opt/gitlab/sv/redis/log/.chef-run20181219-14209-8r8ibr	2018-12-19 22:13:02.505352339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/redis[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/redis/config] action create
    [32m- create new file /var/log/gitlab/redis/config[0m
    [32m- update content in file /var/log/gitlab/redis/config from none to 623c00[0m
    [37m--- /var/log/gitlab/redis/config	2018-12-19 22:13:02.509350339 +0000[0m
    [37m+++ /var/log/gitlab/redis/.chef-config20181219-14209-1jdgixf	2018-12-19 22:13:02.509350339 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload redis svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart redis svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/redis/down] action delete (up to date)
  * link[/opt/gitlab/init/redis] action create
    [32m- create symlink at /opt/gitlab/init/redis to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/redis] action create
    [32m- create symlink at /opt/gitlab/service/redis to /opt/gitlab/sv/redis[0m
[0m  * ruby_block[supervise_redis_sleep] action run
    [32m- execute the ruby block supervise_redis_sleep[0m
[0m  * directory[/opt/gitlab/sv/redis/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/redis/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/redis/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/redis/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/redis/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/redis/log/supervise/control] action touch (skipped due to only_if)
  * service[redis] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start redis] action run
    [execute] ok: run: redis: (pid 15058) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start redis[0m
[0mRecipe: postgresql::user[0m
  * account[Postgresql user and group] action create
    * group[Postgresql user and group] action create
      [32m- create group gitlab-psql[0m
[0m    * linux_user[Postgresql user and group] action create
      [32m- create user gitlab-psql[0m
[0m  
[0mRecipe: postgresql::enable[0m
  * directory[/var/opt/gitlab/postgresql] action create
    [32m- create new directory /var/opt/gitlab/postgresql[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * directory[/var/opt/gitlab/postgresql/data] action create
    [32m- create new directory /var/opt/gitlab/postgresql/data[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * directory[/var/log/gitlab/postgresql] action create
    [32m- create new directory /var/log/gitlab/postgresql[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * link[/var/opt/gitlab/postgresql/data] action create (skipped due to not_if)
  * file[/var/opt/gitlab/postgresql/.profile] action create
    [32m- create new file /var/opt/gitlab/postgresql/.profile[0m
    [32m- update content in file /var/opt/gitlab/postgresql/.profile from none to 3b0387[0m
    [37m--- /var/opt/gitlab/postgresql/.profile	2018-12-19 22:13:08.334436339 +0000[0m
    [37m+++ /var/opt/gitlab/postgresql/.chef-.profile20181219-14209-x6abs7.profile	2018-12-19 22:13:08.334436339 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+PATH=/opt/gitlab/embedded/bin:/opt/gitlab/bin:$PATH[0m
    [32m- change mode from '' to '0600'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * sysctl[kernel.shmmax] action create
    * directory[create /etc/sysctl.d for kernel.shmmax] action create (up to date)
    * file[create /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmmax.conf kernel.shmmax] action create
      [32m- create new file /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmmax.conf[0m
      [32m- update content in file /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmmax.conf from none to 75a195[0m
      [37m--- /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmmax.conf	2018-12-19 22:13:08.366420340 +0000[0m
      [37m+++ /opt/gitlab/embedded/etc/.chef-90-omnibus-gitlab-kernel20181219-14209-fue8fr.shmmax.conf	2018-12-19 22:13:08.366420340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+kernel.shmmax = 17179869184[0m
[0m    * execute[load sysctl conf kernel.shmmax] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * link[/etc/sysctl.d/90-omnibus-gitlab-kernel.shmmax.conf] action create
      [32m- create symlink at /etc/sysctl.d/90-omnibus-gitlab-kernel.shmmax.conf to /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmmax.conf[0m
[0m    * execute[load sysctl conf kernel.shmmax] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.shmmax = 17179869184
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * file[delete /etc/sysctl.d/90-postgresql.conf kernel.shmmax] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-unicorn.conf kernel.shmmax] action delete (skipped due to only_if)
    * file[delete /opt/gitlab/embedded/etc/90-omnibus-gitlab.conf kernel.shmmax] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-omnibus-gitlab.conf kernel.shmmax] action delete (skipped due to only_if)
    * execute[load sysctl conf kernel.shmmax] action nothing (skipped due to action :nothing)
  
[0m  * sysctl[kernel.shmall] action create
    * directory[create /etc/sysctl.d for kernel.shmall] action create (up to date)
    * file[create /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmall.conf kernel.shmall] action create
      [32m- create new file /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmall.conf[0m
      [32m- update content in file /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmall.conf from none to 6d765d[0m
      [37m--- /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmall.conf	2018-12-19 22:13:08.486360340 +0000[0m
      [37m+++ /opt/gitlab/embedded/etc/.chef-90-omnibus-gitlab-kernel20181219-14209-4jff8i.shmall.conf	2018-12-19 22:13:08.486360340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+kernel.shmall = 4194304[0m
[0m    * execute[load sysctl conf kernel.shmall] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.shmmax = 17179869184
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * link[/etc/sysctl.d/90-omnibus-gitlab-kernel.shmall.conf] action create
      [32m- create symlink at /etc/sysctl.d/90-omnibus-gitlab-kernel.shmall.conf to /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmall.conf[0m
[0m    * execute[load sysctl conf kernel.shmall] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.shmall = 4194304
                kernel.shmmax = 17179869184
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * file[delete /etc/sysctl.d/90-postgresql.conf kernel.shmall] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-unicorn.conf kernel.shmall] action delete (skipped due to only_if)
    * file[delete /opt/gitlab/embedded/etc/90-omnibus-gitlab.conf kernel.shmall] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-omnibus-gitlab.conf kernel.shmall] action delete (skipped due to only_if)
    * execute[load sysctl conf kernel.shmall] action nothing (skipped due to action :nothing)
  
[0m  * sysctl[kernel.sem] action create
    * directory[create /etc/sysctl.d for kernel.sem] action create (up to date)
    * file[create /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.sem.conf kernel.sem] action create
      [32m- create new file /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.sem.conf[0m
      [32m- update content in file /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.sem.conf from none to 09a346[0m
      [37m--- /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.sem.conf	2018-12-19 22:13:08.546330340 +0000[0m
      [37m+++ /opt/gitlab/embedded/etc/.chef-90-omnibus-gitlab-kernel20181219-14209-1j5j3be.sem.conf	2018-12-19 22:13:08.546330340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+kernel.sem = 250 32000 32 262[0m
[0m    * execute[load sysctl conf kernel.sem] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.shmall = 4194304
                kernel.shmmax = 17179869184
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * link[/etc/sysctl.d/90-omnibus-gitlab-kernel.sem.conf] action create
      [32m- create symlink at /etc/sysctl.d/90-omnibus-gitlab-kernel.sem.conf to /opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.sem.conf[0m
[0m    * execute[load sysctl conf kernel.sem] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.sem = 250 32000 32 262
                kernel.shmall = 4194304
                kernel.shmmax = 17179869184
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * file[delete /etc/sysctl.d/90-postgresql.conf kernel.sem] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-unicorn.conf kernel.sem] action delete (skipped due to only_if)
    * file[delete /opt/gitlab/embedded/etc/90-omnibus-gitlab.conf kernel.sem] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-omnibus-gitlab.conf kernel.sem] action delete (skipped due to only_if)
    * execute[load sysctl conf kernel.sem] action nothing (skipped due to action :nothing)
  
[0m  * execute[/opt/gitlab/embedded/bin/initdb -D /var/opt/gitlab/postgresql/data -E UTF8] action run
    [execute] The files belonging to this database system will be owned by user "gitlab-psql".
              This user must also own the server process.
              
              The database cluster will be initialized with locale "en_US.UTF-8".
              The default text search configuration will be set to "english".
              
              Data page checksums are disabled.
              
              fixing permissions on existing directory /var/opt/gitlab/postgresql/data ... ok
              creating subdirectories ... ok
              selecting default max_connections ... 100
              selecting default shared_buffers ... 128MB
              selecting dynamic shared memory implementation ... posix
              creating configuration files ... ok
              running bootstrap script ... ok
              performing post-bootstrap initialization ... ok
              syncing data to disk ... ok
              
              Success. You can now start the database server using:
              
                  /opt/gitlab/embedded/bin/pg_ctl -D /var/opt/gitlab/postgresql/data -l logfile start
              
              
              WARNING: enabling "trust" authentication for local connections
              You can change this by editing pg_hba.conf or using the option -A, or
              --auth-local and --auth-host, the next time you run initdb.
    [32m- execute /opt/gitlab/embedded/bin/initdb -D /var/opt/gitlab/postgresql/data -E UTF8[0m
[0m  * file[/var/opt/gitlab/postgresql/data/server.crt] action create
    [32m- create new file /var/opt/gitlab/postgresql/data/server.crt[0m
    [32m- update content in file /var/opt/gitlab/postgresql/data/server.crt from none to 3687bb[0m
    [32m- suppressed sensitive resource[0m
    [32m- change mode from '' to '0400'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
    [32m- change group from '' to 'gitlab-psql'[0m
[0m  * file[/var/opt/gitlab/postgresql/data/server.key] action create
    [32m- create new file /var/opt/gitlab/postgresql/data/server.key[0m
    [32m- update content in file /var/opt/gitlab/postgresql/data/server.key from none to 5f3a3a[0m
    [32m- suppressed sensitive resource[0m
    [32m- change mode from '' to '0400'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
    [32m- change group from '' to 'gitlab-psql'[0m
[0m  * template[/var/opt/gitlab/postgresql/data/postgresql.conf] action create
    [32m- update content in file /var/opt/gitlab/postgresql/data/postgresql.conf from 8e855b to f4b749[0m
    [37m--- /var/opt/gitlab/postgresql/data/postgresql.conf	2018-12-19 22:13:08.694256340 +0000[0m
    [37m+++ /var/opt/gitlab/postgresql/data/.chef-postgresql20181219-14209-1mtszvg.conf	2018-12-19 22:13:10.993106340 +0000[0m
    [37m@@ -1,3 +1,7 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m # -----------------------------[0m
    [37m # PostgreSQL configuration file[0m
    [37m # -----------------------------[0m
    [37m@@ -27,7 +31,7 @@[0m
    [37m # Memory units:  kB = kilobytes        Time units:  ms  = milliseconds[0m
    [37m #                MB = megabytes                     s   = seconds[0m
    [37m #                GB = gigabytes                     min = minutes[0m
    [37m-#                TB = terabytes                     h   = hours[0m
    [37m+#                                                   h   = hours[0m
    [37m #                                                   d   = days[0m
    [37m [0m
    [37m [0m
    [37m@@ -38,16 +42,16 @@[0m
    [37m # The default values of these variables are driven from the -D command-line[0m
    [37m # option or PGDATA environment variable, represented here as ConfigDir.[0m
    [37m [0m
    [37m-#data_directory = 'ConfigDir'		# use data in another directory[0m
    [37m-					# (change requires restart)[0m
    [37m-#hba_file = 'ConfigDir/pg_hba.conf'	# host-based authentication file[0m
    [37m-					# (change requires restart)[0m
    [37m-#ident_file = 'ConfigDir/pg_ident.conf'	# ident configuration file[0m
    [37m-					# (change requires restart)[0m
    [37m+#data_directory = 'ConfigDir'   # use data in another directory[0m
    [37m+          # (change requires restart)[0m
    [37m+#hba_file = 'ConfigDir/pg_hba.conf' # host-based authentication file[0m
    [37m+          # (change requires restart)[0m
    [37m+#ident_file = 'ConfigDir/pg_ident.conf' # ident configuration file[0m
    [37m+          # (change requires restart)[0m
    [37m [0m
    [37m # If external_pid_file is not explicitly set, no extra PID file is written.[0m
    [37m-#external_pid_file = ''			# write an extra PID file[0m
    [37m-					# (change requires restart)[0m
    [37m+#external_pid_file = '(none)'   # write an extra PID file[0m
    [37m+          # (change requires restart)[0m
    [37m [0m
    [37m [0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -56,52 +60,57 @@[0m
    [37m [0m
    [37m # - Connection Settings -[0m
    [37m [0m
    [37m-#listen_addresses = 'localhost'		# what IP address(es) to listen on;[0m
    [37m-					# comma-separated list of addresses;[0m
    [37m-					# defaults to 'localhost'; use '*' for all[0m
    [37m-					# (change requires restart)[0m
    [37m-#port = 5432				# (change requires restart)[0m
    [37m-max_connections = 100			# (change requires restart)[0m
    [37m-#superuser_reserved_connections = 3	# (change requires restart)[0m
    [37m-#unix_socket_directories = '/tmp'	# comma-separated list of directories[0m
    [37m-					# (change requires restart)[0m
    [37m-#unix_socket_group = ''			# (change requires restart)[0m
    [37m-#unix_socket_permissions = 0777		# begin with 0 to use octal notation[0m
    [37m-					# (change requires restart)[0m
    [37m-#bonjour = off				# advertise server via Bonjour[0m
    [37m-					# (change requires restart)[0m
    [37m-#bonjour_name = ''			# defaults to the computer name[0m
    [37m-					# (change requires restart)[0m
    [37m+listen_addresses = ''    # what IP address(es) to listen on;[0m
    [37m+          # comma-separated list of addresses;[0m
    [37m+          # defaults to 'localhost', '*' = all[0m
    [37m+          # (change requires restart)[0m
    [37m+port = 5432        # (change requires restart)[0m
    [37m+max_connections = 200      # (change requires restart)[0m
    [37m+# Note:  Increasing max_connections costs ~400 bytes of shared memory per[0m
    [37m+# connection slot, plus lock space (see max_locks_per_transaction).[0m
    [37m+#superuser_reserved_connections = 3 # (change requires restart)[0m
    [37m+unix_socket_directories = '/var/opt/gitlab/postgresql'   # (change requires restart)[0m
    [37m+#unix_socket_group = ''     # (change requires restart)[0m
    [37m+#unix_socket_permissions = 0777   # begin with 0 to use octal notation[0m
    [37m+          # (change requires restart)[0m
    [37m+#bonjour = off        # advertise server via Bonjour[0m
    [37m+          # (change requires restart)[0m
    [37m+#bonjour_name = ''      # defaults to the computer name[0m
    [37m+          # (change requires restart)[0m
    [37m [0m
    [37m # - Security and Authentication -[0m
    [37m [0m
    [37m-#authentication_timeout = 1min		# 1s-600s[0m
    [37m-#ssl = off				# (change requires restart)[0m
    [37m-#ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL' # allowed SSL ciphers[0m
    [37m-					# (change requires restart)[0m
    [37m-#ssl_prefer_server_ciphers = on		# (change requires restart)[0m
    [37m-#ssl_ecdh_curve = 'prime256v1'		# (change requires restart)[0m
    [37m-#ssl_cert_file = 'server.crt'		# (change requires restart)[0m
    [37m-#ssl_key_file = 'server.key'		# (change requires restart)[0m
    [37m-#ssl_ca_file = ''			# (change requires restart)[0m
    [37m-#ssl_crl_file = ''			# (change requires restart)[0m
    [37m+#authentication_timeout = 1min    # 1s-600s[0m
    [37m+[0m
    [37m+# change requires restart[0m
    [37m+ssl = on[0m
    [37m+[0m
    [37m+# allowed SSL ciphers[0m
    [37m+ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL:!SSLv3:!TLSv1'[0m
    [37m+[0m
    [37m+ssl_cert_file = 'server.crt'[0m
    [37m+ssl_key_file = 'server.key'[0m
    [37m+ssl_ca_file = '/opt/gitlab/embedded/ssl/certs/cacert.pem'[0m
    [37m+[0m
    [37m+[0m
    [37m+#ssl_renegotiation_limit = 512MB  # amount of data between renegotiations[0m
    [37m #password_encryption = on[0m
    [37m #db_user_namespace = off[0m
    [37m-#row_security = on[0m
    [37m [0m
    [37m-# GSSAPI using Kerberos[0m
    [37m+# Kerberos and GSSAPI[0m
    [37m #krb_server_keyfile = ''[0m
    [37m+#krb_srvname = 'postgres'   # (Kerberos only)[0m
    [37m #krb_caseins_users = off[0m
    [37m [0m
    [37m # - TCP Keepalives -[0m
    [37m # see "man 7 tcp" for details[0m
    [37m [0m
    [37m-#tcp_keepalives_idle = 0		# TCP_KEEPIDLE, in seconds;[0m
    [37m-					# 0 selects the system default[0m
    [37m-#tcp_keepalives_interval = 0		# TCP_KEEPINTVL, in seconds;[0m
    [37m-					# 0 selects the system default[0m
    [37m-#tcp_keepalives_count = 0		# TCP_KEEPCNT;[0m
    [37m-					# 0 selects the system default[0m
    [37m+#tcp_keepalives_idle = 0    # TCP_KEEPIDLE, in seconds;[0m
    [37m+          # 0 selects the system default[0m
    [37m+#tcp_keepalives_interval = 0    # TCP_KEEPINTVL, in seconds;[0m
    [37m+          # 0 selects the system default[0m
    [37m+#tcp_keepalives_count = 0   # TCP_KEEPCNT;[0m
    [37m+          # 0 selects the system default[0m
    [37m [0m
    [37m [0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -110,63 +119,40 @@[0m
    [37m [0m
    [37m # - Memory -[0m
    [37m [0m
    [37m-shared_buffers = 128MB			# min 128kB[0m
    [37m-					# (change requires restart)[0m
    [37m-#huge_pages = try			# on, off, or try[0m
    [37m-					# (change requires restart)[0m
    [37m-#temp_buffers = 8MB			# min 800kB[0m
    [37m-#max_prepared_transactions = 0		# zero disables the feature[0m
    [37m-					# (change requires restart)[0m
    [37m-# Caution: it is not advisable to set max_prepared_transactions nonzero unless[0m
    [37m-# you actively intend to use prepared transactions.[0m
    [37m-#work_mem = 4MB				# min 64kB[0m
    [37m-#maintenance_work_mem = 64MB		# min 1MB[0m
    [37m-#replacement_sort_tuples = 150000	# limits use of replacement selection sort[0m
    [37m-#autovacuum_work_mem = -1		# min 1MB, or -1 to use maintenance_work_mem[0m
    [37m-#max_stack_depth = 2MB			# min 100kB[0m
    [37m-dynamic_shared_memory_type = posix	# the default is the first option[0m
    [37m-					# supported by the operating system:[0m
    [37m-					#   posix[0m
    [37m-					#   sysv[0m
    [37m-					#   windows[0m
    [37m-					#   mmap[0m
    [37m-					# use none to disable dynamic shared memory[0m
    [37m-					# (change requires restart)[0m
    [37m+shared_buffers = 987MB # min 128kB[0m
    [37m+          # (change requires restart)[0m
    [37m+#temp_buffers = 8MB     # min 800kB[0m
    [37m+#max_prepared_transactions = 0    # zero disables the feature[0m
    [37m+          # (change requires restart)[0m
    [37m+# Note:  Increasing max_prepared_transactions costs ~600 bytes of shared memory[0m
    [37m+# per transaction slot, plus lock space (see max_locks_per_transaction).[0m
    [37m+# It is not advisable to set max_prepared_transactions nonzero unless you[0m
    [37m+# actively intend to use prepared transactions.[0m
    [37m+#max_stack_depth = 2MB      # min 100kB[0m
    [37m [0m
    [37m-# - Disk -[0m
    [37m-[0m
    [37m-#temp_file_limit = -1			# limits per-process temp file space[0m
    [37m-					# in kB, or -1 for no limit[0m
    [37m-[0m
    [37m # - Kernel Resource Usage -[0m
    [37m [0m
    [37m-#max_files_per_process = 1000		# min 25[0m
    [37m-					# (change requires restart)[0m
    [37m-#shared_preload_libraries = ''		# (change requires restart)[0m
    [37m+#max_files_per_process = 1000   # min 25[0m
    [37m+          # (change requires restart)[0m
    [37m+shared_preload_libraries = ''    # (change requires restart)[0m
    [37m [0m
    [37m # - Cost-Based Vacuum Delay -[0m
    [37m [0m
    [37m-#vacuum_cost_delay = 0			# 0-100 milliseconds[0m
    [37m-#vacuum_cost_page_hit = 1		# 0-10000 credits[0m
    [37m-#vacuum_cost_page_miss = 10		# 0-10000 credits[0m
    [37m-#vacuum_cost_page_dirty = 20		# 0-10000 credits[0m
    [37m-#vacuum_cost_limit = 200		# 1-10000 credits[0m
    [37m+#vacuum_cost_delay = 0ms    # 0-100 milliseconds[0m
    [37m+#vacuum_cost_page_hit = 1   # 0-10000 credits[0m
    [37m+#vacuum_cost_page_miss = 10   # 0-10000 credits[0m
    [37m+#vacuum_cost_page_dirty = 20    # 0-10000 credits[0m
    [37m+#vacuum_cost_limit = 200    # 1-10000 credits[0m
    [37m [0m
    [37m # - Background Writer -[0m
    [37m [0m
    [37m-#bgwriter_delay = 200ms			# 10-10000ms between rounds[0m
    [37m-#bgwriter_lru_maxpages = 100		# 0-1000 max buffers written/round[0m
    [37m-#bgwriter_lru_multiplier = 2.0		# 0-10.0 multiplier on buffers scanned/round[0m
    [37m-#bgwriter_flush_after = 512kB		# measured in pages, 0 disables[0m
    [37m+#bgwriter_delay = 200ms     # 10-10000ms between rounds[0m
    [37m+#bgwriter_lru_maxpages = 100    # 0-1000 max buffers written/round[0m
    [37m+#bgwriter_lru_multiplier = 2.0    # 0-10.0 multipler on buffers scanned/round[0m
    [37m [0m
    [37m # - Asynchronous Behavior -[0m
    [37m [0m
    [37m-#effective_io_concurrency = 1		# 1-1000; 0 disables prefetching[0m
    [37m-#max_worker_processes = 8		# (change requires restart)[0m
    [37m-#max_parallel_workers_per_gather = 0	# taken from max_worker_processes[0m
    [37m-#old_snapshot_threshold = -1		# 1min-60d; -1 disables; 0 is immediate[0m
    [37m-					# (change requires restart)[0m
    [37m-#backend_flush_after = 0		# measured in pages, 0 disables[0m
    [37m+#effective_io_concurrency = 1   # 1-1000. 0 disables prefetching[0m
    [37m [0m
    [37m [0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -175,103 +161,62 @@[0m
    [37m [0m
    [37m # - Settings -[0m
    [37m [0m
    [37m-#wal_level = minimal			# minimal, replica, or logical[0m
    [37m-					# (change requires restart)[0m
    [37m-#fsync = on				# flush data to disk for crash safety[0m
    [37m-						# (turning this off can cause[0m
    [37m-						# unrecoverable data corruption)[0m
    [37m-#synchronous_commit = on		# synchronization level;[0m
    [37m-					# off, local, remote_write, remote_apply, or on[0m
    [37m-#wal_sync_method = fsync		# the default is the first option[0m
    [37m-					# supported by the operating system:[0m
    [37m-					#   open_datasync[0m
    [37m-					#   fdatasync (default on Linux)[0m
    [37m-					#   fsync[0m
    [37m-					#   fsync_writethrough[0m
    [37m-					#   open_sync[0m
    [37m-#full_page_writes = on			# recover from partial page writes[0m
    [37m-#wal_compression = off			# enable compression of full-page writes[0m
    [37m-#wal_log_hints = off			# also do full page writes of non-critical updates[0m
    [37m-					# (change requires restart)[0m
    [37m-#wal_buffers = -1			# min 32kB, -1 sets based on shared_buffers[0m
    [37m-					# (change requires restart)[0m
    [37m-#wal_writer_delay = 200ms		# 1-10000 milliseconds[0m
    [37m-#wal_writer_flush_after = 1MB		# measured in pages, 0 disables[0m
    [37m+wal_level = minimal[0m
    [37m+          # (change requires restart)[0m
    [37m+#fsync = on       # turns forced synchronization on or off[0m
    [37m+#wal_sync_method = fsync    # the default is the first option[0m
    [37m+          # supported by the operating system:[0m
    [37m+          #   open_datasync[0m
    [37m+          #   fdatasync (default on Linux)[0m
    [37m+          #   fsync[0m
    [37m+          #   fsync_writethrough[0m
    [37m+          #   open_sync[0m
    [37m+#full_page_writes = on      # recover from partial page writes[0m
    [37m+wal_buffers = -1 # -1     # min 32kB, -1 sets based on shared_buffers[0m
    [37m+          # (change requires restart)[0m
    [37m+#wal_writer_delay = 200ms   # 1-10000 milliseconds[0m
    [37m [0m
    [37m-#commit_delay = 0			# range 0-100000, in microseconds[0m
    [37m-#commit_siblings = 5			# range 1-1000[0m
    [37m+#commit_delay = 0     # range 0-100000, in microseconds[0m
    [37m+#commit_siblings = 5      # range 1-1000[0m
    [37m [0m
    [37m-# - Checkpoints -[0m
    [37m+min_wal_size = 80MB[0m
    [37m+max_wal_size = 1GB[0m
    [37m [0m
    [37m-#checkpoint_timeout = 5min		# range 30s-1d[0m
    [37m-#max_wal_size = 1GB[0m
    [37m-#min_wal_size = 80MB[0m
    [37m-#checkpoint_completion_target = 0.5	# checkpoint target duration, 0.0 - 1.0[0m
    [37m-#checkpoint_flush_after = 256kB		# measured in pages, 0 disables[0m
    [37m-#checkpoint_warning = 30s		# 0 disables[0m
    [37m+# The number of replication slots to reserve.[0m
    [37m+max_replication_slots = 0[0m
    [37m [0m
    [37m+[0m
    [37m # - Archiving -[0m
    [37m [0m
    [37m-#archive_mode = off		# enables archiving; off, on, or always[0m
    [37m-				# (change requires restart)[0m
    [37m-#archive_command = ''		# command to use to archive a logfile segment[0m
    [37m-				# placeholders: %p = path of file to archive[0m
    [37m-				#               %f = file name only[0m
    [37m-				# e.g. 'test ! -f /mnt/server/archivedir/%f && cp %p /mnt/server/archivedir/%f'[0m
    [37m-#archive_timeout = 0		# force a logfile segment switch after this[0m
    [37m-				# number of seconds; 0 disables[0m
    [37m+archive_mode = off   # allows archiving to be done[0m
    [37m+        # (change requires restart, also requires 'wal_level' of 'hot_standby' OR 'replica')[0m
    [37m [0m
    [37m-[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m # REPLICATION[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m [0m
    [37m-# - Sending Server(s) -[0m
    [37m-[0m
    [37m-# Set these on the master and on any standby that will send replication data.[0m
    [37m-[0m
    [37m-#max_wal_senders = 0		# max number of walsender processes[0m
    [37m-				# (change requires restart)[0m
    [37m-#wal_keep_segments = 0		# in logfile segments, 16MB each; 0 disables[0m
    [37m-#wal_sender_timeout = 60s	# in milliseconds; 0 disables[0m
    [37m-[0m
    [37m-#max_replication_slots = 0	# max number of replication slots[0m
    [37m-				# (change requires restart)[0m
    [37m-#track_commit_timestamp = off	# collect timestamp of transaction commit[0m
    [37m-				# (change requires restart)[0m
    [37m-[0m
    [37m # - Master Server -[0m
    [37m [0m
    [37m-# These settings are ignored on a standby server.[0m
    [37m+# These settings are ignored on a standby server[0m
    [37m [0m
    [37m-#synchronous_standby_names = ''	# standby servers that provide sync rep[0m
    [37m-				# number of sync standbys and comma-separated list of application_name[0m
    [37m-				# from standby(s); '*' = all[0m
    [37m-#vacuum_defer_cleanup_age = 0	# number of xacts by which cleanup is delayed[0m
    [37m+max_wal_senders = 0[0m
    [37m+        # (change requires restart)[0m
    [37m+#wal_sender_delay = 1s    # walsender cycle time, 1-10000 milliseconds[0m
    [37m+#vacuum_defer_cleanup_age = 0 # number of xacts by which cleanup is delayed[0m
    [37m+#replication_timeout = 60s  # in milliseconds; 0 disables[0m
    [37m+#synchronous_standby_names = '' # standby servers that provide sync rep[0m
    [37m+        # comma-separated list of application_name[0m
    [37m+        # from standby(s); '*' = all[0m
    [37m [0m
    [37m # - Standby Servers -[0m
    [37m [0m
    [37m-# These settings are ignored on a master server.[0m
    [37m+# These settings are ignored on a master server[0m
    [37m [0m
    [37m-#hot_standby = off			# "on" allows queries during recovery[0m
    [37m-					# (change requires restart)[0m
    [37m-#max_standby_archive_delay = 30s	# max delay before canceling queries[0m
    [37m-					# when reading WAL from archive;[0m
    [37m-					# -1 allows indefinite delay[0m
    [37m-#max_standby_streaming_delay = 30s	# max delay before canceling queries[0m
    [37m-					# when reading streaming WAL;[0m
    [37m-					# -1 allows indefinite delay[0m
    [37m-#wal_receiver_status_interval = 10s	# send replies at least this often[0m
    [37m-					# 0 disables[0m
    [37m-#hot_standby_feedback = off		# send info from standby to prevent[0m
    [37m-					# query conflicts[0m
    [37m-#wal_receiver_timeout = 60s		# time that receiver waits for[0m
    [37m-					# communication from master[0m
    [37m-					# in milliseconds; 0 disables[0m
    [37m-#wal_retrieve_retry_interval = 5s	# time to wait before retrying to[0m
    [37m-					# retrieve WAL after a failed attempt[0m
    [37m+hot_standby = off[0m
    [37m+          # (change requires restart)[0m
    [37m+#wal_receiver_status_interval = 10s # send replies at least this often[0m
    [37m+          # 0 disables[0m
    [37m [0m
    [37m-[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m # QUERY TUNING[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -282,7 +227,6 @@[0m
    [37m #enable_hashagg = on[0m
    [37m #enable_hashjoin = on[0m
    [37m #enable_indexscan = on[0m
    [37m-#enable_indexonlyscan = on[0m
    [37m #enable_material = on[0m
    [37m #enable_mergejoin = on[0m
    [37m #enable_nestloop = on[0m
    [37m@@ -292,35 +236,28 @@[0m
    [37m [0m
    [37m # - Planner Cost Constants -[0m
    [37m [0m
    [37m-#seq_page_cost = 1.0			# measured on an arbitrary scale[0m
    [37m-#random_page_cost = 4.0			# same scale as above[0m
    [37m-#cpu_tuple_cost = 0.01			# same scale as above[0m
    [37m-#cpu_index_tuple_cost = 0.005		# same scale as above[0m
    [37m-#cpu_operator_cost = 0.0025		# same scale as above[0m
    [37m-#parallel_tuple_cost = 0.1		# same scale as above[0m
    [37m-#parallel_setup_cost = 1000.0	# same scale as above[0m
    [37m-#min_parallel_relation_size = 8MB[0m
    [37m-#effective_cache_size = 4GB[0m
    [37m+#cpu_tuple_cost = 0.01      # same scale as above[0m
    [37m+#cpu_index_tuple_cost = 0.005   # same scale as above[0m
    [37m+#cpu_operator_cost = 0.0025   # same scale as above[0m
    [37m [0m
    [37m # - Genetic Query Optimizer -[0m
    [37m [0m
    [37m #geqo = on[0m
    [37m #geqo_threshold = 12[0m
    [37m-#geqo_effort = 5			# range 1-10[0m
    [37m-#geqo_pool_size = 0			# selects default based on effort[0m
    [37m-#geqo_generations = 0			# selects default based on effort[0m
    [37m-#geqo_selection_bias = 2.0		# range 1.5-2.0[0m
    [37m-#geqo_seed = 0.0			# range 0.0-1.0[0m
    [37m+#geqo_effort = 5      # range 1-10[0m
    [37m+#geqo_pool_size = 0     # selects default based on effort[0m
    [37m+#geqo_generations = 0     # selects default based on effort[0m
    [37m+#geqo_selection_bias = 2.0    # range 1.5-2.0[0m
    [37m+#geqo_seed = 0.0      # range 0.0-1.0[0m
    [37m [0m
    [37m # - Other Planner Options -[0m
    [37m [0m
    [37m-#default_statistics_target = 100	# range 1-10000[0m
    [37m-#constraint_exclusion = partition	# on, off, or partition[0m
    [37m-#cursor_tuple_fraction = 0.1		# range 0.0-1.0[0m
    [37m+#default_statistics_target = 100  # range 1-10000[0m
    [37m+#constraint_exclusion = partition # on, off, or partition[0m
    [37m+#cursor_tuple_fraction = 0.1    # range 0.0-1.0[0m
    [37m #from_collapse_limit = 8[0m
    [37m-#join_collapse_limit = 8		# 1 disables collapsing of explicit[0m
    [37m-					# JOIN clauses[0m
    [37m-#force_parallel_mode = off[0m
    [37m+#join_collapse_limit = 8    # 1 disables collapsing of explicit[0m
    [37m+          # JOIN clauses[0m
    [37m [0m
    [37m [0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -329,144 +266,105 @@[0m
    [37m [0m
    [37m # - Where to Log -[0m
    [37m [0m
    [37m-#log_destination = 'stderr'		# Valid values are combinations of[0m
    [37m-					# stderr, csvlog, syslog, and eventlog,[0m
    [37m-					# depending on platform.  csvlog[0m
    [37m-					# requires logging_collector to be on.[0m
    [37m+#log_destination = 'stderr'   # Valid values are combinations of[0m
    [37m+          # stderr, csvlog, syslog, and eventlog,[0m
    [37m+          # depending on platform.  csvlog[0m
    [37m+          # requires logging_collector to be on.[0m
    [37m [0m
    [37m # This is used when logging to stderr:[0m
    [37m-#logging_collector = off		# Enable capturing of stderr and csvlog[0m
    [37m-					# into log files. Required to be on for[0m
    [37m-					# csvlogs.[0m
    [37m-					# (change requires restart)[0m
    [37m+#logging_collector = off    # Enable capturing of stderr and csvlog[0m
    [37m+          # into log files. Required to be on for[0m
    [37m+          # csvlogs.[0m
    [37m+          # (change requires restart)[0m
    [37m [0m
    [37m # These are only used if logging_collector is on:[0m
    [37m-#log_directory = 'pg_log'		# directory where log files are written,[0m
    [37m-					# can be absolute or relative to PGDATA[0m
    [37m-#log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'	# log file name pattern,[0m
    [37m-					# can include strftime() escapes[0m
    [37m-#log_file_mode = 0600			# creation mode for log files,[0m
    [37m-					# begin with 0 to use octal notation[0m
    [37m-#log_truncate_on_rotation = off		# If on, an existing log file with the[0m
    [37m-					# same name as the new log file will be[0m
    [37m-					# truncated rather than appended to.[0m
    [37m-					# But such truncation only occurs on[0m
    [37m-					# time-driven rotation, not on restarts[0m
    [37m-					# or size-driven rotation.  Default is[0m
    [37m-					# off, meaning append to existing files[0m
    [37m-					# in all cases.[0m
    [37m-#log_rotation_age = 1d			# Automatic rotation of logfiles will[0m
    [37m-					# happen after that time.  0 disables.[0m
    [37m-#log_rotation_size = 10MB		# Automatic rotation of logfiles will[0m
    [37m-					# happen after that much log output.[0m
    [37m-					# 0 disables.[0m
    [37m+#log_directory = 'pg_log'   # directory where log files are written,[0m
    [37m+          # can be absolute or relative to PGDATA[0m
    [37m+#log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'  # log file name pattern,[0m
    [37m+          # can include strftime() escapes[0m
    [37m+#log_file_mode = 0600     # creation mode for log files,[0m
    [37m+          # begin with 0 to use octal notation[0m
    [37m+#log_truncate_on_rotation = off   # If on, an existing log file with the[0m
    [37m+          # same name as the new log file will be[0m
    [37m+          # truncated rather than appended to.[0m
    [37m+          # But such truncation only occurs on[0m
    [37m+          # time-driven rotation, not on restarts[0m
    [37m+          # or size-driven rotation.  Default is[0m
    [37m+          # off, meaning append to existing files[0m
    [37m+          # in all cases.[0m
    [37m+#log_rotation_age = 1d      # Automatic rotation of logfiles will[0m
    [37m+          # happen after that time.  0 disables.[0m
    [37m+#log_rotation_size = 10MB   # Automatic rotation of logfiles will[0m
    [37m+          # happen after that much log output.[0m
    [37m+          # 0 disables.[0m
    [37m [0m
    [37m # These are relevant when logging to syslog:[0m
    [37m #syslog_facility = 'LOCAL0'[0m
    [37m #syslog_ident = 'postgres'[0m
    [37m-#syslog_sequence_numbers = on[0m
    [37m-#syslog_split_messages = on[0m
    [37m [0m
    [37m-# This is only relevant when logging to eventlog (win32):[0m
    [37m-# (change requires restart)[0m
    [37m-#event_source = 'PostgreSQL'[0m
    [37m+#silent_mode = off      # Run server silently.[0m
    [37m+          # DO NOT USE without syslog or[0m
    [37m+          # logging_collector[0m
    [37m+          # (change requires restart)[0m
    [37m [0m
    [37m+[0m
    [37m # - When to Log -[0m
    [37m [0m
    [37m-#client_min_messages = notice		# values in order of decreasing detail:[0m
    [37m-					#   debug5[0m
    [37m-					#   debug4[0m
    [37m-					#   debug3[0m
    [37m-					#   debug2[0m
    [37m-					#   debug1[0m
    [37m-					#   log[0m
    [37m-					#   notice[0m
    [37m-					#   warning[0m
    [37m-					#   error[0m
    [37m+#client_min_messages = notice   # values in order of decreasing detail:[0m
    [37m+          #   debug5[0m
    [37m+          #   debug4[0m
    [37m+          #   debug3[0m
    [37m+          #   debug2[0m
    [37m+          #   debug1[0m
    [37m+          #   log[0m
    [37m+          #   notice[0m
    [37m+          #   warning[0m
    [37m+          #   error[0m
    [37m [0m
    [37m-#log_min_messages = warning		# values in order of decreasing detail:[0m
    [37m-					#   debug5[0m
    [37m-					#   debug4[0m
    [37m-					#   debug3[0m
    [37m-					#   debug2[0m
    [37m-					#   debug1[0m
    [37m-					#   info[0m
    [37m-					#   notice[0m
    [37m-					#   warning[0m
    [37m-					#   error[0m
    [37m-					#   log[0m
    [37m-					#   fatal[0m
    [37m-					#   panic[0m
    [37m+#log_min_messages = warning   # values in order of decreasing detail:[0m
    [37m+          #   debug5[0m
    [37m+          #   debug4[0m
    [37m+          #   debug3[0m
    [37m+          #   debug2[0m
    [37m+          #   debug1[0m
    [37m+          #   info[0m
    [37m+          #   notice[0m
    [37m+          #   warning[0m
    [37m+          #   error[0m
    [37m+          #   log[0m
    [37m+          #   fatal[0m
    [37m+          #   panic[0m
    [37m [0m
    [37m-#log_min_error_statement = error	# values in order of decreasing detail:[0m
    [37m-					#   debug5[0m
    [37m-					#   debug4[0m
    [37m-					#   debug3[0m
    [37m-					#   debug2[0m
    [37m-					#   debug1[0m
    [37m-					#   info[0m
    [37m-					#   notice[0m
    [37m-					#   warning[0m
    [37m-					#   error[0m
    [37m-					#   log[0m
    [37m-					#   fatal[0m
    [37m-					#   panic (effectively off)[0m
    [37m+#log_min_error_statement = error  # values in order of decreasing detail:[0m
    [37m+          #   debug5[0m
    [37m+          #   debug4[0m
    [37m+          #   debug3[0m
    [37m+          #   debug2[0m
    [37m+          #   debug1[0m
    [37m+          #   info[0m
    [37m+          #   notice[0m
    [37m+          #   warning[0m
    [37m+          #   error[0m
    [37m+          #   log[0m
    [37m+          #   fatal[0m
    [37m+          #   panic (effectively off)[0m
    [37m [0m
    [37m-#log_min_duration_statement = -1	# -1 is disabled, 0 logs all statements[0m
    [37m-					# and their durations, > 0 logs only[0m
    [37m-					# statements running at least this number[0m
    [37m-					# of milliseconds[0m
    [37m-[0m
    [37m-[0m
    [37m # - What to Log -[0m
    [37m [0m
    [37m #debug_print_parse = off[0m
    [37m #debug_print_rewritten = off[0m
    [37m #debug_print_plan = off[0m
    [37m #debug_pretty_print = on[0m
    [37m-#log_checkpoints = off[0m
    [37m #log_connections = off[0m
    [37m #log_disconnections = off[0m
    [37m #log_duration = off[0m
    [37m-#log_error_verbosity = default		# terse, default, or verbose messages[0m
    [37m+#log_error_verbosity = default    # terse, default, or verbose messages[0m
    [37m #log_hostname = off[0m
    [37m-#log_line_prefix = ''			# special values:[0m
    [37m-					#   %a = application name[0m
    [37m-					#   %u = user name[0m
    [37m-					#   %d = database name[0m
    [37m-					#   %r = remote host and port[0m
    [37m-					#   %h = remote host[0m
    [37m-					#   %p = process ID[0m
    [37m-					#   %t = timestamp without milliseconds[0m
    [37m-					#   %m = timestamp with milliseconds[0m
    [37m-					#   %n = timestamp with milliseconds (as a Unix epoch)[0m
    [37m-					#   %i = command tag[0m
    [37m-					#   %e = SQL state[0m
    [37m-					#   %c = session ID[0m
    [37m-					#   %l = session line number[0m
    [37m-					#   %s = session start timestamp[0m
    [37m-					#   %v = virtual transaction ID[0m
    [37m-					#   %x = transaction ID (0 if none)[0m
    [37m-					#   %q = stop here in non-session[0m
    [37m-					#        processes[0m
    [37m-					#   %% = '%'[0m
    [37m-					# e.g. '<%u%%%d> '[0m
    [37m-#log_lock_waits = off			# log lock waits >= deadlock_timeout[0m
    [37m-#log_statement = 'none'			# none, ddl, mod, all[0m
    [37m-#log_replication_commands = off[0m
    [37m-#log_temp_files = -1			# log temporary files equal or larger[0m
    [37m-					# than the specified size in kilobytes;[0m
    [37m-					# -1 disables, 0 logs all temp files[0m
    [37m-log_timezone = 'UTC'[0m
    [37m+#log_lock_waits = off     # log lock waits >= deadlock_timeout[0m
    [37m+#log_statement = 'none'     # none, ddl, mod, all[0m
    [37m+#log_timezone = '(defaults to server environment setting)'[0m
    [37m [0m
    [37m [0m
    [37m-# - Process Title -[0m
    [37m-[0m
    [37m-#cluster_name = ''			# added to process titles if nonempty[0m
    [37m-					# (change requires restart)[0m
    [37m-#update_process_title = on[0m
    [37m-[0m
    [37m-[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m # RUNTIME STATISTICS[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -475,9 +373,9 @@[0m
    [37m [0m
    [37m #track_activities = on[0m
    [37m #track_counts = on[0m
    [37m-#track_io_timing = off[0m
    [37m-#track_functions = none			# none, pl, all[0m
    [37m-#track_activity_query_size = 1024	# (change requires restart)[0m
    [37m+#track_functions = none     # none, pl, all[0m
    [37m+track_activity_query_size = 1024 # (change requires restart)[0m
    [37m+#update_process_title = on[0m
    [37m #stats_temp_directory = 'pg_stat_tmp'[0m
    [37m [0m
    [37m [0m
    [37m@@ -493,93 +391,50 @@[0m
    [37m # AUTOVACUUM PARAMETERS[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m [0m
    [37m-#autovacuum = on			# Enable autovacuum subprocess?  'on'[0m
    [37m-					# requires track_counts to also be on.[0m
    [37m-#log_autovacuum_min_duration = -1	# -1 disables, 0 logs all actions and[0m
    [37m-					# their durations, > 0 logs only[0m
    [37m-					# actions running at least this number[0m
    [37m-					# of milliseconds.[0m
    [37m-#autovacuum_max_workers = 3		# max number of autovacuum subprocesses[0m
    [37m-					# (change requires restart)[0m
    [37m-#autovacuum_naptime = 1min		# time between autovacuum runs[0m
    [37m-#autovacuum_vacuum_threshold = 50	# min number of row updates before[0m
    [37m-					# vacuum[0m
    [37m-#autovacuum_analyze_threshold = 50	# min number of row updates before[0m
    [37m-					# analyze[0m
    [37m-#autovacuum_vacuum_scale_factor = 0.2	# fraction of table size before vacuum[0m
    [37m-#autovacuum_analyze_scale_factor = 0.1	# fraction of table size before analyze[0m
    [37m-#autovacuum_freeze_max_age = 200000000	# maximum XID age before forced vacuum[0m
    [37m-					# (change requires restart)[0m
    [37m-#autovacuum_multixact_freeze_max_age = 400000000	# maximum multixact age[0m
    [37m-					# before forced vacuum[0m
    [37m-					# (change requires restart)[0m
    [37m-#autovacuum_vacuum_cost_delay = 20ms	# default vacuum cost delay for[0m
    [37m-					# autovacuum, in milliseconds;[0m
    [37m-					# -1 means use vacuum_cost_delay[0m
    [37m-#autovacuum_vacuum_cost_limit = -1	# default vacuum cost limit for[0m
    [37m-					# autovacuum, -1 means use[0m
    [37m-					# vacuum_cost_limit[0m
    [37m-[0m
    [37m-[0m
    [37m+autovacuum_max_workers = 3 # max number of autovacuum subprocesses[0m
    [37m+          # (change requires restart)[0m
    [37m+autovacuum_freeze_max_age = 200000000  # maximum XID age before forced vacuum[0m
    [37m+          # (change requires restart)[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m # CLIENT CONNECTION DEFAULTS[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m [0m
    [37m # - Statement Behavior -[0m
    [37m [0m
    [37m-#search_path = '"$user", public'	# schema names[0m
    [37m-#default_tablespace = ''		# a tablespace name, '' uses the default[0m
    [37m-#temp_tablespaces = ''			# a list of tablespace names, '' uses[0m
    [37m-					# only default tablespace[0m
    [37m+#search_path = '"$user",public'   # schema names[0m
    [37m+#default_tablespace = ''    # a tablespace name, '' uses the default[0m
    [37m+#temp_tablespaces = ''      # a list of tablespace names, '' uses[0m
    [37m+          # only default tablespace[0m
    [37m #check_function_bodies = on[0m
    [37m #default_transaction_isolation = 'read committed'[0m
    [37m #default_transaction_read_only = off[0m
    [37m #default_transaction_deferrable = off[0m
    [37m #session_replication_role = 'origin'[0m
    [37m-#statement_timeout = 0			# in milliseconds, 0 is disabled[0m
    [37m-#lock_timeout = 0			# in milliseconds, 0 is disabled[0m
    [37m-#idle_in_transaction_session_timeout = 0		# in milliseconds, 0 is disabled[0m
    [37m #vacuum_freeze_min_age = 50000000[0m
    [37m #vacuum_freeze_table_age = 150000000[0m
    [37m-#vacuum_multixact_freeze_min_age = 5000000[0m
    [37m-#vacuum_multixact_freeze_table_age = 150000000[0m
    [37m-#bytea_output = 'hex'			# hex, escape[0m
    [37m+#bytea_output = 'hex'     # hex, escape[0m
    [37m #xmlbinary = 'base64'[0m
    [37m #xmloption = 'content'[0m
    [37m-#gin_fuzzy_search_limit = 0[0m
    [37m-#gin_pending_list_limit = 4MB[0m
    [37m [0m
    [37m # - Locale and Formatting -[0m
    [37m [0m
    [37m-datestyle = 'iso, mdy'[0m
    [37m #intervalstyle = 'postgres'[0m
    [37m-timezone = 'UTC'[0m
    [37m+#timezone = '(defaults to server environment setting)'[0m
    [37m #timezone_abbreviations = 'Default'     # Select the set of available time zone[0m
    [37m-					# abbreviations.  Currently, there are[0m
    [37m-					#   Default[0m
    [37m-					#   Australia (historical usage)[0m
    [37m-					#   India[0m
    [37m-					# You can create your own file in[0m
    [37m-					# share/timezonesets/.[0m
    [37m-#extra_float_digits = 0			# min -15, max 3[0m
    [37m-#client_encoding = sql_ascii		# actually, defaults to database[0m
    [37m-					# encoding[0m
    [37m+          # abbreviations.  Currently, there are[0m
    [37m+          #   Default[0m
    [37m+          #   Australia[0m
    [37m+          #   India[0m
    [37m+          # You can create your own file in[0m
    [37m+          # share/timezonesets/.[0m
    [37m+#extra_float_digits = 0     # min -15, max 3[0m
    [37m+#client_encoding = sql_ascii    # actually, defaults to database[0m
    [37m+          # encoding[0m
    [37m [0m
    [37m-# These settings are initialized by initdb, but they can be changed.[0m
    [37m-lc_messages = 'en_US.UTF-8'			# locale for system error message[0m
    [37m-					# strings[0m
    [37m-lc_monetary = 'en_US.UTF-8'			# locale for monetary formatting[0m
    [37m-lc_numeric = 'en_US.UTF-8'			# locale for number formatting[0m
    [37m-lc_time = 'en_US.UTF-8'				# locale for time formatting[0m
    [37m-[0m
    [37m-# default configuration for text search[0m
    [37m-default_text_search_config = 'pg_catalog.english'[0m
    [37m-[0m
    [37m # - Other Defaults -[0m
    [37m [0m
    [37m #dynamic_library_path = '$libdir'[0m
    [37m #local_preload_libraries = ''[0m
    [37m-#session_preload_libraries = ''[0m
    [37m [0m
    [37m [0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -587,12 +442,14 @@[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m [0m
    [37m #deadlock_timeout = 1s[0m
    [37m-#max_locks_per_transaction = 64		# min 10[0m
    [37m-					# (change requires restart)[0m
    [37m-#max_pred_locks_per_transaction = 64	# min 10[0m
    [37m-					# (change requires restart)[0m
    [37m+max_locks_per_transaction = 128   # min 10[0m
    [37m+          # (change requires restart)[0m
    [37m+# Note:  Each lock table slot uses ~270 bytes of shared memory, and there are[0m
    [37m+# max_locks_per_transaction * (max_connections + max_prepared_transactions)[0m
    [37m+# lock table slots.[0m
    [37m+#max_pred_locks_per_transaction = 64  # min 10[0m
    [37m+          # (change requires restart)[0m
    [37m [0m
    [37m-[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m # VERSION/PLATFORM COMPATIBILITY[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m@@ -600,11 +457,10 @@[0m
    [37m # - Previous PostgreSQL Versions -[0m
    [37m [0m
    [37m #array_nulls = on[0m
    [37m-#backslash_quote = safe_encoding	# on, off, or safe_encoding[0m
    [37m+#backslash_quote = safe_encoding  # on, off, or safe_encoding[0m
    [37m #default_with_oids = off[0m
    [37m #escape_string_warning = on[0m
    [37m #lo_compat_privileges = off[0m
    [37m-#operator_precedence_warning = off[0m
    [37m #quote_all_identifiers = off[0m
    [37m #sql_inheritance = on[0m
    [37m #standard_conforming_strings = on[0m
    [37m@@ -619,26 +475,15 @@[0m
    [37m # ERROR HANDLING[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m [0m
    [37m-#exit_on_error = off			# terminate session on any error?[0m
    [37m-#restart_after_crash = on		# reinitialize after backend crash?[0m
    [37m+#exit_on_error = off        # terminate session on any error?[0m
    [37m+#restart_after_crash = on     # reinitialize after backend crash?[0m
    [37m [0m
    [37m [0m
    [37m #------------------------------------------------------------------------------[0m
    [37m-# CONFIG FILE INCLUDES[0m
    [37m-#------------------------------------------------------------------------------[0m
    [37m-[0m
    [37m-# These options allow settings to be loaded from files other than the[0m
    [37m-# default postgresql.conf.[0m
    [37m-[0m
    [37m-#include_dir = 'conf.d'			# include files ending in '.conf' from[0m
    [37m-					# directory 'conf.d'[0m
    [37m-#include_if_exists = 'exists.conf'	# include file only if it exists[0m
    [37m-#include = 'special.conf'		# include file[0m
    [37m-[0m
    [37m-[0m
    [37m-#------------------------------------------------------------------------------[0m
    [37m # CUSTOMIZED OPTIONS[0m
    [37m #------------------------------------------------------------------------------[0m
    [37m [0m
    [37m-# Add settings for extensions here[0m
    [37m+#custom_variable_classes = ''   # list of custom variable class names[0m
    [37m+[0m
    [37m+include 'runtime.conf'[0m
    [32m- change mode from '0600' to '0644'[0m
[0m  * template[/var/opt/gitlab/postgresql/data/runtime.conf] action create
    [32m- create new file /var/opt/gitlab/postgresql/data/runtime.conf[0m
    [32m- update content in file /var/opt/gitlab/postgresql/data/runtime.conf from none to b16952[0m
    [37m--- /var/opt/gitlab/postgresql/data/runtime.conf	2018-12-19 22:13:11.093056340 +0000[0m
    [37m+++ /var/opt/gitlab/postgresql/data/.chef-runtime20181219-14209-16pnnqz.conf	2018-12-19 22:13:11.093056340 +0000[0m
    [37m@@ -1 +1,132 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m+# Changing variables in this file should only require a reload of PostgreSQL[0m
    [37m+# As the gitlab-psql user, run:[0m
    [37m+# /opt/gitlab/embedded/bin/pg_ctl reload -D /var/opt/gitlab/postgresql/data[0m
    [37m+work_mem = 16MB				# min 64kB[0m
    [37m+maintenance_work_mem = 16MB # 16MB    # min 1MB[0m
    [37m+synchronous_commit = on # synchronization level; on, off, or local[0m
    [37m+synchronous_standby_names = ''[0m
    [37m+[0m
    [37m+# - Checkpoints -[0m
    [37m+min_wal_size = 80MB[0m
    [37m+max_wal_size = 1GB[0m
    [37m+[0m
    [37m+checkpoint_timeout = 5min		# range 30s-1h, default 5min[0m
    [37m+checkpoint_completion_target = 0.9	# checkpoint target duration, 0.0 - 1.0, default 0.5[0m
    [37m+checkpoint_warning = 30s		# 0 disables, default 30s[0m
    [37m+[0m
    [37m+# - Archiving -[0m
    [37m+archive_command = ''   # command to use to archive a logfile segment[0m
    [37m+archive_timeout = 0    # force a logfile segment switch after this[0m
    [37m+        # number of seconds; 0 disables[0m
    [37m+[0m
    [37m+# - Replication[0m
    [37m+wal_keep_segments = 10[0m
    [37m+[0m
    [37m+max_standby_archive_delay = 30s # max delay before canceling queries[0m
    [37m+          # when reading WAL from archive;[0m
    [37m+          # -1 allows indefinite delay[0m
    [37m+max_standby_streaming_delay = 30s # max delay before canceling queries[0m
    [37m+          # when reading streaming WAL;[0m
    [37m+          # -1 allows indefinite delay[0m
    [37m+[0m
    [37m+hot_standby_feedback = off   # send info from standby to prevent[0m
    [37m+          # query conflicts[0m
    [37m+[0m
    [37m+# - Planner Cost Constants -[0m
    [37m+#seq_page_cost = 1.0      # measured on an arbitrary scale[0m
    [37m+random_page_cost = 2.0     # same scale as above[0m
    [37m+[0m
    [37m+effective_cache_size = 1975MB # Default 128MB[0m
    [37m+[0m
    [37m+log_min_duration_statement = -1  # -1 is disabled, 0 logs all statements[0m
    [37m+          # and their durations, > 0 logs only[0m
    [37m+          # statements running at least this number[0m
    [37m+          # of milliseconds[0m
    [37m+[0m
    [37m+log_checkpoints = off[0m
    [37m+[0m
    [37m+log_line_prefix = '' # default '', special values:[0m
    [37m+          #   %a = application name[0m
    [37m+          #   %u = user name[0m
    [37m+          #   %d = database name[0m
    [37m+          #   %r = remote host and port[0m
    [37m+          #   %h = remote host[0m
    [37m+          #   %p = process ID[0m
    [37m+          #   %t = timestamp without milliseconds[0m
    [37m+          #   %m = timestamp with milliseconds[0m
    [37m+          #   %i = command tag[0m
    [37m+          #   %e = SQL state[0m
    [37m+          #   %c = session ID[0m
    [37m+          #   %l = session line number[0m
    [37m+          #   %s = session start timestamp[0m
    [37m+          #   %v = virtual transaction ID[0m
    [37m+          #   %x = transaction ID (0 if none)[0m
    [37m+          #   %q = stop here in non-session[0m
    [37m+          #        processes[0m
    [37m+          #   %% = '%'[0m
    [37m+[0m
    [37m+log_temp_files = -1      # log temporary files equal or larger[0m
    [37m+          # than the specified size in kilobytes;[0m
    [37m+          # -1 disables, 0 logs all temp files[0m
    [37m+[0m
    [37m+[0m
    [37m+# - Autovacuum parameters -[0m
    [37m+autovacuum = on # Enable autovacuum subprocess?  'on'[0m
    [37m+          # requires track_counts to also be on.[0m
    [37m+[0m
    [37m+log_autovacuum_min_duration = -1 # -1 disables, 0 logs all actions and[0m
    [37m+          # their durations, > 0 logs only[0m
    [37m+          # actions running at least this number[0m
    [37m+          # of milliseconds.[0m
    [37m+[0m
    [37m+autovacuum_naptime = 1min # time between autovacuum runs[0m
    [37m+autovacuum_vacuum_threshold = 50 # min number of row updates before[0m
    [37m+          # vacuum[0m
    [37m+autovacuum_analyze_threshold = 50 # min number of row updates before[0m
    [37m+          # analyze[0m
    [37m+autovacuum_vacuum_scale_factor = 0.02 # fraction of table size before vacuum[0m
    [37m+autovacuum_analyze_scale_factor = 0.01 # fraction of table size before analyze[0m
    [37m+autovacuum_vacuum_cost_delay = 20ms # default vacuum cost delay for[0m
    [37m+          # autovacuum, in milliseconds;[0m
    [37m+          # -1 means use vacuum_cost_delay[0m
    [37m+autovacuum_vacuum_cost_limit = -1 # default vacuum cost limit for[0m
    [37m+          # autovacuum, -1 means use[0m
    [37m+          # vacuum_cost_limit[0m
    [37m+[0m
    [37m+# Parameters for gathering statistics[0m
    [37m+default_statistics_target = 1000[0m
    [37m+[0m
    [37m+# - Client connection timeouts[0m
    [37m+statement_timeout = 60000[0m
    [37m+[0m
    [37m+idle_in_transaction_session_timeout = 60000[0m
    [37m+[0m
    [37m+# IO settings[0m
    [37m+effective_io_concurrency = 1[0m
    [37m+track_io_timing = 'off'[0m
    [37m+[0m
    [37m+# Parallel worker settings[0m
    [37m+max_worker_processes = 8[0m
    [37m+max_parallel_workers_per_gather = 0[0m
    [37m+[0m
    [37m+# Deadlock handling and logging[0m
    [37m+deadlock_timeout = '5s'[0m
    [37m+log_lock_waits = 1[0m
    [37m+[0m
    [37m+# - Locale and Formatting -[0m
    [37m+datestyle = 'iso, mdy'[0m
    [37m+[0m
    [37m+# These settings are initialized by initdb, but they can be changed.[0m
    [37m+lc_messages = 'C'     # locale for system error message[0m
    [37m+          # strings[0m
    [37m+lc_monetary = 'C'     # locale for monetary formatting[0m
    [37m+lc_numeric = 'C'      # locale for number formatting[0m
    [37m+lc_time = 'C'       # locale for time formatting[0m
    [37m+[0m
    [37m+# default configuration for text search[0m
    [37m+default_text_search_config = 'pg_catalog.english'[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * template[/var/opt/gitlab/postgresql/data/pg_hba.conf] action create
    [32m- update content in file /var/opt/gitlab/postgresql/data/pg_hba.conf from d7d331 to 40e348[0m
    [37m--- /var/opt/gitlab/postgresql/data/pg_hba.conf	2018-12-19 22:13:08.694256340 +0000[0m
    [37m+++ /var/opt/gitlab/postgresql/data/.chef-pg_hba20181219-14209-vw6kq.conf	2018-12-19 22:13:11.109048340 +0000[0m
    [37m@@ -1,94 +1,74 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m # PostgreSQL Client Authentication Configuration File[0m
    [37m # ===================================================[0m
    [37m #[0m
    [37m-# Refer to the "Client Authentication" section in the PostgreSQL[0m
    [37m-# documentation for a complete description of this file.  A short[0m
    [37m-# synopsis follows.[0m
    [37m+# Refer to the "Client Authentication" section in the[0m
    [37m+# PostgreSQL documentation for a complete description[0m
    [37m+# of this file.  A short synopsis follows.[0m
    [37m #[0m
    [37m # This file controls: which hosts are allowed to connect, how clients[0m
    [37m # are authenticated, which PostgreSQL user names they can use, which[0m
    [37m # databases they can access.  Records take one of these forms:[0m
    [37m #[0m
    [37m-# local      DATABASE  USER  METHOD  [OPTIONS][0m
    [37m-# host       DATABASE  USER  ADDRESS  METHOD  [OPTIONS][0m
    [37m-# hostssl    DATABASE  USER  ADDRESS  METHOD  [OPTIONS][0m
    [37m-# hostnossl  DATABASE  USER  ADDRESS  METHOD  [OPTIONS][0m
    [37m+# local      DATABASE  USER  METHOD  [OPTION][0m
    [37m+# host       DATABASE  USER  CIDR-ADDRESS  METHOD  [OPTION][0m
    [37m+# hostssl    DATABASE  USER  CIDR-ADDRESS  METHOD  [OPTION][0m
    [37m+# hostnossl  DATABASE  USER  CIDR-ADDRESS  METHOD  [OPTION][0m
    [37m #[0m
    [37m # (The uppercase items must be replaced by actual values.)[0m
    [37m #[0m
    [37m-# The first field is the connection type: "local" is a Unix-domain[0m
    [37m-# socket, "host" is either a plain or SSL-encrypted TCP/IP socket,[0m
    [37m-# "hostssl" is an SSL-encrypted TCP/IP socket, and "hostnossl" is a[0m
    [37m-# plain TCP/IP socket.[0m
    [37m+# The first field is the connection type: "local" is a Unix-domain socket,[0m
    [37m+# "host" is either a plain or SSL-encrypted TCP/IP socket, "hostssl" is an[0m
    [37m+# SSL-encrypted TCP/IP socket, and "hostnossl" is a plain TCP/IP socket.[0m
    [37m #[0m
    [37m-# DATABASE can be "all", "sameuser", "samerole", "replication", a[0m
    [37m-# database name, or a comma-separated list thereof. The "all"[0m
    [37m-# keyword does not match "replication". Access to replication[0m
    [37m-# must be enabled in a separate record (see example below).[0m
    [37m+# DATABASE can be "all", "sameuser", "samerole", a database name, or[0m
    [37m+# a comma-separated list thereof.[0m
    [37m #[0m
    [37m-# USER can be "all", a user name, a group name prefixed with "+", or a[0m
    [37m-# comma-separated list thereof.  In both the DATABASE and USER fields[0m
    [37m-# you can also write a file name prefixed with "@" to include names[0m
    [37m-# from a separate file.[0m
    [37m+# USER can be "all", a user name, a group name prefixed with "+", or[0m
    [37m+# a comma-separated list thereof.  In both the DATABASE and USER fields[0m
    [37m+# you can also write a file name prefixed with "@" to include names from[0m
    [37m+# a separate file.[0m
    [37m #[0m
    [37m-# ADDRESS specifies the set of hosts the record matches.  It can be a[0m
    [37m-# host name, or it is made up of an IP address and a CIDR mask that is[0m
    [37m-# an integer (between 0 and 32 (IPv4) or 128 (IPv6) inclusive) that[0m
    [37m-# specifies the number of significant bits in the mask.  A host name[0m
    [37m-# that starts with a dot (.) matches a suffix of the actual host name.[0m
    [37m-# Alternatively, you can write an IP address and netmask in separate[0m
    [37m-# columns to specify the set of hosts.  Instead of a CIDR-address, you[0m
    [37m-# can write "samehost" to match any of the server's own IP addresses,[0m
    [37m-# or "samenet" to match any address in any subnet that the server is[0m
    [37m-# directly connected to.[0m
    [37m+# CIDR-ADDRESS specifies the set of hosts the record matches.[0m
    [37m+# It is made up of an IP address and a CIDR mask that is an integer[0m
    [37m+# (between 0 and 32 (IPv4) or 128 (IPv6) inclusive) that specifies[0m
    [37m+# the number of significant bits in the mask.  Alternatively, you can write[0m
    [37m+# an IP address and netmask in separate columns to specify the set of hosts.[0m
    [37m #[0m
    [37m-# METHOD can be "trust", "reject", "md5", "password", "gss", "sspi",[0m
    [37m-# "ident", "peer", "pam", "ldap", "radius" or "cert".  Note that[0m
    [37m-# "password" sends passwords in clear text; "md5" is preferred since[0m
    [37m-# it sends encrypted passwords.[0m
    [37m+# METHOD can be "trust", "reject", "md5", "crypt", "password", "gss", "sspi",[0m
    [37m+# "krb5", "ident", "pam" or "ldap".  Note that "password" sends passwords[0m
    [37m+# in clear text; "md5" is preferred since it sends encrypted passwords.[0m
    [37m #[0m
    [37m-# OPTIONS are a set of options for the authentication in the format[0m
    [37m-# NAME=VALUE.  The available options depend on the different[0m
    [37m-# authentication methods -- refer to the "Client Authentication"[0m
    [37m-# section in the documentation for a list of which options are[0m
    [37m-# available for which authentication methods.[0m
    [37m+# OPTION is the ident map or the name of the PAM service, depending on METHOD.[0m
    [37m #[0m
    [37m-# Database and user names containing spaces, commas, quotes and other[0m
    [37m-# special characters must be quoted.  Quoting one of the keywords[0m
    [37m-# "all", "sameuser", "samerole" or "replication" makes the name lose[0m
    [37m-# its special character, and just match a database or username with[0m
    [37m-# that name.[0m
    [37m+# Database and user names containing spaces, commas, quotes and other special[0m
    [37m+# characters must be quoted. Quoting one of the keywords "all", "sameuser" or[0m
    [37m+# "samerole" makes the name lose its special character, and just match a[0m
    [37m+# database or username with that name.[0m
    [37m #[0m
    [37m # This file is read on server startup and when the postmaster receives[0m
    [37m # a SIGHUP signal.  If you edit the file on a running system, you have[0m
    [37m-# to SIGHUP the postmaster for the changes to take effect.  You can[0m
    [37m-# use "pg_ctl reload" to do that.[0m
    [37m+# to SIGHUP the postmaster for the changes to take effect.  You can use[0m
    [37m+# "pg_ctl reload" to do that.[0m
    [37m [0m
    [37m # Put your actual configuration here[0m
    [37m # ----------------------------------[0m
    [37m #[0m
    [37m # If you want to allow non-local connections, you need to add more[0m
    [37m-# "host" records.  In that case you will also need to make PostgreSQL[0m
    [37m-# listen on a non-local interface via the listen_addresses[0m
    [37m-# configuration parameter, or via the -i or -h command line switches.[0m
    [37m+# "host" records. In that case you will also need to make PostgreSQL listen[0m
    [37m+# on a non-local interface via the listen_addresses configuration parameter,[0m
    [37m+# or via the -i or -h command line switches.[0m
    [37m+#[0m
    [37m [0m
    [37m-# CAUTION: Configuring the system for local "trust" authentication[0m
    [37m-# allows any local user to connect as any PostgreSQL user, including[0m
    [37m-# the database superuser.  If you do not trust all your local users,[0m
    [37m-# use another authentication method.[0m
    [37m [0m
    [37m+# TYPE  DATABASE    USER        CIDR-ADDRESS          METHOD[0m
    [37m [0m
    [37m-# TYPE  DATABASE        USER            ADDRESS                 METHOD[0m
    [37m-[0m
    [37m # "local" is for Unix domain socket connections only[0m
    [37m-local   all             all                                     trust[0m
    [37m-# IPv4 local connections:[0m
    [37m-host    all             all             127.0.0.1/32            trust[0m
    [37m-# IPv6 local connections:[0m
    [37m-host    all             all             ::1/128                 trust[0m
    [37m-# Allow replication connections from localhost, by a user with the[0m
    [37m-# replication privilege.[0m
    [37m-#local   replication     gitlab-psql                                trust[0m
    [37m-#host    replication     gitlab-psql        127.0.0.1/32            trust[0m
    [37m-#host    replication     gitlab-psql        ::1/128                 trust[0m
    [37m+local   all         all                               peer map=gitlab[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [32m- change mode from '0600' to '0644'[0m
[0m  * template[/var/opt/gitlab/postgresql/data/pg_ident.conf] action create
    [32m- update content in file /var/opt/gitlab/postgresql/data/pg_ident.conf from 297f46 to 5399a1[0m
    [37m--- /var/opt/gitlab/postgresql/data/pg_ident.conf	2018-12-19 22:13:08.694256340 +0000[0m
    [37m+++ /var/opt/gitlab/postgresql/data/.chef-pg_ident20181219-14209-1kwl9td.conf	2018-12-19 22:13:11.129038339 +0000[0m
    [37m@@ -40,4 +40,8 @@[0m
    [37m # ----------------------------------[0m
    [37m [0m
    [37m # MAPNAME       SYSTEM-USERNAME         PG-USERNAME[0m
    [37m+gitlab  git  gitlab[0m
    [37m+gitlab  mattermost  gitlab_mattermost[0m
    [37m+# Default to a 1-1 mapping between system usernames and Postgres usernames[0m
    [37m+gitlab  /^(.*)$  \1[0m
    [32m- change mode from '0600' to '0644'[0m
[0m  * directory[/opt/gitlab/sv/postgresql] action create
    [32m- create new directory /opt/gitlab/sv/postgresql[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/postgresql/log] action create
    [32m- create new directory /opt/gitlab/sv/postgresql/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/postgresql/log/main] action create
    [32m- create new directory /opt/gitlab/sv/postgresql/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/postgresql/run] action create
    [32m- create new file /opt/gitlab/sv/postgresql/run[0m
    [32m- update content in file /opt/gitlab/sv/postgresql/run from none to dc5689[0m
    [37m--- /opt/gitlab/sv/postgresql/run	2018-12-19 22:13:11.153026340 +0000[0m
    [37m+++ /opt/gitlab/sv/postgresql/.chef-run20181219-14209-19fngb2	2018-12-19 22:13:11.153026340 +0000[0m
    [37m@@ -1 +1,5 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+exec chpst -P -U gitlab-psql:gitlab-psql -u gitlab-psql:gitlab-psql /opt/gitlab/embedded/bin/postgres -D /var/opt/gitlab/postgresql/data[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/postgresql/log/run] action create
    [32m- create new file /opt/gitlab/sv/postgresql/log/run[0m
    [32m- update content in file /opt/gitlab/sv/postgresql/log/run from none to ce742a[0m
    [37m--- /opt/gitlab/sv/postgresql/log/run	2018-12-19 22:13:11.161022340 +0000[0m
    [37m+++ /opt/gitlab/sv/postgresql/log/.chef-run20181219-14209-9l2476	2018-12-19 22:13:11.161022340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/postgresql[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/postgresql/config] action create
    [32m- create new file /var/log/gitlab/postgresql/config[0m
    [32m- update content in file /var/log/gitlab/postgresql/config from none to 623c00[0m
    [37m--- /var/log/gitlab/postgresql/config	2018-12-19 22:13:11.169018340 +0000[0m
    [37m+++ /var/log/gitlab/postgresql/.chef-config20181219-14209-1xewu4k	2018-12-19 22:13:11.169018340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload postgresql svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart postgresql svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/postgresql/down] action delete (up to date)
  * directory[/opt/gitlab/sv/postgresql/control] action create
    [32m- create new directory /opt/gitlab/sv/postgresql/control[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/postgresql/control/t] action create
    [32m- create new file /opt/gitlab/sv/postgresql/control/t[0m
    [32m- update content in file /opt/gitlab/sv/postgresql/control/t from none to 05ae12[0m
    [37m--- /opt/gitlab/sv/postgresql/control/t	2018-12-19 22:13:11.181012339 +0000[0m
    [37m+++ /opt/gitlab/sv/postgresql/control/.chef-t20181219-14209-1uh50k3	2018-12-19 22:13:11.181012339 +0000[0m
    [37m@@ -1 +1,4 @@[0m
    [37m+#!/bin/sh[0m
    [37m+echo "received TERM from runit, sending INT instead to force quit connections"[0m
    [37m+/opt/gitlab/embedded/bin/sv interrupt postgresql[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * link[/opt/gitlab/init/postgresql] action create
    [32m- create symlink at /opt/gitlab/init/postgresql to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/postgresql] action create
    [32m- create symlink at /opt/gitlab/service/postgresql to /opt/gitlab/sv/postgresql[0m
[0m  * ruby_block[supervise_postgresql_sleep] action run
    [32m- execute the ruby block supervise_postgresql_sleep[0m
[0m  * directory[/opt/gitlab/sv/postgresql/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/postgresql/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/postgresql/supervise/ok] action touch
    [32m- create new file /opt/gitlab/sv/postgresql/supervise/ok[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
    [32m- change group from '' to 'gitlab-psql'[0m
    [32m- update utime on file /opt/gitlab/sv/postgresql/supervise/ok[0m
[0m  * file[/opt/gitlab/sv/postgresql/log/supervise/ok] action touch
    [32m- create new file /opt/gitlab/sv/postgresql/log/supervise/ok[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
    [32m- change group from '' to 'gitlab-psql'[0m
    [32m- update utime on file /opt/gitlab/sv/postgresql/log/supervise/ok[0m
[0m  * file[/opt/gitlab/sv/postgresql/supervise/control] action touch
    [32m- create new file /opt/gitlab/sv/postgresql/supervise/control[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
    [32m- change group from '' to 'gitlab-psql'[0m
    [32m- update utime on file /opt/gitlab/sv/postgresql/supervise/control[0m
[0m  * file[/opt/gitlab/sv/postgresql/log/supervise/control] action touch
    [32m- create new file /opt/gitlab/sv/postgresql/log/supervise/control[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
    [32m- change group from '' to 'gitlab-psql'[0m
    [32m- update utime on file /opt/gitlab/sv/postgresql/log/supervise/control[0m
[0m  * service[postgresql] action nothing (skipped due to action :nothing)
Recipe: postgresql::bin[0m
  * ruby_block[Link postgresql bin files to the correct version] action run (skipped due to only_if)
Recipe: postgresql::enable[0m
  * execute[/opt/gitlab/bin/gitlab-ctl start postgresql] action run
    [execute] ok: run: postgresql: (pid 15136) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start postgresql[0m
[0m  * template[/opt/gitlab/etc/gitlab-psql-rc] action create
    [32m- create new file /opt/gitlab/etc/gitlab-psql-rc[0m
    [32m- update content in file /opt/gitlab/etc/gitlab-psql-rc from none to b7b8fc[0m
    [37m--- /opt/gitlab/etc/gitlab-psql-rc	2018-12-19 22:13:14.771216340 +0000[0m
    [37m+++ /opt/gitlab/etc/.chef-gitlab-psql-rc20181219-14209-163jgqj	2018-12-19 22:13:14.771216340 +0000[0m
    [37m@@ -1 +1,6 @@[0m
    [37m+psql_user='gitlab-psql'[0m
    [37m+psql_group='gitlab-psql'[0m
    [37m+psql_host='/var/opt/gitlab/postgresql'[0m
    [37m+psql_port='5432'[0m
    [37m+psql_dbname='gitlabhq_production'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * postgresql_user[gitlab] action create
    * execute[create gitlab postgresql user] action run
      [execute] CREATE ROLE
      [32m- execute /opt/gitlab/bin/gitlab-psql -d template1 -c "CREATE USER \"gitlab\""[0m
[0m  
[0m  * execute[create gitlabhq_production database] action run
    [32m- execute /opt/gitlab/embedded/bin/createdb --port 5432 -h /var/opt/gitlab/postgresql -O gitlab gitlabhq_production[0m
[0m  * postgresql_user[gitlab_replicator] action create
    * execute[create gitlab_replicator postgresql user] action run
      [execute] CREATE ROLE
      [32m- execute /opt/gitlab/bin/gitlab-psql -d template1 -c "CREATE USER \"gitlab_replicator\""[0m
[0m    * execute[set options for gitlab_replicator postgresql user] action run
      [execute] ALTER ROLE
      [32m- execute /opt/gitlab/bin/gitlab-psql -d template1 -c "ALTER USER \"gitlab_replicator\" replication"[0m
[0m  
[0m  * postgresql_extension[pg_trgm] action enable
    * postgresql_query[enable pg_trgm extension] action run
      * execute[enable pg_trgm extension (postgresql)] action run
        [execute] CREATE EXTENSION
        [32m- execute /opt/gitlab/bin/gitlab-psql -d gitlabhq_production -c "CREATE EXTENSION IF NOT EXISTS pg_trgm"[0m
[0m    
[0m  
[0m  * ruby_block[warn pending postgresql restart] action run (skipped due to only_if)
  * execute[reload postgresql] action nothing (skipped due to action :nothing)
  * execute[start postgresql] action nothing (skipped due to action :nothing)
Recipe: gitlab::database_migrations[0m
  * bash[migrate gitlab-rails database] action run
    [execute] -- enable_extension("plpgsql")
                 -> 0.0100s
              -- enable_extension("pg_trgm")
                 -> 0.0023s
              -- create_table("abuse_reports", {:force=>:cascade})
                 -> 0.0306s
              -- create_table("appearances", {:force=>:cascade})
                 -> 0.0062s
              -- create_table("application_setting_terms", {:force=>:cascade})
                 -> 0.0048s
              -- create_table("application_settings", {:force=>:cascade})
                 -> 0.0361s
              -- create_table("audit_events", {:force=>:cascade})
                 -> 0.0046s
              -- add_index("audit_events", ["entity_id", "entity_type"], {:name=>"index_audit_events_on_entity_id_and_entity_type", :using=>:btree})
                 -> 0.0037s
              -- create_table("award_emoji", {:force=>:cascade})
                 -> 0.0043s
              -- add_index("award_emoji", ["awardable_type", "awardable_id"], {:name=>"index_award_emoji_on_awardable_type_and_awardable_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("award_emoji", ["user_id", "name"], {:name=>"index_award_emoji_on_user_id_and_name", :using=>:btree})
                 -> 0.0035s
              -- create_table("badges", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("badges", ["group_id"], {:name=>"index_badges_on_group_id", :using=>:btree})
                 -> 0.0037s
              -- add_index("badges", ["project_id"], {:name=>"index_badges_on_project_id", :using=>:btree})
                 -> 0.0045s
              -- create_table("board_group_recent_visits", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0037s
              -- add_index("board_group_recent_visits", ["board_id"], {:name=>"index_board_group_recent_visits_on_board_id", :using=>:btree})
                 -> 0.0040s
              -- add_index("board_group_recent_visits", ["group_id"], {:name=>"index_board_group_recent_visits_on_group_id", :using=>:btree})
                 -> 0.0040s
              -- add_index("board_group_recent_visits", ["user_id", "group_id", "board_id"], {:name=>"index_board_group_recent_visits_on_user_group_and_board", :unique=>true, :using=>:btree})
                 -> 0.0058s
              -- add_index("board_group_recent_visits", ["user_id"], {:name=>"index_board_group_recent_visits_on_user_id", :using=>:btree})
                 -> 0.0044s
              -- create_table("board_project_recent_visits", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0045s
              -- add_index("board_project_recent_visits", ["board_id"], {:name=>"index_board_project_recent_visits_on_board_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("board_project_recent_visits", ["project_id"], {:name=>"index_board_project_recent_visits_on_project_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("board_project_recent_visits", ["user_id", "project_id", "board_id"], {:name=>"index_board_project_recent_visits_on_user_project_and_board", :unique=>true, :using=>:btree})
                 -> 0.0042s
              -- add_index("board_project_recent_visits", ["user_id"], {:name=>"index_board_project_recent_visits_on_user_id", :using=>:btree})
                 -> 0.0044s
              -- create_table("boards", {:force=>:cascade})
                 -> 0.0044s
              -- add_index("boards", ["group_id"], {:name=>"index_boards_on_group_id", :using=>:btree})
                 -> 0.0042s
              -- add_index("boards", ["project_id"], {:name=>"index_boards_on_project_id", :using=>:btree})
                 -> 0.0040s
              -- create_table("broadcast_messages", {:force=>:cascade})
                 -> 0.0059s
              -- add_index("broadcast_messages", ["starts_at", "ends_at", "id"], {:name=>"index_broadcast_messages_on_starts_at_and_ends_at_and_id", :using=>:btree})
                 -> 0.0042s
              -- create_table("chat_names", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("chat_names", ["service_id", "team_id", "chat_id"], {:name=>"index_chat_names_on_service_id_and_team_id_and_chat_id", :unique=>true, :using=>:btree})
                 -> 0.0134s
              -- add_index("chat_names", ["user_id", "service_id"], {:name=>"index_chat_names_on_user_id_and_service_id", :unique=>true, :using=>:btree})
                 -> 0.0039s
              -- create_table("chat_teams", {:force=>:cascade})
                 -> 0.0063s
              -- add_index("chat_teams", ["namespace_id"], {:name=>"index_chat_teams_on_namespace_id", :unique=>true, :using=>:btree})
                 -> 0.0037s
              -- create_table("ci_build_trace_chunks", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0045s
              -- add_index("ci_build_trace_chunks", ["build_id", "chunk_index"], {:name=>"index_ci_build_trace_chunks_on_build_id_and_chunk_index", :unique=>true, :using=>:btree})
                 -> 0.0063s
              -- create_table("ci_build_trace_section_names", {:force=>:cascade})
                 -> 0.0082s
              -- add_index("ci_build_trace_section_names", ["project_id", "name"], {:name=>"index_ci_build_trace_section_names_on_project_id_and_name", :unique=>true, :using=>:btree})
                 -> 0.0037s
              -- create_table("ci_build_trace_sections", {:force=>:cascade})
                 -> 0.0050s
              -- add_index("ci_build_trace_sections", ["build_id", "section_name_id"], {:name=>"index_ci_build_trace_sections_on_build_id_and_section_name_id", :unique=>true, :using=>:btree})
                 -> 0.0044s
              -- add_index("ci_build_trace_sections", ["project_id"], {:name=>"index_ci_build_trace_sections_on_project_id", :using=>:btree})
                 -> 0.0035s
              -- add_index("ci_build_trace_sections", ["section_name_id"], {:name=>"index_ci_build_trace_sections_on_section_name_id", :using=>:btree})
                 -> 0.0034s
              -- create_table("ci_builds", {:force=>:cascade})
                 -> 0.0061s
              -- add_index("ci_builds", ["artifacts_expire_at"], {:name=>"index_ci_builds_on_artifacts_expire_at", :where=>"(artifacts_file <> ''::text)", :using=>:btree})
                 -> 0.0036s
              -- add_index("ci_builds", ["auto_canceled_by_id"], {:name=>"index_ci_builds_on_auto_canceled_by_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("ci_builds", ["commit_id", "stage_idx", "created_at"], {:name=>"index_ci_builds_on_commit_id_and_stage_idx_and_created_at", :using=>:btree})
                 -> 0.0039s
              -- add_index("ci_builds", ["commit_id", "status", "type"], {:name=>"index_ci_builds_on_commit_id_and_status_and_type", :using=>:btree})
                 -> 0.0038s
              -- add_index("ci_builds", ["commit_id", "type", "name", "ref"], {:name=>"index_ci_builds_on_commit_id_and_type_and_name_and_ref", :using=>:btree})
                 -> 0.0046s
              -- add_index("ci_builds", ["commit_id", "type", "ref"], {:name=>"index_ci_builds_on_commit_id_and_type_and_ref", :using=>:btree})
                 -> 0.0038s
              -- add_index("ci_builds", ["id"], {:name=>"partial_index_ci_builds_on_id_with_legacy_artifacts", :where=>"(artifacts_file <> ''::text)", :using=>:btree})
                 -> 0.0038s
              -- add_index("ci_builds", ["project_id", "id"], {:name=>"index_ci_builds_on_project_id_and_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("ci_builds", ["protected"], {:name=>"index_ci_builds_on_protected", :using=>:btree})
                 -> 0.0038s
              -- add_index("ci_builds", ["runner_id"], {:name=>"index_ci_builds_on_runner_id", :using=>:btree})
                 -> 0.0047s
              -- add_index("ci_builds", ["scheduled_at"], {:name=>"partial_index_ci_builds_on_scheduled_at_with_scheduled_jobs", :where=>"((scheduled_at IS NOT NULL) AND ((type)::text = 'Ci::Build'::text) AND ((status)::text = 'scheduled'::text))", :using=>:btree})
                 -> 0.0050s
              -- add_index("ci_builds", ["stage_id", "stage_idx"], {:name=>"tmp_build_stage_position_index", :where=>"(stage_idx IS NOT NULL)", :using=>:btree})
                 -> 0.0046s
              -- add_index("ci_builds", ["stage_id"], {:name=>"index_ci_builds_on_stage_id", :using=>:btree})
                 -> 0.0037s
              -- add_index("ci_builds", ["status", "type", "runner_id"], {:name=>"index_ci_builds_on_status_and_type_and_runner_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("ci_builds", ["token"], {:name=>"index_ci_builds_on_token", :unique=>true, :using=>:btree})
                 -> 0.0042s
              -- add_index("ci_builds", ["updated_at"], {:name=>"index_ci_builds_on_updated_at", :using=>:btree})
                 -> 0.0039s
              -- add_index("ci_builds", ["user_id"], {:name=>"index_ci_builds_on_user_id", :using=>:btree})
                 -> 0.0037s
              -- create_table("ci_builds_metadata", {:force=>:cascade})
                 -> 0.0038s
              -- add_index("ci_builds_metadata", ["build_id"], {:name=>"index_ci_builds_metadata_on_build_id", :unique=>true, :using=>:btree})
                 -> 0.0047s
              -- add_index("ci_builds_metadata", ["project_id"], {:name=>"index_ci_builds_metadata_on_project_id", :using=>:btree})
                 -> 0.0035s
              -- create_table("ci_builds_runner_session", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0046s
              -- add_index("ci_builds_runner_session", ["build_id"], {:name=>"index_ci_builds_runner_session_on_build_id", :unique=>true, :using=>:btree})
                 -> 0.0034s
              -- create_table("ci_group_variables", {:force=>:cascade})
                 -> 0.0053s
              -- add_index("ci_group_variables", ["group_id", "key"], {:name=>"index_ci_group_variables_on_group_id_and_key", :unique=>true, :using=>:btree})
                 -> 0.0061s
              -- create_table("ci_job_artifacts", {:force=>:cascade})
                 -> 0.0085s
              -- add_index("ci_job_artifacts", ["expire_at", "job_id"], {:name=>"index_ci_job_artifacts_on_expire_at_and_job_id", :using=>:btree})
                 -> 0.0041s
              -- add_index("ci_job_artifacts", ["file_store"], {:name=>"index_ci_job_artifacts_on_file_store", :using=>:btree})
                 -> 0.0042s
              -- add_index("ci_job_artifacts", ["job_id", "file_type"], {:name=>"index_ci_job_artifacts_on_job_id_and_file_type", :unique=>true, :using=>:btree})
                 -> 0.0292s
              -- add_index("ci_job_artifacts", ["project_id"], {:name=>"index_ci_job_artifacts_on_project_id", :using=>:btree})
                 -> 0.0042s
              -- create_table("ci_pipeline_schedule_variables", {:force=>:cascade})
                 -> 0.0058s
              -- add_index("ci_pipeline_schedule_variables", ["pipeline_schedule_id", "key"], {:name=>"index_ci_pipeline_schedule_variables_on_schedule_id_and_key", :unique=>true, :using=>:btree})
                 -> 0.0038s
              -- create_table("ci_pipeline_schedules", {:force=>:cascade})
                 -> 0.0054s
              -- add_index("ci_pipeline_schedules", ["next_run_at", "active"], {:name=>"index_ci_pipeline_schedules_on_next_run_at_and_active", :using=>:btree})
                 -> 0.0038s
              -- add_index("ci_pipeline_schedules", ["project_id"], {:name=>"index_ci_pipeline_schedules_on_project_id", :using=>:btree})
                 -> 0.0037s
              -- create_table("ci_pipeline_variables", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("ci_pipeline_variables", ["pipeline_id", "key"], {:name=>"index_ci_pipeline_variables_on_pipeline_id_and_key", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- create_table("ci_pipelines", {:force=>:cascade})
                 -> 0.0072s
              -- add_index("ci_pipelines", ["auto_canceled_by_id"], {:name=>"index_ci_pipelines_on_auto_canceled_by_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("ci_pipelines", ["pipeline_schedule_id"], {:name=>"index_ci_pipelines_on_pipeline_schedule_id", :using=>:btree})
                 -> 0.0062s
              -- add_index("ci_pipelines", ["project_id", "iid"], {:name=>"index_ci_pipelines_on_project_id_and_iid", :unique=>true, :where=>"(iid IS NOT NULL)", :using=>:btree})
                 -> 0.0037s
              -- add_index("ci_pipelines", ["project_id", "ref", "status", "id"], {:name=>"index_ci_pipelines_on_project_id_and_ref_and_status_and_id", :using=>:btree})
                 -> 0.0034s
              -- add_index("ci_pipelines", ["project_id", "sha"], {:name=>"index_ci_pipelines_on_project_id_and_sha", :using=>:btree})
                 -> 0.0032s
              -- add_index("ci_pipelines", ["project_id", "source"], {:name=>"index_ci_pipelines_on_project_id_and_source", :using=>:btree})
                 -> 0.0032s
              -- add_index("ci_pipelines", ["project_id", "status", "config_source"], {:name=>"index_ci_pipelines_on_project_id_and_status_and_config_source", :using=>:btree})
                 -> 0.0036s
              -- add_index("ci_pipelines", ["project_id"], {:name=>"index_ci_pipelines_on_project_id", :using=>:btree})
                 -> 0.0035s
              -- add_index("ci_pipelines", ["status"], {:name=>"index_ci_pipelines_on_status", :using=>:btree})
                 -> 0.0047s
              -- add_index("ci_pipelines", ["user_id"], {:name=>"index_ci_pipelines_on_user_id", :using=>:btree})
                 -> 0.0045s
              -- create_table("ci_runner_namespaces", {:force=>:cascade})
                 -> 0.0052s
              -- add_index("ci_runner_namespaces", ["namespace_id"], {:name=>"index_ci_runner_namespaces_on_namespace_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("ci_runner_namespaces", ["runner_id", "namespace_id"], {:name=>"index_ci_runner_namespaces_on_runner_id_and_namespace_id", :unique=>true, :using=>:btree})
                 -> 0.0036s
              -- create_table("ci_runner_projects", {:force=>:cascade})
                 -> 0.0033s
              -- add_index("ci_runner_projects", ["project_id"], {:name=>"index_ci_runner_projects_on_project_id", :using=>:btree})
                 -> 0.0035s
              -- add_index("ci_runner_projects", ["runner_id"], {:name=>"index_ci_runner_projects_on_runner_id", :using=>:btree})
                 -> 0.0034s
              -- create_table("ci_runners", {:force=>:cascade})
                 -> 0.0068s
              -- add_index("ci_runners", ["contacted_at"], {:name=>"index_ci_runners_on_contacted_at", :using=>:btree})
                 -> 0.0039s
              -- add_index("ci_runners", ["is_shared"], {:name=>"index_ci_runners_on_is_shared", :using=>:btree})
                 -> 0.0036s
              -- add_index("ci_runners", ["locked"], {:name=>"index_ci_runners_on_locked", :using=>:btree})
                 -> 0.0034s
              -- add_index("ci_runners", ["runner_type"], {:name=>"index_ci_runners_on_runner_type", :using=>:btree})
                 -> 0.0030s
              -- add_index("ci_runners", ["token"], {:name=>"index_ci_runners_on_token", :using=>:btree})
                 -> 0.0031s
              -- create_table("ci_stages", {:force=>:cascade})
                 -> 0.0047s
              -- add_index("ci_stages", ["pipeline_id", "name"], {:name=>"index_ci_stages_on_pipeline_id_and_name", :unique=>true, :using=>:btree})
                 -> 0.0037s
              -- add_index("ci_stages", ["pipeline_id", "position"], {:name=>"index_ci_stages_on_pipeline_id_and_position", :using=>:btree})
                 -> 0.0033s
              -- add_index("ci_stages", ["pipeline_id"], {:name=>"index_ci_stages_on_pipeline_id", :using=>:btree})
                 -> 0.0033s
              -- add_index("ci_stages", ["project_id"], {:name=>"index_ci_stages_on_project_id", :using=>:btree})
                 -> 0.0031s
              -- create_table("ci_trigger_requests", {:force=>:cascade})
                 -> 0.0050s
              -- add_index("ci_trigger_requests", ["commit_id"], {:name=>"index_ci_trigger_requests_on_commit_id", :using=>:btree})
                 -> 0.0039s
              -- create_table("ci_triggers", {:force=>:cascade})
                 -> 0.0045s
              -- add_index("ci_triggers", ["project_id"], {:name=>"index_ci_triggers_on_project_id", :using=>:btree})
                 -> 0.0033s
              -- create_table("ci_variables", {:force=>:cascade})
                 -> 0.0278s
              -- add_index("ci_variables", ["project_id", "key", "environment_scope"], {:name=>"index_ci_variables_on_project_id_and_key_and_environment_scope", :unique=>true, :using=>:btree})
                 -> 0.0035s
              -- create_table("cluster_groups", {:force=>:cascade})
                 -> 0.0036s
              -- add_index("cluster_groups", ["cluster_id", "group_id"], {:name=>"index_cluster_groups_on_cluster_id_and_group_id", :unique=>true, :using=>:btree})
                 -> 0.0045s
              -- add_index("cluster_groups", ["group_id"], {:name=>"index_cluster_groups_on_group_id", :using=>:btree})
                 -> 0.0040s
              -- create_table("cluster_platforms_kubernetes", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("cluster_platforms_kubernetes", ["cluster_id"], {:name=>"index_cluster_platforms_kubernetes_on_cluster_id", :unique=>true, :using=>:btree})
                 -> 0.0034s
              -- create_table("cluster_projects", {:force=>:cascade})
                 -> 0.0040s
              -- add_index("cluster_projects", ["cluster_id"], {:name=>"index_cluster_projects_on_cluster_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("cluster_projects", ["project_id"], {:name=>"index_cluster_projects_on_project_id", :using=>:btree})
                 -> 0.0045s
              -- create_table("cluster_providers_gcp", {:force=>:cascade})
                 -> 0.0073s
              -- add_index("cluster_providers_gcp", ["cluster_id"], {:name=>"index_cluster_providers_gcp_on_cluster_id", :unique=>true, :using=>:btree})
                 -> 0.0044s
              -- create_table("clusters", {:force=>:cascade})
                 -> 0.0057s
              -- add_index("clusters", ["enabled"], {:name=>"index_clusters_on_enabled", :using=>:btree})
                 -> 0.0031s
              -- add_index("clusters", ["user_id"], {:name=>"index_clusters_on_user_id", :using=>:btree})
                 -> 0.0035s
              -- create_table("clusters_applications_helm", {:force=>:cascade})
                 -> 0.0060s
              -- create_table("clusters_applications_ingress", {:force=>:cascade})
                 -> 0.0063s
              -- create_table("clusters_applications_jupyter", {:force=>:cascade})
                 -> 0.0064s
              -- create_table("clusters_applications_knative", {:force=>:cascade})
                 -> 0.0062s
              -- create_table("clusters_applications_prometheus", {:force=>:cascade})
                 -> 0.0046s
              -- create_table("clusters_applications_runners", {:force=>:cascade})
                 -> 0.0056s
              -- add_index("clusters_applications_runners", ["cluster_id"], {:name=>"index_clusters_applications_runners_on_cluster_id", :unique=>true, :using=>:btree})
                 -> 0.0035s
              -- add_index("clusters_applications_runners", ["runner_id"], {:name=>"index_clusters_applications_runners_on_runner_id", :using=>:btree})
                 -> 0.0033s
              -- create_table("clusters_kubernetes_namespaces", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0048s
              -- add_index("clusters_kubernetes_namespaces", ["cluster_id", "namespace"], {:name=>"kubernetes_namespaces_cluster_and_namespace", :unique=>true, :using=>:btree})
                 -> 0.0051s
              -- add_index("clusters_kubernetes_namespaces", ["cluster_id"], {:name=>"index_clusters_kubernetes_namespaces_on_cluster_id", :using=>:btree})
                 -> 0.0143s
              -- add_index("clusters_kubernetes_namespaces", ["cluster_project_id"], {:name=>"index_clusters_kubernetes_namespaces_on_cluster_project_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("clusters_kubernetes_namespaces", ["project_id"], {:name=>"index_clusters_kubernetes_namespaces_on_project_id", :using=>:btree})
                 -> 0.0033s
              -- create_table("container_repositories", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("container_repositories", ["project_id", "name"], {:name=>"index_container_repositories_on_project_id_and_name", :unique=>true, :using=>:btree})
                 -> 0.0079s
              -- add_index("container_repositories", ["project_id"], {:name=>"index_container_repositories_on_project_id", :using=>:btree})
                 -> 0.0064s
              -- create_table("conversational_development_index_metrics", {:force=>:cascade})
                 -> 0.0140s
              -- create_table("deploy_keys_projects", {:force=>:cascade})
                 -> 0.0085s
              -- add_index("deploy_keys_projects", ["project_id"], {:name=>"index_deploy_keys_projects_on_project_id", :using=>:btree})
                 -> 0.0125s
              -- create_table("deploy_tokens", {:force=>:cascade})
                 -> 0.0074s
              -- add_index("deploy_tokens", ["token", "expires_at", "id"], {:name=>"index_deploy_tokens_on_token_and_expires_at_and_id", :where=>"(revoked IS FALSE)", :using=>:btree})
                 -> 0.0053s
              -- add_index("deploy_tokens", ["token"], {:name=>"index_deploy_tokens_on_token", :unique=>true, :using=>:btree})
                 -> 0.0045s
              -- create_table("deployments", {:force=>:cascade})
                 -> 0.0071s
              -- add_index("deployments", ["created_at"], {:name=>"index_deployments_on_created_at", :using=>:btree})
                 -> 0.0038s
              -- add_index("deployments", ["deployable_type", "deployable_id"], {:name=>"index_deployments_on_deployable_type_and_deployable_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("deployments", ["environment_id", "id"], {:name=>"index_deployments_on_environment_id_and_id", :using=>:btree})
                 -> 0.0044s
              -- add_index("deployments", ["environment_id", "iid", "project_id"], {:name=>"index_deployments_on_environment_id_and_iid_and_project_id", :using=>:btree})
                 -> 0.0061s
              -- add_index("deployments", ["environment_id", "status"], {:name=>"index_deployments_on_environment_id_and_status", :using=>:btree})
                 -> 0.0043s
              -- add_index("deployments", ["id"], {:name=>"partial_index_deployments_for_legacy_successful_deployments", :where=>"((finished_at IS NULL) AND (status = 2))", :using=>:btree})
                 -> 0.0046s
              -- add_index("deployments", ["project_id", "iid"], {:name=>"index_deployments_on_project_id_and_iid", :unique=>true, :using=>:btree})
                 -> 0.0061s
              -- add_index("deployments", ["project_id", "status", "created_at"], {:name=>"index_deployments_on_project_id_and_status_and_created_at", :using=>:btree})
                 -> 0.0048s
              -- add_index("deployments", ["project_id", "status"], {:name=>"index_deployments_on_project_id_and_status", :using=>:btree})
                 -> 0.0042s
              -- create_table("emails", {:force=>:cascade})
                 -> 0.0070s
              -- add_index("emails", ["confirmation_token"], {:name=>"index_emails_on_confirmation_token", :unique=>true, :using=>:btree})
                 -> 0.0053s
              -- add_index("emails", ["email"], {:name=>"index_emails_on_email", :unique=>true, :using=>:btree})
                 -> 0.0039s
              -- add_index("emails", ["user_id"], {:name=>"index_emails_on_user_id", :using=>:btree})
                 -> 0.0078s
              -- create_table("environments", {:force=>:cascade})
                 -> 0.0064s
              -- add_index("environments", ["project_id", "name"], {:name=>"index_environments_on_project_id_and_name", :unique=>true, :using=>:btree})
                 -> 0.0047s
              -- add_index("environments", ["project_id", "slug"], {:name=>"index_environments_on_project_id_and_slug", :unique=>true, :using=>:btree})
                 -> 0.0055s
              -- create_table("events", {:force=>:cascade})
                 -> 0.0060s
              -- add_index("events", ["action"], {:name=>"index_events_on_action", :using=>:btree})
                 -> 0.0046s
              -- add_index("events", ["author_id", "project_id"], {:name=>"index_events_on_author_id_and_project_id", :using=>:btree})
                 -> 0.0061s
              -- add_index("events", ["project_id", "id"], {:name=>"index_events_on_project_id_and_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("events", ["target_type", "target_id"], {:name=>"index_events_on_target_type_and_target_id", :using=>:btree})
                 -> 0.0041s
              -- create_table("feature_gates", {:force=>:cascade})
                 -> 0.0057s
              -- add_index("feature_gates", ["feature_key", "key", "value"], {:name=>"index_feature_gates_on_feature_key_and_key_and_value", :unique=>true, :using=>:btree})
                 -> 0.0044s
              -- create_table("features", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("features", ["key"], {:name=>"index_features_on_key", :unique=>true, :using=>:btree})
                 -> 0.0042s
              -- create_table("fork_network_members", {:force=>:cascade})
                 -> 0.0051s
              -- add_index("fork_network_members", ["fork_network_id"], {:name=>"index_fork_network_members_on_fork_network_id", :using=>:btree})
                 -> 0.0038s
              -- add_index("fork_network_members", ["project_id"], {:name=>"index_fork_network_members_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0037s
              -- create_table("fork_networks", {:force=>:cascade})
                 -> 0.0051s
              -- add_index("fork_networks", ["root_project_id"], {:name=>"index_fork_networks_on_root_project_id", :unique=>true, :using=>:btree})
                 -> 0.0059s
              -- create_table("forked_project_links", {:force=>:cascade})
                 -> 0.0043s
              -- add_index("forked_project_links", ["forked_to_project_id"], {:name=>"index_forked_project_links_on_forked_to_project_id", :unique=>true, :using=>:btree})
                 -> 0.0043s
              -- create_table("gcp_clusters", {:force=>:cascade})
                 -> 0.0093s
              -- add_index("gcp_clusters", ["project_id"], {:name=>"index_gcp_clusters_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0152s
              -- create_table("gpg_key_subkeys", {:force=>:cascade})
                 -> 0.0060s
              -- add_index("gpg_key_subkeys", ["fingerprint"], {:name=>"index_gpg_key_subkeys_on_fingerprint", :unique=>true, :using=>:btree})
                 -> 0.0044s
              -- add_index("gpg_key_subkeys", ["gpg_key_id"], {:name=>"index_gpg_key_subkeys_on_gpg_key_id", :using=>:btree})
                 -> 0.0075s
              -- add_index("gpg_key_subkeys", ["keyid"], {:name=>"index_gpg_key_subkeys_on_keyid", :unique=>true, :using=>:btree})
                 -> 0.0047s
              -- create_table("gpg_keys", {:force=>:cascade})
                 -> 0.0055s
              -- add_index("gpg_keys", ["fingerprint"], {:name=>"index_gpg_keys_on_fingerprint", :unique=>true, :using=>:btree})
                 -> 0.0056s
              -- add_index("gpg_keys", ["primary_keyid"], {:name=>"index_gpg_keys_on_primary_keyid", :unique=>true, :using=>:btree})
                 -> 0.0042s
              -- add_index("gpg_keys", ["user_id"], {:name=>"index_gpg_keys_on_user_id", :using=>:btree})
                 -> 0.0044s
              -- create_table("gpg_signatures", {:force=>:cascade})
                 -> 0.0094s
              -- add_index("gpg_signatures", ["commit_sha"], {:name=>"index_gpg_signatures_on_commit_sha", :unique=>true, :using=>:btree})
                 -> 0.0047s
              -- add_index("gpg_signatures", ["gpg_key_id"], {:name=>"index_gpg_signatures_on_gpg_key_id", :using=>:btree})
                 -> 0.0040s
              -- add_index("gpg_signatures", ["gpg_key_primary_keyid"], {:name=>"index_gpg_signatures_on_gpg_key_primary_keyid", :using=>:btree})
                 -> 0.0056s
              -- add_index("gpg_signatures", ["gpg_key_subkey_id"], {:name=>"index_gpg_signatures_on_gpg_key_subkey_id", :using=>:btree})
                 -> 0.0051s
              -- add_index("gpg_signatures", ["project_id"], {:name=>"index_gpg_signatures_on_project_id", :using=>:btree})
                 -> 0.0045s
              -- create_table("group_custom_attributes", {:force=>:cascade})
                 -> 0.0102s
              -- add_index("group_custom_attributes", ["group_id", "key"], {:name=>"index_group_custom_attributes_on_group_id_and_key", :unique=>true, :using=>:btree})
                 -> 0.0047s
              -- add_index("group_custom_attributes", ["key", "value"], {:name=>"index_group_custom_attributes_on_key_and_value", :using=>:btree})
                 -> 0.0046s
              -- create_table("identities", {:force=>:cascade})
                 -> 0.0078s
              -- add_index("identities", ["user_id"], {:name=>"index_identities_on_user_id", :using=>:btree})
                 -> 0.0041s
              -- create_table("import_export_uploads", {:force=>:cascade})
                 -> 0.0079s
              -- add_index("import_export_uploads", ["project_id"], {:name=>"index_import_export_uploads_on_project_id", :using=>:btree})
                 -> 0.0049s
              -- add_index("import_export_uploads", ["updated_at"], {:name=>"index_import_export_uploads_on_updated_at", :using=>:btree})
                 -> 0.0039s
              -- create_table("internal_ids", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0104s
              -- add_index("internal_ids", ["usage", "namespace_id"], {:name=>"index_internal_ids_on_usage_and_namespace_id", :unique=>true, :where=>"(namespace_id IS NOT NULL)", :using=>:btree})
                 -> 0.0052s
              -- add_index("internal_ids", ["usage", "project_id"], {:name=>"index_internal_ids_on_usage_and_project_id", :unique=>true, :where=>"(project_id IS NOT NULL)", :using=>:btree})
                 -> 0.0034s
              -- create_table("issue_assignees", {:id=>false, :force=>:cascade})
                 -> 0.0019s
              -- add_index("issue_assignees", ["issue_id", "user_id"], {:name=>"index_issue_assignees_on_issue_id_and_user_id", :unique=>true, :using=>:btree})
                 -> 0.0042s
              -- add_index("issue_assignees", ["user_id"], {:name=>"index_issue_assignees_on_user_id", :using=>:btree})
                 -> 0.0035s
              -- create_table("issue_metrics", {:force=>:cascade})
                 -> 0.0063s
              -- add_index("issue_metrics", ["issue_id"], {:name=>"index_issue_metrics", :using=>:btree})
                 -> 0.0058s
              -- create_table("issues", {:force=>:cascade})
                 -> 0.0079s
              -- add_index("issues", ["author_id"], {:name=>"index_issues_on_author_id", :using=>:btree})
                 -> 0.0040s
              -- add_index("issues", ["confidential"], {:name=>"index_issues_on_confidential", :using=>:btree})
                 -> 0.0053s
              -- add_index("issues", ["description"], {:name=>"index_issues_on_description_trigram", :using=>:gin, :opclasses=>{"description"=>"gin_trgm_ops"}})
                 -> 0.0072s
              -- add_index("issues", ["milestone_id"], {:name=>"index_issues_on_milestone_id", :using=>:btree})
                 -> 0.0053s
              -- add_index("issues", ["moved_to_id"], {:name=>"index_issues_on_moved_to_id", :where=>"(moved_to_id IS NOT NULL)", :using=>:btree})
                 -> 0.0052s
              -- add_index("issues", ["project_id", "created_at", "id", "state"], {:name=>"index_issues_on_project_id_and_created_at_and_id_and_state", :using=>:btree})
                 -> 0.0039s
              -- add_index("issues", ["project_id", "due_date", "id", "state"], {:name=>"idx_issues_on_project_id_and_due_date_and_id_and_state_partial", :where=>"(due_date IS NOT NULL)", :using=>:btree})
                 -> 0.0040s
              -- add_index("issues", ["project_id", "iid"], {:name=>"index_issues_on_project_id_and_iid", :unique=>true, :using=>:btree})
                 -> 0.0038s
              -- add_index("issues", ["project_id", "updated_at", "id", "state"], {:name=>"index_issues_on_project_id_and_updated_at_and_id_and_state", :using=>:btree})
                 -> 0.0086s
              -- add_index("issues", ["relative_position"], {:name=>"index_issues_on_relative_position", :using=>:btree})
                 -> 0.0040s
              -- add_index("issues", ["state"], {:name=>"index_issues_on_state", :using=>:btree})
                 -> 0.0037s
              -- add_index("issues", ["title"], {:name=>"index_issues_on_title_trigram", :using=>:gin, :opclasses=>{"title"=>"gin_trgm_ops"}})
                 -> 0.0039s
              -- add_index("issues", ["updated_at"], {:name=>"index_issues_on_updated_at", :using=>:btree})
                 -> 0.0131s
              -- add_index("issues", ["updated_by_id"], {:name=>"index_issues_on_updated_by_id", :where=>"(updated_by_id IS NOT NULL)", :using=>:btree})
                 -> 0.0066s
              -- create_table("keys", {:force=>:cascade})
                 -> 0.0058s
              -- add_index("keys", ["fingerprint"], {:name=>"index_keys_on_fingerprint", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- add_index("keys", ["user_id"], {:name=>"index_keys_on_user_id", :using=>:btree})
                 -> 0.0048s
              -- create_table("label_links", {:force=>:cascade})
                 -> 0.0051s
              -- add_index("label_links", ["label_id"], {:name=>"index_label_links_on_label_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("label_links", ["target_id", "target_type"], {:name=>"index_label_links_on_target_id_and_target_type", :using=>:btree})
                 -> 0.0090s
              -- create_table("label_priorities", {:force=>:cascade})
                 -> 0.0038s
              -- add_index("label_priorities", ["priority"], {:name=>"index_label_priorities_on_priority", :using=>:btree})
                 -> 0.0042s
              -- add_index("label_priorities", ["project_id", "label_id"], {:name=>"index_label_priorities_on_project_id_and_label_id", :unique=>true, :using=>:btree})
                 -> 0.0053s
              -- create_table("labels", {:force=>:cascade})
                 -> 0.0071s
              -- add_index("labels", ["group_id", "project_id", "title"], {:name=>"index_labels_on_group_id_and_project_id_and_title", :unique=>true, :using=>:btree})
                 -> 0.0041s
              -- add_index("labels", ["project_id"], {:name=>"index_labels_on_project_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("labels", ["template"], {:name=>"index_labels_on_template", :where=>"template", :using=>:btree})
                 -> 0.0056s
              -- add_index("labels", ["title"], {:name=>"index_labels_on_title", :using=>:btree})
                 -> 0.0045s
              -- add_index("labels", ["type", "project_id"], {:name=>"index_labels_on_type_and_project_id", :using=>:btree})
                 -> 0.0050s
              -- create_table("lfs_file_locks", {:force=>:cascade})
                 -> 0.0075s
              -- add_index("lfs_file_locks", ["project_id", "path"], {:name=>"index_lfs_file_locks_on_project_id_and_path", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- add_index("lfs_file_locks", ["user_id"], {:name=>"index_lfs_file_locks_on_user_id", :using=>:btree})
                 -> 0.0038s
              -- create_table("lfs_objects", {:force=>:cascade})
                 -> 0.0080s
              -- add_index("lfs_objects", ["file_store"], {:name=>"index_lfs_objects_on_file_store", :using=>:btree})
                 -> 0.0048s
              -- add_index("lfs_objects", ["oid"], {:name=>"index_lfs_objects_on_oid", :unique=>true, :using=>:btree})
                 -> 0.0045s
              -- create_table("lfs_objects_projects", {:force=>:cascade})
                 -> 0.0057s
              -- add_index("lfs_objects_projects", ["project_id"], {:name=>"index_lfs_objects_projects_on_project_id", :using=>:btree})
                 -> 0.0044s
              -- create_table("lists", {:force=>:cascade})
                 -> 0.0047s
              -- add_index("lists", ["board_id", "label_id"], {:name=>"index_lists_on_board_id_and_label_id", :unique=>true, :using=>:btree})
                 -> 0.0058s
              -- add_index("lists", ["label_id"], {:name=>"index_lists_on_label_id", :using=>:btree})
                 -> 0.0048s
              -- add_index("lists", ["list_type"], {:name=>"index_lists_on_list_type", :using=>:btree})
                 -> 0.0057s
              -- create_table("members", {:force=>:cascade})
                 -> 0.0078s
              -- add_index("members", ["access_level"], {:name=>"index_members_on_access_level", :using=>:btree})
                 -> 0.0051s
              -- add_index("members", ["invite_token"], {:name=>"index_members_on_invite_token", :unique=>true, :using=>:btree})
                 -> 0.0055s
              -- add_index("members", ["requested_at"], {:name=>"index_members_on_requested_at", :using=>:btree})
                 -> 0.0041s
              -- add_index("members", ["source_id", "source_type"], {:name=>"index_members_on_source_id_and_source_type", :using=>:btree})
                 -> 0.0041s
              -- add_index("members", ["user_id"], {:name=>"index_members_on_user_id", :using=>:btree})
                 -> 0.0042s
              -- create_table("merge_request_diff_commits", {:id=>false, :force=>:cascade})
                 -> 0.0038s
              -- add_index("merge_request_diff_commits", ["merge_request_diff_id", "relative_order"], {:name=>"index_merge_request_diff_commits_on_mr_diff_id_and_order", :unique=>true, :using=>:btree})
                 -> 0.0065s
              -- add_index("merge_request_diff_commits", ["sha"], {:name=>"index_merge_request_diff_commits_on_sha", :using=>:btree})
                 -> 0.0050s
              -- create_table("merge_request_diff_files", {:id=>false, :force=>:cascade})
                 -> 0.0043s
              -- add_index("merge_request_diff_files", ["merge_request_diff_id", "relative_order"], {:name=>"index_merge_request_diff_files_on_mr_diff_id_and_order", :unique=>true, :using=>:btree})
                 -> 0.0045s
              -- create_table("merge_request_diffs", {:force=>:cascade})
                 -> 0.0055s
              -- add_index("merge_request_diffs", ["merge_request_id", "id"], {:name=>"index_merge_request_diffs_on_merge_request_id_and_id", :using=>:btree})
                 -> 0.0083s
              -- create_table("merge_request_metrics", {:force=>:cascade})
                 -> 0.0041s
              -- add_index("merge_request_metrics", ["first_deployed_to_production_at"], {:name=>"index_merge_request_metrics_on_first_deployed_to_production_at", :using=>:btree})
                 -> 0.0037s
              -- add_index("merge_request_metrics", ["merge_request_id"], {:name=>"index_merge_request_metrics", :using=>:btree})
                 -> 0.0045s
              -- add_index("merge_request_metrics", ["pipeline_id"], {:name=>"index_merge_request_metrics_on_pipeline_id", :using=>:btree})
                 -> 0.0043s
              -- create_table("merge_requests", {:force=>:cascade})
                 -> 0.0107s
              -- add_index("merge_requests", ["assignee_id"], {:name=>"index_merge_requests_on_assignee_id", :using=>:btree})
                 -> 0.0051s
              -- add_index("merge_requests", ["author_id"], {:name=>"index_merge_requests_on_author_id", :using=>:btree})
                 -> 0.0047s
              -- add_index("merge_requests", ["created_at"], {:name=>"index_merge_requests_on_created_at", :using=>:btree})
                 -> 0.0067s
              -- add_index("merge_requests", ["description"], {:name=>"index_merge_requests_on_description_trigram", :using=>:gin, :opclasses=>{"description"=>"gin_trgm_ops"}})
                 -> 0.0029s
              -- add_index("merge_requests", ["head_pipeline_id"], {:name=>"index_merge_requests_on_head_pipeline_id", :using=>:btree})
                 -> 0.0033s
              -- add_index("merge_requests", ["id", "merge_jid"], {:name=>"index_merge_requests_on_id_and_merge_jid", :where=>"((merge_jid IS NOT NULL) AND ((state)::text = 'locked'::text))", :using=>:btree})
                 -> 0.0053s
              -- add_index("merge_requests", ["latest_merge_request_diff_id"], {:name=>"index_merge_requests_on_latest_merge_request_diff_id", :using=>:btree})
                 -> 0.0066s
              -- add_index("merge_requests", ["merge_user_id"], {:name=>"index_merge_requests_on_merge_user_id", :where=>"(merge_user_id IS NOT NULL)", :using=>:btree})
                 -> 0.0050s
              -- add_index("merge_requests", ["milestone_id"], {:name=>"index_merge_requests_on_milestone_id", :using=>:btree})
                 -> 0.0050s
              -- add_index("merge_requests", ["source_branch"], {:name=>"index_merge_requests_on_source_branch", :using=>:btree})
                 -> 0.0047s
              -- add_index("merge_requests", ["source_project_id", "source_branch"], {:name=>"index_merge_requests_on_source_project_and_branch_state_opened", :where=>"((state)::text = 'opened'::text)", :using=>:btree})
                 -> 0.0045s
              -- add_index("merge_requests", ["source_project_id", "source_branch"], {:name=>"index_merge_requests_on_source_project_id_and_source_branch", :using=>:btree})
                 -> 0.0047s
              -- add_index("merge_requests", ["target_branch"], {:name=>"index_merge_requests_on_target_branch", :using=>:btree})
                 -> 0.0045s
              -- add_index("merge_requests", ["target_project_id", "iid"], {:name=>"index_merge_requests_on_target_project_id_and_iid", :unique=>true, :using=>:btree})
                 -> 0.0047s
              -- add_index("merge_requests", ["target_project_id", "iid"], {:name=>"index_merge_requests_on_target_project_id_and_iid_opened", :where=>"((state)::text = 'opened'::text)", :using=>:btree})
                 -> 0.0048s
              -- add_index("merge_requests", ["target_project_id", "merge_commit_sha", "id"], {:name=>"index_merge_requests_on_tp_id_and_merge_commit_sha_and_id", :using=>:btree})
                 -> 0.0041s
              -- add_index("merge_requests", ["title"], {:name=>"index_merge_requests_on_title", :using=>:btree})
                 -> 0.0047s
              -- add_index("merge_requests", ["title"], {:name=>"index_merge_requests_on_title_trigram", :using=>:gin, :opclasses=>{"title"=>"gin_trgm_ops"}})
                 -> 0.0040s
              -- add_index("merge_requests", ["updated_by_id"], {:name=>"index_merge_requests_on_updated_by_id", :where=>"(updated_by_id IS NOT NULL)", :using=>:btree})
                 -> 0.0071s
              -- create_table("merge_requests_closing_issues", {:force=>:cascade})
                 -> 0.0055s
              -- add_index("merge_requests_closing_issues", ["issue_id"], {:name=>"index_merge_requests_closing_issues_on_issue_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("merge_requests_closing_issues", ["merge_request_id"], {:name=>"index_merge_requests_closing_issues_on_merge_request_id", :using=>:btree})
                 -> 0.0065s
              -- create_table("milestones", {:force=>:cascade})
                 -> 0.0056s
              -- add_index("milestones", ["description"], {:name=>"index_milestones_on_description_trigram", :using=>:gin, :opclasses=>{"description"=>"gin_trgm_ops"}})
                 -> 0.0050s
              -- add_index("milestones", ["due_date"], {:name=>"index_milestones_on_due_date", :using=>:btree})
                 -> 0.0036s
              -- add_index("milestones", ["group_id"], {:name=>"index_milestones_on_group_id", :using=>:btree})
                 -> 0.0045s
              -- add_index("milestones", ["project_id", "iid"], {:name=>"index_milestones_on_project_id_and_iid", :unique=>true, :using=>:btree})
                 -> 0.0048s
              -- add_index("milestones", ["title"], {:name=>"index_milestones_on_title", :using=>:btree})
                 -> 0.0045s
              -- add_index("milestones", ["title"], {:name=>"index_milestones_on_title_trigram", :using=>:gin, :opclasses=>{"title"=>"gin_trgm_ops"}})
                 -> 0.0048s
              -- create_table("namespaces", {:force=>:cascade})
                 -> 0.0098s
              -- add_index("namespaces", ["created_at"], {:name=>"index_namespaces_on_created_at", :using=>:btree})
                 -> 0.0058s
              -- add_index("namespaces", ["name", "parent_id"], {:name=>"index_namespaces_on_name_and_parent_id", :unique=>true, :using=>:btree})
                 -> 0.0038s
              -- add_index("namespaces", ["name"], {:name=>"index_namespaces_on_name_trigram", :using=>:gin, :opclasses=>{"name"=>"gin_trgm_ops"}})
                 -> 0.0036s
              -- add_index("namespaces", ["owner_id"], {:name=>"index_namespaces_on_owner_id", :using=>:btree})
                 -> 0.0041s
              -- add_index("namespaces", ["parent_id", "id"], {:name=>"index_namespaces_on_parent_id_and_id", :unique=>true, :using=>:btree})
                 -> 0.0046s
              -- add_index("namespaces", ["path"], {:name=>"index_namespaces_on_path", :using=>:btree})
                 -> 0.0056s
              -- add_index("namespaces", ["path"], {:name=>"index_namespaces_on_path_trigram", :using=>:gin, :opclasses=>{"path"=>"gin_trgm_ops"}})
                 -> 0.0036s
              -- add_index("namespaces", ["require_two_factor_authentication"], {:name=>"index_namespaces_on_require_two_factor_authentication", :using=>:btree})
                 -> 0.0053s
              -- add_index("namespaces", ["runners_token"], {:name=>"index_namespaces_on_runners_token", :unique=>true, :using=>:btree})
                 -> 0.0043s
              -- add_index("namespaces", ["type"], {:name=>"index_namespaces_on_type", :using=>:btree})
                 -> 0.0051s
              -- create_table("note_diff_files", {:force=>:cascade})
                 -> 0.0068s
              -- add_index("note_diff_files", ["diff_note_id"], {:name=>"index_note_diff_files_on_diff_note_id", :unique=>true, :using=>:btree})
                 -> 0.0048s
              -- create_table("notes", {:force=>:cascade})
                 -> 0.0070s
              -- add_index("notes", ["author_id"], {:name=>"index_notes_on_author_id", :using=>:btree})
                 -> 0.0129s
              -- add_index("notes", ["commit_id"], {:name=>"index_notes_on_commit_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("notes", ["created_at"], {:name=>"index_notes_on_created_at", :using=>:btree})
                 -> 0.0044s
              -- add_index("notes", ["discussion_id"], {:name=>"index_notes_on_discussion_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("notes", ["line_code"], {:name=>"index_notes_on_line_code", :using=>:btree})
                 -> 0.0037s
              -- add_index("notes", ["note"], {:name=>"index_notes_on_note_trigram", :using=>:gin, :opclasses=>{"note"=>"gin_trgm_ops"}})
                 -> 0.0037s
              -- add_index("notes", ["noteable_id", "noteable_type"], {:name=>"index_notes_on_noteable_id_and_noteable_type", :using=>:btree})
                 -> 0.0046s
              -- add_index("notes", ["noteable_type"], {:name=>"index_notes_on_noteable_type", :using=>:btree})
                 -> 0.0037s
              -- add_index("notes", ["project_id", "noteable_type"], {:name=>"index_notes_on_project_id_and_noteable_type", :using=>:btree})
                 -> 0.0035s
              -- add_index("notes", ["updated_at"], {:name=>"index_notes_on_updated_at", :using=>:btree})
                 -> 0.0048s
              -- create_table("notification_settings", {:force=>:cascade})
                 -> 0.0082s
              -- add_index("notification_settings", ["source_id", "source_type"], {:name=>"index_notification_settings_on_source_id_and_source_type", :using=>:btree})
                 -> 0.0052s
              -- add_index("notification_settings", ["user_id", "source_id", "source_type"], {:name=>"index_notifications_on_user_id_and_source_id_and_source_type", :unique=>true, :using=>:btree})
                 -> 0.0041s
              -- add_index("notification_settings", ["user_id"], {:name=>"index_notification_settings_on_user_id", :using=>:btree})
                 -> 0.0054s
              -- create_table("oauth_access_grants", {:force=>:cascade})
                 -> 0.0061s
              -- add_index("oauth_access_grants", ["token"], {:name=>"index_oauth_access_grants_on_token", :unique=>true, :using=>:btree})
                 -> 0.0054s
              -- create_table("oauth_access_tokens", {:force=>:cascade})
                 -> 0.0058s
              -- add_index("oauth_access_tokens", ["refresh_token"], {:name=>"index_oauth_access_tokens_on_refresh_token", :unique=>true, :using=>:btree})
                 -> 0.0064s
              -- add_index("oauth_access_tokens", ["resource_owner_id"], {:name=>"index_oauth_access_tokens_on_resource_owner_id", :using=>:btree})
                 -> 0.0041s
              -- add_index("oauth_access_tokens", ["token"], {:name=>"index_oauth_access_tokens_on_token", :unique=>true, :using=>:btree})
                 -> 0.0069s
              -- create_table("oauth_applications", {:force=>:cascade})
                 -> 0.0073s
              -- add_index("oauth_applications", ["owner_id", "owner_type"], {:name=>"index_oauth_applications_on_owner_id_and_owner_type", :using=>:btree})
                 -> 0.0056s
              -- add_index("oauth_applications", ["uid"], {:name=>"index_oauth_applications_on_uid", :unique=>true, :using=>:btree})
                 -> 0.0050s
              -- create_table("oauth_openid_requests", {:force=>:cascade})
                 -> 0.0065s
              -- create_table("pages_domains", {:force=>:cascade})
                 -> 0.0086s
              -- add_index("pages_domains", ["domain"], {:name=>"index_pages_domains_on_domain", :unique=>true, :using=>:btree})
                 -> 0.0039s
              -- add_index("pages_domains", ["project_id", "enabled_until"], {:name=>"index_pages_domains_on_project_id_and_enabled_until", :using=>:btree})
                 -> 0.0044s
              -- add_index("pages_domains", ["project_id"], {:name=>"index_pages_domains_on_project_id", :using=>:btree})
                 -> 0.0038s
              -- add_index("pages_domains", ["verified_at", "enabled_until"], {:name=>"index_pages_domains_on_verified_at_and_enabled_until", :using=>:btree})
                 -> 0.0039s
              -- add_index("pages_domains", ["verified_at"], {:name=>"index_pages_domains_on_verified_at", :using=>:btree})
                 -> 0.0044s
              -- create_table("personal_access_tokens", {:force=>:cascade})
                 -> 0.0090s
              -- add_index("personal_access_tokens", ["token"], {:name=>"index_personal_access_tokens_on_token", :unique=>true, :using=>:btree})
                 -> 0.0046s
              -- add_index("personal_access_tokens", ["token_digest"], {:name=>"index_personal_access_tokens_on_token_digest", :unique=>true, :using=>:btree})
                 -> 0.0051s
              -- add_index("personal_access_tokens", ["user_id"], {:name=>"index_personal_access_tokens_on_user_id", :using=>:btree})
                 -> 0.0052s
              -- create_table("programming_languages", {:force=>:cascade})
                 -> 0.0078s
              -- add_index("programming_languages", ["name"], {:name=>"index_programming_languages_on_name", :unique=>true, :using=>:btree})
                 -> 0.0049s
              -- create_table("project_authorizations", {:id=>false, :force=>:cascade})
                 -> 0.0041s
              -- add_index("project_authorizations", ["project_id"], {:name=>"index_project_authorizations_on_project_id", :using=>:btree})
                 -> 0.0044s
              -- add_index("project_authorizations", ["user_id", "project_id", "access_level"], {:name=>"index_project_authorizations_on_user_id_project_id_access_level", :unique=>true, :using=>:btree})
                 -> 0.0049s
              -- create_table("project_auto_devops", {:force=>:cascade})
                 -> 0.0071s
              -- add_index("project_auto_devops", ["project_id"], {:name=>"index_project_auto_devops_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0045s
              -- create_table("project_ci_cd_settings", {:force=>:cascade})
                 -> 0.0131s
              -- add_index("project_ci_cd_settings", ["project_id"], {:name=>"index_project_ci_cd_settings_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0037s
              -- create_table("project_custom_attributes", {:force=>:cascade})
                 -> 0.0060s
              -- add_index("project_custom_attributes", ["key", "value"], {:name=>"index_project_custom_attributes_on_key_and_value", :using=>:btree})
                 -> 0.0041s
              -- add_index("project_custom_attributes", ["project_id", "key"], {:name=>"index_project_custom_attributes_on_project_id_and_key", :unique=>true, :using=>:btree})
                 -> 0.0050s
              -- create_table("project_deploy_tokens", {:force=>:cascade})
                 -> 0.0037s
              -- add_index("project_deploy_tokens", ["deploy_token_id"], {:name=>"index_project_deploy_tokens_on_deploy_token_id", :using=>:btree})
                 -> 0.0046s
              -- add_index("project_deploy_tokens", ["project_id", "deploy_token_id"], {:name=>"index_project_deploy_tokens_on_project_id_and_deploy_token_id", :unique=>true, :using=>:btree})
                 -> 0.0034s
              -- create_table("project_features", {:force=>:cascade})
                 -> 0.0085s
              -- add_index("project_features", ["project_id"], {:name=>"index_project_features_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0043s
              -- create_table("project_group_links", {:force=>:cascade})
                 -> 0.0093s
              -- add_index("project_group_links", ["group_id"], {:name=>"index_project_group_links_on_group_id", :using=>:btree})
                 -> 0.0042s
              -- add_index("project_group_links", ["project_id"], {:name=>"index_project_group_links_on_project_id", :using=>:btree})
                 -> 0.0041s
              -- create_table("project_import_data", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("project_import_data", ["project_id"], {:name=>"index_project_import_data_on_project_id", :using=>:btree})
                 -> 0.0046s
              -- create_table("project_mirror_data", {:force=>:cascade})
                 -> 0.0046s
              -- add_index("project_mirror_data", ["jid"], {:name=>"index_project_mirror_data_on_jid", :using=>:btree})
                 -> 0.0035s
              -- add_index("project_mirror_data", ["project_id"], {:name=>"index_project_mirror_data_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- add_index("project_mirror_data", ["status"], {:name=>"index_project_mirror_data_on_status", :using=>:btree})
                 -> 0.0041s
              -- create_table("project_statistics", {:force=>:cascade})
                 -> 0.0061s
              -- add_index("project_statistics", ["namespace_id"], {:name=>"index_project_statistics_on_namespace_id", :using=>:btree})
                 -> 0.0035s
              -- add_index("project_statistics", ["project_id"], {:name=>"index_project_statistics_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0048s
              -- create_table("projects", {:force=>:cascade})
                 -> 0.0117s
              -- add_index("projects", ["ci_id"], {:name=>"index_projects_on_ci_id", :using=>:btree})
                 -> 0.0054s
              -- add_index("projects", ["created_at"], {:name=>"index_projects_on_created_at", :using=>:btree})
                 -> 0.0033s
              -- add_index("projects", ["creator_id"], {:name=>"index_projects_on_creator_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("projects", ["description"], {:name=>"index_projects_on_description_trigram", :using=>:gin, :opclasses=>{"description"=>"gin_trgm_ops"}})
                 -> 0.0028s
              -- add_index("projects", ["id"], {:name=>"index_projects_on_id_partial_for_visibility", :unique=>true, :where=>"(visibility_level = ANY (ARRAY[10, 20]))", :using=>:btree})
                 -> 0.0039s
              -- add_index("projects", ["last_activity_at"], {:name=>"index_projects_on_last_activity_at", :using=>:btree})
                 -> 0.0041s
              -- add_index("projects", ["last_repository_check_at"], {:name=>"index_projects_on_last_repository_check_at", :where=>"(last_repository_check_at IS NOT NULL)", :using=>:btree})
                 -> 0.0034s
              -- add_index("projects", ["last_repository_check_failed"], {:name=>"index_projects_on_last_repository_check_failed", :using=>:btree})
                 -> 0.0031s
              -- add_index("projects", ["last_repository_updated_at"], {:name=>"index_projects_on_last_repository_updated_at", :using=>:btree})
                 -> 0.0044s
              -- add_index("projects", ["name"], {:name=>"index_projects_on_name_trigram", :using=>:gin, :opclasses=>{"name"=>"gin_trgm_ops"}})
                 -> 0.0053s
              -- add_index("projects", ["namespace_id"], {:name=>"index_projects_on_namespace_id", :using=>:btree})
                 -> 0.0068s
              -- add_index("projects", ["path"], {:name=>"index_projects_on_path", :using=>:btree})
                 -> 0.0030s
              -- add_index("projects", ["path"], {:name=>"index_projects_on_path_trigram", :using=>:gin, :opclasses=>{"path"=>"gin_trgm_ops"}})
                 -> 0.0031s
              -- add_index("projects", ["pending_delete"], {:name=>"index_projects_on_pending_delete", :using=>:btree})
                 -> 0.0041s
              -- add_index("projects", ["pool_repository_id"], {:name=>"index_projects_on_pool_repository_id", :where=>"(pool_repository_id IS NOT NULL)", :using=>:btree})
                 -> 0.0038s
              -- add_index("projects", ["repository_storage", "created_at"], {:name=>"idx_project_repository_check_partial", :where=>"(last_repository_check_at IS NULL)", :using=>:btree})
                 -> 0.0040s
              -- add_index("projects", ["repository_storage"], {:name=>"index_projects_on_repository_storage", :using=>:btree})
                 -> 0.0029s
              -- add_index("projects", ["runners_token"], {:name=>"index_projects_on_runners_token", :using=>:btree})
                 -> 0.0037s
              -- add_index("projects", ["star_count"], {:name=>"index_projects_on_star_count", :using=>:btree})
                 -> 0.0034s
              -- add_index("projects", ["visibility_level"], {:name=>"index_projects_on_visibility_level", :using=>:btree})
                 -> 0.0036s
              -- create_table("prometheus_metrics", {:force=>:cascade})
                 -> 0.0048s
              -- add_index("prometheus_metrics", ["common"], {:name=>"index_prometheus_metrics_on_common", :using=>:btree})
                 -> 0.0043s
              -- add_index("prometheus_metrics", ["group"], {:name=>"index_prometheus_metrics_on_group", :using=>:btree})
                 -> 0.0671s
              -- add_index("prometheus_metrics", ["identifier"], {:name=>"index_prometheus_metrics_on_identifier", :unique=>true, :using=>:btree})
                 -> 0.0110s
              -- add_index("prometheus_metrics", ["project_id"], {:name=>"index_prometheus_metrics_on_project_id", :using=>:btree})
                 -> 0.0102s
              -- create_table("protected_branch_merge_access_levels", {:force=>:cascade})
                 -> 0.0163s
              -- add_index("protected_branch_merge_access_levels", ["protected_branch_id"], {:name=>"index_protected_branch_merge_access", :using=>:btree})
                 -> 0.0119s
              -- create_table("protected_branch_push_access_levels", {:force=>:cascade})
                 -> 0.0167s
              -- add_index("protected_branch_push_access_levels", ["protected_branch_id"], {:name=>"index_protected_branch_push_access", :using=>:btree})
                 -> 0.0151s
              -- create_table("protected_branches", {:force=>:cascade})
                 -> 0.0196s
              -- add_index("protected_branches", ["project_id"], {:name=>"index_protected_branches_on_project_id", :using=>:btree})
                 -> 0.0118s
              -- create_table("protected_tag_create_access_levels", {:force=>:cascade})
                 -> 0.0113s
              -- add_index("protected_tag_create_access_levels", ["protected_tag_id"], {:name=>"index_protected_tag_create_access", :using=>:btree})
                 -> 0.0090s
              -- add_index("protected_tag_create_access_levels", ["user_id"], {:name=>"index_protected_tag_create_access_levels_on_user_id", :using=>:btree})
                 -> 0.0064s
              -- create_table("protected_tags", {:force=>:cascade})
                 -> 0.0074s
              -- add_index("protected_tags", ["project_id", "name"], {:name=>"index_protected_tags_on_project_id_and_name", :unique=>true, :using=>:btree})
                 -> 0.0093s
              -- add_index("protected_tags", ["project_id"], {:name=>"index_protected_tags_on_project_id", :using=>:btree})
                 -> 0.0032s
              -- create_table("push_event_payloads", {:id=>false, :force=>:cascade})
                 -> 0.0038s
              -- add_index("push_event_payloads", ["event_id"], {:name=>"index_push_event_payloads_on_event_id", :unique=>true, :using=>:btree})
                 -> 0.0038s
              -- create_table("redirect_routes", {:force=>:cascade})
                 -> 0.0058s
              -- add_index("redirect_routes", ["path"], {:name=>"index_redirect_routes_on_path", :unique=>true, :using=>:btree})
                 -> 0.0034s
              -- add_index("redirect_routes", ["source_type", "source_id"], {:name=>"index_redirect_routes_on_source_type_and_source_id", :using=>:btree})
                 -> 0.0039s
              -- create_table("releases", {:force=>:cascade})
                 -> 0.0050s
              -- add_index("releases", ["project_id", "tag"], {:name=>"index_releases_on_project_id_and_tag", :using=>:btree})
                 -> 0.0096s
              -- add_index("releases", ["project_id"], {:name=>"index_releases_on_project_id", :using=>:btree})
                 -> 0.0044s
              -- create_table("remote_mirrors", {:force=>:cascade})
                 -> 0.0077s
              -- add_index("remote_mirrors", ["last_successful_update_at"], {:name=>"index_remote_mirrors_on_last_successful_update_at", :using=>:btree})
                 -> 0.0038s
              -- add_index("remote_mirrors", ["project_id"], {:name=>"index_remote_mirrors_on_project_id", :using=>:btree})
                 -> 0.0048s
              -- create_table("repositories", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0056s
              -- add_index("repositories", ["disk_path"], {:name=>"index_repositories_on_disk_path", :unique=>true, :using=>:btree})
                 -> 0.0039s
              -- add_index("repositories", ["shard_id"], {:name=>"index_repositories_on_shard_id", :using=>:btree})
                 -> 0.0043s
              -- create_table("repository_languages", {:id=>false, :force=>:cascade})
                 -> 0.0028s
              -- add_index("repository_languages", ["project_id", "programming_language_id"], {:name=>"index_repository_languages_on_project_and_languages_id", :unique=>true, :using=>:btree})
                 -> 0.0052s
              -- create_table("resource_label_events", {:id=>:bigserial, :force=>:cascade})
                 -> 0.0072s
              -- add_index("resource_label_events", ["issue_id"], {:name=>"index_resource_label_events_on_issue_id", :using=>:btree})
                 -> 0.0041s
              -- add_index("resource_label_events", ["label_id"], {:name=>"index_resource_label_events_on_label_id", :using=>:btree})
                 -> 0.0050s
              -- add_index("resource_label_events", ["merge_request_id"], {:name=>"index_resource_label_events_on_merge_request_id", :using=>:btree})
                 -> 0.0038s
              -- add_index("resource_label_events", ["user_id"], {:name=>"index_resource_label_events_on_user_id", :using=>:btree})
                 -> 0.0073s
              -- create_table("routes", {:force=>:cascade})
                 -> 0.0068s
              -- add_index("routes", ["path"], {:name=>"index_routes_on_path", :unique=>true, :using=>:btree})
                 -> 0.0037s
              -- add_index("routes", ["path"], {:name=>"index_routes_on_path_text_pattern_ops", :using=>:btree, :opclasses=>{"path"=>"varchar_pattern_ops"}})
                 -> 0.0050s
              -- add_index("routes", ["source_type", "source_id"], {:name=>"index_routes_on_source_type_and_source_id", :unique=>true, :using=>:btree})
                 -> 0.0049s
              -- create_table("sent_notifications", {:force=>:cascade})
                 -> 0.0151s
              -- add_index("sent_notifications", ["reply_key"], {:name=>"index_sent_notifications_on_reply_key", :unique=>true, :using=>:btree})
                 -> 0.0035s
              -- create_table("services", {:force=>:cascade})
                 -> 0.0167s
              -- add_index("services", ["project_id"], {:name=>"index_services_on_project_id", :using=>:btree})
                 -> 0.0046s
              -- add_index("services", ["template"], {:name=>"index_services_on_template", :using=>:btree})
                 -> 0.0046s
              -- create_table("shards", {:force=>:cascade})
                 -> 0.0046s
              -- add_index("shards", ["name"], {:name=>"index_shards_on_name", :unique=>true, :using=>:btree})
                 -> 0.0043s
              -- create_table("snippets", {:force=>:cascade})
                 -> 0.0069s
              -- add_index("snippets", ["author_id"], {:name=>"index_snippets_on_author_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("snippets", ["file_name"], {:name=>"index_snippets_on_file_name_trigram", :using=>:gin, :opclasses=>{"file_name"=>"gin_trgm_ops"}})
                 -> 0.0036s
              -- add_index("snippets", ["project_id"], {:name=>"index_snippets_on_project_id", :using=>:btree})
                 -> 0.0035s
              -- add_index("snippets", ["title"], {:name=>"index_snippets_on_title_trigram", :using=>:gin, :opclasses=>{"title"=>"gin_trgm_ops"}})
                 -> 0.0038s
              -- add_index("snippets", ["updated_at"], {:name=>"index_snippets_on_updated_at", :using=>:btree})
                 -> 0.0038s
              -- add_index("snippets", ["visibility_level"], {:name=>"index_snippets_on_visibility_level", :using=>:btree})
                 -> 0.0049s
              -- create_table("spam_logs", {:force=>:cascade})
                 -> 0.0063s
              -- create_table("subscriptions", {:force=>:cascade})
                 -> 0.0052s
              -- add_index("subscriptions", ["subscribable_id", "subscribable_type", "user_id", "project_id"], {:name=>"index_subscriptions_on_subscribable_and_user_id_and_project_id", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- create_table("system_note_metadata", {:force=>:cascade})
                 -> 0.0058s
              -- add_index("system_note_metadata", ["note_id"], {:name=>"index_system_note_metadata_on_note_id", :unique=>true, :using=>:btree})
                 -> 0.0038s
              -- create_table("taggings", {:force=>:cascade})
                 -> 0.0080s
              -- add_index("taggings", ["tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type"], {:name=>"taggings_idx", :unique=>true, :using=>:btree})
                 -> 0.0050s
              -- add_index("taggings", ["tag_id"], {:name=>"index_taggings_on_tag_id", :using=>:btree})
                 -> 0.0037s
              -- add_index("taggings", ["taggable_id", "taggable_type", "context"], {:name=>"index_taggings_on_taggable_id_and_taggable_type_and_context", :using=>:btree})
                 -> 0.0040s
              -- add_index("taggings", ["taggable_id", "taggable_type"], {:name=>"index_taggings_on_taggable_id_and_taggable_type", :using=>:btree})
                 -> 0.0033s
              -- create_table("tags", {:force=>:cascade})
                 -> 0.0055s
              -- add_index("tags", ["name"], {:name=>"index_tags_on_name", :unique=>true, :using=>:btree})
                 -> 0.0049s
              -- create_table("term_agreements", {:force=>:cascade})
                 -> 0.0053s
              -- add_index("term_agreements", ["term_id"], {:name=>"index_term_agreements_on_term_id", :using=>:btree})
                 -> 0.0043s
              -- add_index("term_agreements", ["user_id", "term_id"], {:name=>"term_agreements_unique_index", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- add_index("term_agreements", ["user_id"], {:name=>"index_term_agreements_on_user_id", :using=>:btree})
                 -> 0.0043s
              -- create_table("timelogs", {:force=>:cascade})
                 -> 0.0058s
              -- add_index("timelogs", ["issue_id"], {:name=>"index_timelogs_on_issue_id", :using=>:btree})
                 -> 0.0031s
              -- add_index("timelogs", ["merge_request_id"], {:name=>"index_timelogs_on_merge_request_id", :using=>:btree})
                 -> 0.0031s
              -- add_index("timelogs", ["user_id"], {:name=>"index_timelogs_on_user_id", :using=>:btree})
                 -> 0.0062s
              -- create_table("todos", {:force=>:cascade})
                 -> 0.0059s
              -- add_index("todos", ["author_id"], {:name=>"index_todos_on_author_id", :using=>:btree})
                 -> 0.0040s
              -- add_index("todos", ["commit_id"], {:name=>"index_todos_on_commit_id", :using=>:btree})
                 -> 0.0071s
              -- add_index("todos", ["group_id"], {:name=>"index_todos_on_group_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("todos", ["note_id"], {:name=>"index_todos_on_note_id", :using=>:btree})
                 -> 0.0116s
              -- add_index("todos", ["project_id"], {:name=>"index_todos_on_project_id", :using=>:btree})
                 -> 0.0037s
              -- add_index("todos", ["target_type", "target_id"], {:name=>"index_todos_on_target_type_and_target_id", :using=>:btree})
                 -> 0.0036s
              -- add_index("todos", ["user_id", "id"], {:name=>"index_todos_on_user_id_and_id_done", :where=>"((state)::text = 'done'::text)", :using=>:btree})
                 -> 0.0052s
              -- add_index("todos", ["user_id", "id"], {:name=>"index_todos_on_user_id_and_id_pending", :where=>"((state)::text = 'pending'::text)", :using=>:btree})
                 -> 0.0042s
              -- add_index("todos", ["user_id"], {:name=>"index_todos_on_user_id", :using=>:btree})
                 -> 0.0038s
              -- create_table("trending_projects", {:force=>:cascade})
                 -> 0.0043s
              -- add_index("trending_projects", ["project_id"], {:name=>"index_trending_projects_on_project_id", :unique=>true, :using=>:btree})
                 -> 0.0041s
              -- create_table("u2f_registrations", {:force=>:cascade})
                 -> 0.0056s
              -- add_index("u2f_registrations", ["key_handle"], {:name=>"index_u2f_registrations_on_key_handle", :using=>:btree})
                 -> 0.0043s
              -- add_index("u2f_registrations", ["user_id"], {:name=>"index_u2f_registrations_on_user_id", :using=>:btree})
                 -> 0.0042s
              -- create_table("uploads", {:force=>:cascade})
                 -> 0.0062s
              -- add_index("uploads", ["checksum"], {:name=>"index_uploads_on_checksum", :using=>:btree})
                 -> 0.0040s
              -- add_index("uploads", ["model_id", "model_type"], {:name=>"index_uploads_on_model_id_and_model_type", :using=>:btree})
                 -> 0.0047s
              -- add_index("uploads", ["store"], {:name=>"index_uploads_on_store", :using=>:btree})
                 -> 0.0037s
              -- add_index("uploads", ["uploader", "path"], {:name=>"index_uploads_on_uploader_and_path", :using=>:btree})
                 -> 0.0051s
              -- create_table("user_agent_details", {:force=>:cascade})
                 -> 0.0044s
              -- add_index("user_agent_details", ["subject_id", "subject_type"], {:name=>"index_user_agent_details_on_subject_id_and_subject_type", :using=>:btree})
                 -> 0.0042s
              -- create_table("user_callouts", {:force=>:cascade})
                 -> 0.0045s
              -- add_index("user_callouts", ["user_id", "feature_name"], {:name=>"index_user_callouts_on_user_id_and_feature_name", :unique=>true, :using=>:btree})
                 -> 0.0044s
              -- add_index("user_callouts", ["user_id"], {:name=>"index_user_callouts_on_user_id", :using=>:btree})
                 -> 0.0039s
              -- create_table("user_custom_attributes", {:force=>:cascade})
                 -> 0.0062s
              -- add_index("user_custom_attributes", ["key", "value"], {:name=>"index_user_custom_attributes_on_key_and_value", :using=>:btree})
                 -> 0.0055s
              -- add_index("user_custom_attributes", ["user_id", "key"], {:name=>"index_user_custom_attributes_on_user_id_and_key", :unique=>true, :using=>:btree})
                 -> 0.0045s
              -- create_table("user_interacted_projects", {:id=>false, :force=>:cascade})
                 -> 0.0026s
              -- add_index("user_interacted_projects", ["project_id", "user_id"], {:name=>"index_user_interacted_projects_on_project_id_and_user_id", :unique=>true, :using=>:btree})
                 -> 0.0043s
              -- add_index("user_interacted_projects", ["user_id"], {:name=>"index_user_interacted_projects_on_user_id", :using=>:btree})
                 -> 0.0034s
              -- create_table("user_preferences", {:force=>:cascade})
                 -> 0.0044s
              -- add_index("user_preferences", ["user_id"], {:name=>"index_user_preferences_on_user_id", :unique=>true, :using=>:btree})
                 -> 0.0041s
              -- create_table("user_statuses", {:primary_key=>"user_id", :force=>:cascade})
                 -> 0.0068s
              -- create_table("user_synced_attributes_metadata", {:force=>:cascade})
                 -> 0.0071s
              -- add_index("user_synced_attributes_metadata", ["user_id"], {:name=>"index_user_synced_attributes_metadata_on_user_id", :unique=>true, :using=>:btree})
                 -> 0.0046s
              -- create_table("users", {:force=>:cascade})
                 -> 0.0178s
              -- add_index("users", ["admin"], {:name=>"index_users_on_admin", :using=>:btree})
                 -> 0.0041s
              -- add_index("users", ["confirmation_token"], {:name=>"index_users_on_confirmation_token", :unique=>true, :using=>:btree})
                 -> 0.0039s
              -- add_index("users", ["created_at"], {:name=>"index_users_on_created_at", :using=>:btree})
                 -> 0.0032s
              -- add_index("users", ["email"], {:name=>"index_users_on_email", :unique=>true, :using=>:btree})
                 -> 0.0040s
              -- add_index("users", ["email"], {:name=>"index_users_on_email_trigram", :using=>:gin, :opclasses=>{"email"=>"gin_trgm_ops"}})
                 -> 0.0033s
              -- add_index("users", ["feed_token"], {:name=>"index_users_on_feed_token", :using=>:btree})
                 -> 0.0050s
              -- add_index("users", ["ghost"], {:name=>"index_users_on_ghost", :using=>:btree})
                 -> 0.0041s
              -- add_index("users", ["incoming_email_token"], {:name=>"index_users_on_incoming_email_token", :using=>:btree})
                 -> 0.0042s
              -- add_index("users", ["name"], {:name=>"index_users_on_name", :using=>:btree})
                 -> 0.0049s
              -- add_index("users", ["name"], {:name=>"index_users_on_name_trigram", :using=>:gin, :opclasses=>{"name"=>"gin_trgm_ops"}})
                 -> 0.0028s
              -- add_index("users", ["reset_password_token"], {:name=>"index_users_on_reset_password_token", :unique=>true, :using=>:btree})
                 -> 0.0291s
              -- add_index("users", ["state"], {:name=>"index_users_on_state", :using=>:btree})
                 -> 0.0044s
              -- add_index("users", ["username"], {:name=>"index_users_on_username", :using=>:btree})
                 -> 0.0047s
              -- add_index("users", ["username"], {:name=>"index_users_on_username_trigram", :using=>:gin, :opclasses=>{"username"=>"gin_trgm_ops"}})
                 -> 0.0036s
              -- create_table("users_star_projects", {:force=>:cascade})
                 -> 0.0051s
              -- add_index("users_star_projects", ["project_id"], {:name=>"index_users_star_projects_on_project_id", :using=>:btree})
                 -> 0.0037s
              -- add_index("users_star_projects", ["user_id", "project_id"], {:name=>"index_users_star_projects_on_user_id_and_project_id", :unique=>true, :using=>:btree})
                 -> 0.0034s
              -- create_table("web_hook_logs", {:force=>:cascade})
                 -> 0.0057s
              -- add_index("web_hook_logs", ["created_at", "web_hook_id"], {:name=>"index_web_hook_logs_on_created_at_and_web_hook_id", :using=>:btree})
                 -> 0.0044s
              -- add_index("web_hook_logs", ["web_hook_id"], {:name=>"index_web_hook_logs_on_web_hook_id", :using=>:btree})
                 -> 0.0044s
              -- create_table("web_hooks", {:force=>:cascade})
                 -> 0.0118s
              -- add_index("web_hooks", ["project_id"], {:name=>"index_web_hooks_on_project_id", :using=>:btree})
                 -> 0.0039s
              -- add_index("web_hooks", ["type"], {:name=>"index_web_hooks_on_type", :using=>:btree})
                 -> 0.0032s
              -- add_foreign_key("application_settings", "users", {:column=>"usage_stats_set_by_user_id", :name=>"fk_964370041d", :on_delete=>:nullify})
                 -> 0.0041s
              -- add_foreign_key("badges", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("badges", "projects", {:on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("board_group_recent_visits", "boards", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("board_group_recent_visits", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("board_group_recent_visits", "users", {:on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("board_project_recent_visits", "boards", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("board_project_recent_visits", "projects", {:on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("board_project_recent_visits", "users", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("boards", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0052s
              -- add_foreign_key("boards", "projects", {:name=>"fk_f15266b5f9", :on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("chat_teams", "namespaces", {:on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_build_trace_chunks", "ci_builds", {:column=>"build_id", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("ci_build_trace_section_names", "projects", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("ci_build_trace_sections", "ci_build_trace_section_names", {:column=>"section_name_id", :name=>"fk_264e112c66", :on_delete=>:cascade})
                 -> 0.0041s
              -- add_foreign_key("ci_build_trace_sections", "ci_builds", {:column=>"build_id", :name=>"fk_4ebe41f502", :on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("ci_build_trace_sections", "projects", {:on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_builds", "ci_pipelines", {:column=>"auto_canceled_by_id", :name=>"fk_a2141b1522", :on_delete=>:nullify})
                 -> 0.0034s
              -- add_foreign_key("ci_builds", "ci_pipelines", {:column=>"commit_id", :name=>"fk_d3130c9a7f", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_builds", "ci_stages", {:column=>"stage_id", :name=>"fk_3a9eaa254d", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_builds", "projects", {:name=>"fk_befce0568a", :on_delete=>:cascade})
                 -> 0.0027s
              -- add_foreign_key("ci_builds_metadata", "ci_builds", {:column=>"build_id", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("ci_builds_metadata", "projects", {:on_delete=>:cascade})
                 -> 0.0037s
              -- add_foreign_key("ci_builds_runner_session", "ci_builds", {:column=>"build_id", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("ci_group_variables", "namespaces", {:column=>"group_id", :name=>"fk_33ae4d58d8", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_job_artifacts", "ci_builds", {:column=>"job_id", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_job_artifacts", "projects", {:on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("ci_pipeline_schedule_variables", "ci_pipeline_schedules", {:column=>"pipeline_schedule_id", :name=>"fk_41c35fda51", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_pipeline_schedules", "projects", {:name=>"fk_8ead60fcc4", :on_delete=>:cascade})
                 -> 0.0016s
              -- add_foreign_key("ci_pipeline_schedules", "users", {:column=>"owner_id", :name=>"fk_9ea99f58d2", :on_delete=>:nullify})
                 -> 0.0016s
              -- add_foreign_key("ci_pipeline_variables", "ci_pipelines", {:column=>"pipeline_id", :name=>"fk_f29c5f4380", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_pipelines", "ci_pipeline_schedules", {:column=>"pipeline_schedule_id", :name=>"fk_3d34ab2e06", :on_delete=>:nullify})
                 -> 0.0016s
              -- add_foreign_key("ci_pipelines", "ci_pipelines", {:column=>"auto_canceled_by_id", :name=>"fk_262d4c2d19", :on_delete=>:nullify})
                 -> 0.0014s
              -- add_foreign_key("ci_pipelines", "projects", {:name=>"fk_86635dbd80", :on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("ci_runner_namespaces", "ci_runners", {:column=>"runner_id", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("ci_runner_namespaces", "namespaces", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("ci_runner_projects", "projects", {:name=>"fk_4478a6f1e4", :on_delete=>:cascade})
                 -> 0.0032s
              -- add_foreign_key("ci_stages", "ci_pipelines", {:column=>"pipeline_id", :name=>"fk_fb57e6cc56", :on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("ci_stages", "projects", {:name=>"fk_2360681d1d", :on_delete=>:cascade})
                 -> 0.0027s
              -- add_foreign_key("ci_trigger_requests", "ci_triggers", {:column=>"trigger_id", :name=>"fk_b8ec8b7245", :on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("ci_triggers", "projects", {:name=>"fk_e3e63f966e", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("ci_triggers", "users", {:column=>"owner_id", :name=>"fk_e8e10d1964", :on_delete=>:cascade})
                 -> 0.0016s
              -- add_foreign_key("ci_variables", "projects", {:name=>"fk_ada5eb64b3", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("cluster_groups", "clusters", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("cluster_groups", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0016s
              -- add_foreign_key("cluster_platforms_kubernetes", "clusters", {:on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("cluster_projects", "clusters", {:on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("cluster_projects", "projects", {:on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("cluster_providers_gcp", "clusters", {:on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("clusters", "users", {:on_delete=>:nullify})
                 -> 0.0022s
              -- add_foreign_key("clusters_applications_helm", "clusters", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("clusters_applications_ingress", "clusters", {:name=>"fk_753a7b41c1", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("clusters_applications_jupyter", "clusters", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("clusters_applications_jupyter", "oauth_applications", {:on_delete=>:nullify})
                 -> 0.0021s
              -- add_foreign_key("clusters_applications_knative", "clusters", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("clusters_applications_prometheus", "clusters", {:name=>"fk_557e773639", :on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("clusters_applications_runners", "ci_runners", {:column=>"runner_id", :name=>"fk_02de2ded36", :on_delete=>:nullify})
                 -> 0.0019s
              -- add_foreign_key("clusters_applications_runners", "clusters", {:on_delete=>:cascade})
                 -> 0.0016s
              -- add_foreign_key("clusters_kubernetes_namespaces", "cluster_projects", {:on_delete=>:nullify})
                 -> 0.0019s
              -- add_foreign_key("clusters_kubernetes_namespaces", "clusters", {:on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("clusters_kubernetes_namespaces", "projects", {:on_delete=>:nullify})
                 -> 0.0019s
              -- add_foreign_key("container_repositories", "projects")
                 -> 0.0023s
              -- add_foreign_key("deploy_keys_projects", "projects", {:name=>"fk_58a901ca7e", :on_delete=>:cascade})
                 -> 0.0027s
              -- add_foreign_key("deployments", "projects", {:name=>"fk_b9a3851b82", :on_delete=>:cascade})
                 -> 0.0030s
              -- add_foreign_key("environments", "projects", {:name=>"fk_d1c8c1da6a", :on_delete=>:cascade})
                 -> 0.0031s
              -- add_foreign_key("events", "projects", {:on_delete=>:cascade})
                 -> 0.0027s
              -- add_foreign_key("events", "users", {:column=>"author_id", :name=>"fk_edfd187b6f", :on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("fork_network_members", "fork_networks", {:on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("fork_network_members", "projects", {:column=>"forked_from_project_id", :name=>"fk_b01280dae4", :on_delete=>:nullify})
                 -> 0.0025s
              -- add_foreign_key("fork_network_members", "projects", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("fork_networks", "projects", {:column=>"root_project_id", :name=>"fk_e7b436b2b5", :on_delete=>:nullify})
                 -> 0.0025s
              -- add_foreign_key("forked_project_links", "projects", {:column=>"forked_to_project_id", :name=>"fk_434510edb0", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("gcp_clusters", "projects", {:on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("gcp_clusters", "services", {:on_delete=>:nullify})
                 -> 0.0022s
              -- add_foreign_key("gcp_clusters", "users", {:on_delete=>:nullify})
                 -> 0.0025s
              -- add_foreign_key("gpg_key_subkeys", "gpg_keys", {:on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("gpg_keys", "users", {:on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("gpg_signatures", "gpg_key_subkeys", {:on_delete=>:nullify})
                 -> 0.0023s
              -- add_foreign_key("gpg_signatures", "gpg_keys", {:on_delete=>:nullify})
                 -> 0.0019s
              -- add_foreign_key("gpg_signatures", "projects", {:on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("group_custom_attributes", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("import_export_uploads", "projects", {:on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("internal_ids", "namespaces", {:name=>"fk_162941d509", :on_delete=>:cascade})
                 -> 0.0031s
              -- add_foreign_key("internal_ids", "projects", {:on_delete=>:cascade})
                 -> 0.0062s
              -- add_foreign_key("issue_assignees", "issues", {:name=>"fk_b7d881734a", :on_delete=>:cascade})
                 -> 0.0031s
              -- add_foreign_key("issue_assignees", "users", {:name=>"fk_5e0c8d9154", :on_delete=>:cascade})
                 -> 0.0037s
              -- add_foreign_key("issue_metrics", "issues", {:on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("issues", "issues", {:column=>"moved_to_id", :name=>"fk_a194299be1", :on_delete=>:nullify})
                 -> 0.0022s
              -- add_foreign_key("issues", "milestones", {:name=>"fk_96b1dd429c", :on_delete=>:nullify})
                 -> 0.0035s
              -- add_foreign_key("issues", "projects", {:name=>"fk_899c8f3231", :on_delete=>:cascade})
                 -> 0.0028s
              -- add_foreign_key("issues", "users", {:column=>"author_id", :name=>"fk_05f1e72feb", :on_delete=>:nullify})
                 -> 0.0033s
              -- add_foreign_key("issues", "users", {:column=>"closed_by_id", :name=>"fk_c63cbf6c25", :on_delete=>:nullify})
                 -> 0.0053s
              -- add_foreign_key("issues", "users", {:column=>"updated_by_id", :name=>"fk_ffed080f01", :on_delete=>:nullify})
                 -> 0.0038s
              -- add_foreign_key("label_links", "labels", {:name=>"fk_d97dd08678", :on_delete=>:cascade})
                 -> 0.0027s
              -- add_foreign_key("label_priorities", "labels", {:on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("label_priorities", "projects", {:on_delete=>:cascade})
                 -> 0.0036s
              -- add_foreign_key("labels", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("labels", "projects", {:name=>"fk_7de4989a69", :on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("lfs_file_locks", "projects", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("lfs_file_locks", "users", {:on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("lists", "boards", {:name=>"fk_0d3f677137", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("lists", "labels", {:name=>"fk_7a5553d60f", :on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("members", "users", {:name=>"fk_2e88fb7ce9", :on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("merge_request_diff_commits", "merge_request_diffs", {:on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("merge_request_diff_files", "merge_request_diffs", {:on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("merge_request_diffs", "merge_requests", {:name=>"fk_8483f3258f", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("merge_request_metrics", "ci_pipelines", {:column=>"pipeline_id", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("merge_request_metrics", "merge_requests", {:on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("merge_request_metrics", "users", {:column=>"latest_closed_by_id", :name=>"fk_ae440388cc", :on_delete=>:nullify})
                 -> 0.0018s
              -- add_foreign_key("merge_request_metrics", "users", {:column=>"merged_by_id", :name=>"fk_7f28d925f3", :on_delete=>:nullify})
                 -> 0.0018s
              -- add_foreign_key("merge_requests", "ci_pipelines", {:column=>"head_pipeline_id", :name=>"fk_fd82eae0b9", :on_delete=>:nullify})
                 -> 0.0025s
              -- add_foreign_key("merge_requests", "merge_request_diffs", {:column=>"latest_merge_request_diff_id", :name=>"fk_06067f5644", :on_delete=>:nullify})
                 -> 0.0023s
              -- add_foreign_key("merge_requests", "milestones", {:name=>"fk_6a5165a692", :on_delete=>:nullify})
                 -> 0.0021s
              -- add_foreign_key("merge_requests", "projects", {:column=>"source_project_id", :name=>"fk_3308fe130c", :on_delete=>:nullify})
                 -> 0.0027s
              -- add_foreign_key("merge_requests", "projects", {:column=>"target_project_id", :name=>"fk_a6963e8447", :on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("merge_requests", "users", {:column=>"assignee_id", :name=>"fk_6149611a04", :on_delete=>:nullify})
                 -> 0.0019s
              -- add_foreign_key("merge_requests", "users", {:column=>"author_id", :name=>"fk_e719a85f8a", :on_delete=>:nullify})
                 -> 0.0029s
              -- add_foreign_key("merge_requests", "users", {:column=>"merge_user_id", :name=>"fk_ad525e1f87", :on_delete=>:nullify})
                 -> 0.0026s
              -- add_foreign_key("merge_requests", "users", {:column=>"updated_by_id", :name=>"fk_641731faff", :on_delete=>:nullify})
                 -> 0.0025s
              -- add_foreign_key("merge_requests_closing_issues", "issues", {:on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("merge_requests_closing_issues", "merge_requests", {:on_delete=>:cascade})
                 -> 0.0028s
              -- add_foreign_key("milestones", "namespaces", {:column=>"group_id", :name=>"fk_95650a40d4", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("milestones", "projects", {:name=>"fk_9bd0a0c791", :on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("note_diff_files", "notes", {:column=>"diff_note_id", :on_delete=>:cascade})
                 -> 0.0031s
              -- add_foreign_key("notes", "projects", {:name=>"fk_99e097b079", :on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("notification_settings", "users", {:name=>"fk_0c95e91db7", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("oauth_openid_requests", "oauth_access_grants", {:column=>"access_grant_id", :name=>"fk_oauth_openid_requests_oauth_access_grants_access_grant_id"})
                 -> 0.0018s
              -- add_foreign_key("pages_domains", "projects", {:name=>"fk_ea2f6dfc6f", :on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("personal_access_tokens", "users")
                 -> 0.0025s
              -- add_foreign_key("project_authorizations", "projects", {:on_delete=>:cascade})
                 -> 0.0030s
              -- add_foreign_key("project_authorizations", "users", {:on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("project_auto_devops", "projects", {:on_delete=>:cascade})
                 -> 0.0040s
              -- add_foreign_key("project_ci_cd_settings", "projects", {:name=>"fk_24c15d2f2e", :on_delete=>:cascade})
                 -> 0.0031s
              -- add_foreign_key("project_custom_attributes", "projects", {:on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("project_deploy_tokens", "deploy_tokens", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("project_deploy_tokens", "projects", {:on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("project_features", "projects", {:name=>"fk_18513d9b92", :on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("project_group_links", "projects", {:name=>"fk_daa8cee94c", :on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("project_import_data", "projects", {:name=>"fk_ffb9ee3a10", :on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("project_mirror_data", "projects", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("project_statistics", "projects", {:on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("projects", "repositories", {:column=>"pool_repository_id", :name=>"fk_6e5c14658a", :on_delete=>:nullify})
                 -> 0.0026s
              -- add_foreign_key("prometheus_metrics", "projects", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("protected_branch_merge_access_levels", "protected_branches", {:name=>"fk_8a3072ccb3", :on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("protected_branch_push_access_levels", "protected_branches", {:name=>"fk_9ffc86a3d9", :on_delete=>:cascade})
                 -> 0.0016s
              -- add_foreign_key("protected_branches", "projects", {:name=>"fk_7a9c6d93e7", :on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("protected_tag_create_access_levels", "namespaces", {:column=>"group_id"})
                 -> 0.0025s
              -- add_foreign_key("protected_tag_create_access_levels", "protected_tags", {:name=>"fk_f7dfda8c51", :on_delete=>:cascade})
                 -> 0.0017s
              -- add_foreign_key("protected_tag_create_access_levels", "users")
                 -> 0.0025s
              -- add_foreign_key("protected_tags", "projects", {:name=>"fk_8e4af87648", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("push_event_payloads", "events", {:name=>"fk_36c74129da", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("releases", "projects", {:name=>"fk_47fe2a0596", :on_delete=>:cascade})
                 -> 0.0026s
              -- add_foreign_key("remote_mirrors", "projects", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("repositories", "shards", {:on_delete=>:restrict})
                 -> 0.0019s
              -- add_foreign_key("repository_languages", "projects", {:on_delete=>:cascade})
                 -> 0.0028s
              -- add_foreign_key("resource_label_events", "issues", {:on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("resource_label_events", "labels", {:on_delete=>:nullify})
                 -> 0.0017s
              -- add_foreign_key("resource_label_events", "merge_requests", {:on_delete=>:cascade})
                 -> 0.0031s
              -- add_foreign_key("resource_label_events", "users", {:on_delete=>:nullify})
                 -> 0.0020s
              -- add_foreign_key("services", "projects", {:name=>"fk_71cce407f9", :on_delete=>:cascade})
                 -> 0.0027s
              -- add_foreign_key("snippets", "projects", {:name=>"fk_be41fd4bb7", :on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("subscriptions", "projects", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("system_note_metadata", "notes", {:name=>"fk_d83a918cb1", :on_delete=>:cascade})
                 -> 0.0028s
              -- add_foreign_key("term_agreements", "application_setting_terms", {:column=>"term_id"})
                 -> 0.0026s
              -- add_foreign_key("term_agreements", "users", {:on_delete=>:cascade})
                 -> 0.0021s
              -- add_foreign_key("timelogs", "issues", {:name=>"fk_timelogs_issues_issue_id", :on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("timelogs", "merge_requests", {:name=>"fk_timelogs_merge_requests_merge_request_id", :on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("todos", "namespaces", {:column=>"group_id", :on_delete=>:cascade})
                 -> 0.0022s
              -- add_foreign_key("todos", "notes", {:name=>"fk_91d1f47b13", :on_delete=>:cascade})
                 -> 0.0028s
              -- add_foreign_key("todos", "projects", {:name=>"fk_45054f9c45", :on_delete=>:cascade})
                 -> 0.0036s
              -- add_foreign_key("todos", "users", {:column=>"author_id", :name=>"fk_ccf0373936", :on_delete=>:cascade})
                 -> 0.0028s
              -- add_foreign_key("todos", "users", {:name=>"fk_d94154aa95", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("trending_projects", "projects", {:on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("u2f_registrations", "users")
                 -> 0.0025s
              -- add_foreign_key("user_callouts", "users", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("user_custom_attributes", "users", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("user_interacted_projects", "projects", {:name=>"fk_722ceba4f7", :on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("user_interacted_projects", "users", {:name=>"fk_0894651f08", :on_delete=>:cascade})
                 -> 0.0018s
              -- add_foreign_key("user_preferences", "users", {:on_delete=>:cascade})
                 -> 0.0023s
              -- add_foreign_key("user_statuses", "users", {:on_delete=>:cascade})
                 -> 0.0025s
              -- add_foreign_key("user_synced_attributes_metadata", "users", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("users", "application_setting_terms", {:column=>"accepted_term_id", :name=>"fk_789cd90b35", :on_delete=>:cascade})
                 -> 0.0019s
              -- add_foreign_key("users_star_projects", "projects", {:name=>"fk_22cd27ddfc", :on_delete=>:cascade})
                 -> 0.0024s
              -- add_foreign_key("web_hook_logs", "web_hooks", {:on_delete=>:cascade})
                 -> 0.0020s
              -- add_foreign_key("web_hooks", "projects", {:name=>"fk_0c8ca6d9d1", :on_delete=>:cascade})
                 -> 0.0019s
              -- initialize_schema_migrations_table()
                 -> 0.0108s
              
              == Seed from /opt/gitlab/embedded/service/gitlab-rails/db/fixtures/production/001_admin.rb
              Administrator account created:
              
              login:    root
              password: You'll be prompted to create one on your first visit.
              
              
              == Seed from /opt/gitlab/embedded/service/gitlab-rails/db/fixtures/production/010_settings.rb
              
              == Seed from /opt/gitlab/embedded/service/gitlab-rails/db/fixtures/production/999_common_metrics.rb
    [32m- execute "bash"  "/tmp/chef-script20181219-14209-fxu599"[0m
[0mRecipe: gitlab::gitlab-rails[0m
  * execute[clear the gitlab-rails cache] action run
    [32m- execute /opt/gitlab/bin/gitlab-rake cache:clear[0m
[0mRecipe: gitlab::logrotate_folders_and_configs[0m
  * directory[/var/opt/gitlab/logrotate] action create
    [32m- create new directory /var/opt/gitlab/logrotate[0m
    [32m- change mode from '' to '0700'[0m
[0m  * directory[/var/opt/gitlab/logrotate/logrotate.d] action create
    [32m- create new directory /var/opt/gitlab/logrotate/logrotate.d[0m
    [32m- change mode from '' to '0700'[0m
[0m  * directory[/var/log/gitlab/logrotate] action create
    [32m- create new directory /var/log/gitlab/logrotate[0m
    [32m- change mode from '' to '0700'[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.conf] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.conf[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.conf from none to 378c95[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.conf	2018-12-19 22:13:45.339924340 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/.chef-logrotate20181219-14209-1vps95g.conf	2018-12-19 22:13:45.339924340 +0000[0m
    [37m@@ -1 +1,10 @@[0m
    [37m+# Generated by 'gitlab-ctl reconfigure'.[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+include /var/opt/gitlab/logrotate/logrotate.d/nginx[0m
    [37m+include /var/opt/gitlab/logrotate/logrotate.d/unicorn[0m
    [37m+include /var/opt/gitlab/logrotate/logrotate.d/gitlab-rails[0m
    [37m+include /var/opt/gitlab/logrotate/logrotate.d/gitlab-shell[0m
    [37m+include /var/opt/gitlab/logrotate/logrotate.d/gitlab-workhorse[0m
    [37m+include /var/opt/gitlab/logrotate/logrotate.d/gitlab-pages[0m
    [32m- change mode from '' to '0644'[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.d/nginx] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.d/nginx[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.d/nginx from none to b0c555[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.d/nginx	2018-12-19 22:13:45.351918340 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/logrotate.d/.chef-nginx20181219-14209-k6a58v	2018-12-19 22:13:45.351918340 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+# Generated by gitlab-ctl reconfigure[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+/var/log/gitlab/nginx/*.log {[0m
    [37m+  daily[0m
    [37m+  [0m
    [37m+  rotate 30[0m
    [37m+  compress[0m
    [37m+  copytruncate[0m
    [37m+  missingok[0m
    [37m+  postrotate[0m
    [37m+    [0m
    [37m+  endscript[0m
    [37m+}[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.d/unicorn] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.d/unicorn[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.d/unicorn from none to 1520c7[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.d/unicorn	2018-12-19 22:13:45.359914340 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/logrotate.d/.chef-unicorn20181219-14209-1prmlq3	2018-12-19 22:13:45.359914340 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+# Generated by gitlab-ctl reconfigure[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+/var/log/gitlab/unicorn/*.log {[0m
    [37m+  daily[0m
    [37m+  [0m
    [37m+  rotate 30[0m
    [37m+  compress[0m
    [37m+  copytruncate[0m
    [37m+  missingok[0m
    [37m+  postrotate[0m
    [37m+    [0m
    [37m+  endscript[0m
    [37m+}[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.d/gitlab-rails] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.d/gitlab-rails[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.d/gitlab-rails from none to f44586[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.d/gitlab-rails	2018-12-19 22:13:45.367910340 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/logrotate.d/.chef-gitlab-rails20181219-14209-by1ziy	2018-12-19 22:13:45.367910340 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+# Generated by gitlab-ctl reconfigure[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+/var/log/gitlab/gitlab-rails/*.log {[0m
    [37m+  daily[0m
    [37m+  [0m
    [37m+  rotate 30[0m
    [37m+  compress[0m
    [37m+  copytruncate[0m
    [37m+  missingok[0m
    [37m+  postrotate[0m
    [37m+    [0m
    [37m+  endscript[0m
    [37m+}[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.d/gitlab-shell] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.d/gitlab-shell[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.d/gitlab-shell from none to d12268[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.d/gitlab-shell	2018-12-19 22:13:45.375906339 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/logrotate.d/.chef-gitlab-shell20181219-14209-1mugodi	2018-12-19 22:13:45.375906339 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+# Generated by gitlab-ctl reconfigure[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+/var/log/gitlab/gitlab-shell//*.log {[0m
    [37m+  daily[0m
    [37m+  [0m
    [37m+  rotate 30[0m
    [37m+  compress[0m
    [37m+  copytruncate[0m
    [37m+  missingok[0m
    [37m+  postrotate[0m
    [37m+    [0m
    [37m+  endscript[0m
    [37m+}[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.d/gitlab-workhorse] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.d/gitlab-workhorse[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.d/gitlab-workhorse from none to 359431[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.d/gitlab-workhorse	2018-12-19 22:13:45.391898340 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/logrotate.d/.chef-gitlab-workhorse20181219-14209-1blz438	2018-12-19 22:13:45.387900340 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+# Generated by gitlab-ctl reconfigure[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+/var/log/gitlab/gitlab-workhorse/*.log {[0m
    [37m+  daily[0m
    [37m+  [0m
    [37m+  rotate 30[0m
    [37m+  compress[0m
    [37m+  copytruncate[0m
    [37m+  missingok[0m
    [37m+  postrotate[0m
    [37m+    [0m
    [37m+  endscript[0m
    [37m+}[0m
[0m  * template[/var/opt/gitlab/logrotate/logrotate.d/gitlab-pages] action create
    [32m- create new file /var/opt/gitlab/logrotate/logrotate.d/gitlab-pages[0m
    [32m- update content in file /var/opt/gitlab/logrotate/logrotate.d/gitlab-pages from none to 3a241b[0m
    [37m--- /var/opt/gitlab/logrotate/logrotate.d/gitlab-pages	2018-12-19 22:13:45.399894340 +0000[0m
    [37m+++ /var/opt/gitlab/logrotate/logrotate.d/.chef-gitlab-pages20181219-14209-rx1riz	2018-12-19 22:13:45.399894340 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+# Generated by gitlab-ctl reconfigure[0m
    [37m+# Modifications will be overwritten![0m
    [37m+[0m
    [37m+/var/log/gitlab/gitlab-pages/*.log {[0m
    [37m+  daily[0m
    [37m+  [0m
    [37m+  rotate 30[0m
    [37m+  compress[0m
    [37m+  copytruncate[0m
    [37m+  missingok[0m
    [37m+  postrotate[0m
    [37m+    [0m
    [37m+  endscript[0m
    [37m+}[0m
[0mRecipe: gitlab::unicorn[0m
  * directory[/var/log/gitlab/unicorn] action create
    [32m- create new directory /var/log/gitlab/unicorn[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/opt/gitlab/var/unicorn] action create
    [32m- create new directory /opt/gitlab/var/unicorn[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/var/opt/gitlab/gitlab-rails/sockets] action create
    [32m- create new directory /var/opt/gitlab/gitlab-rails/sockets[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'git'[0m
    [32m- change group from '' to 'gitlab-www'[0m
[0m  * directory[/var/opt/gitlab/gitlab-rails/etc] action create (up to date)
  * template[/var/opt/gitlab/gitlab-rails/etc/unicorn.rb] action create
    [32m- create new file /var/opt/gitlab/gitlab-rails/etc/unicorn.rb[0m
    [32m- update content in file /var/opt/gitlab/gitlab-rails/etc/unicorn.rb from none to a700db[0m
    [37m--- /var/opt/gitlab/gitlab-rails/etc/unicorn.rb	2018-12-19 22:13:45.423882340 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-rails/etc/.chef-unicorn20181219-14209-3ov1s2.rb	2018-12-19 22:13:45.423882340 +0000[0m
    [37m@@ -1 +1,61 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m+[0m
    [37m+# What ports/sockets to listen on, and what options for them.[0m
    [37m+listen "127.0.0.1:8080", :tcp_nopush => true[0m
    [37m+listen "/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket", :backlog => 1024[0m
    [37m+[0m
    [37m+working_directory '/var/opt/gitlab/gitlab-rails/working'[0m
    [37m+[0m
    [37m+# What the timeout for killing busy workers is, in seconds[0m
    [37m+timeout 60[0m
    [37m+[0m
    [37m+# Whether the app should be pre-loaded[0m
    [37m+preload_app true[0m
    [37m+[0m
    [37m+# How many worker processes[0m
    [37m+worker_processes 3[0m
    [37m+[0m
    [37m+# Load the Gitlab::Cluster::LifecycleEvents module[0m
    [37m+# to notify the application of unicorn events[0m
    [37m+require_relative "/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/cluster/lifecycle_events"[0m
    [37m+[0m
    [37m+before_exec do |server|[0m
    [37m+  Gitlab::Cluster::LifecycleEvents.do_master_restart[0m
    [37m+end[0m
    [37m+[0m
    [37m+before_fork do |server, worker|[0m
    [37m+  Gitlab::Cluster::LifecycleEvents.do_before_fork[0m
    [37m+[0m
    [37m+  old_pid = "#{server.config[:pid]}.oldbin"[0m
    [37m+  if old_pid != server.pid[0m
    [37m+    begin[0m
    [37m+      sig = (worker.nr + 1) >= server.worker_processes ? :QUIT : :TTOU[0m
    [37m+      Process.kill(sig, File.read(old_pid).to_i)[0m
    [37m+    rescue Errno::ENOENT, Errno::ESRCH[0m
    [37m+    end[0m
    [37m+  end[0m
    [37m+end[0m
    [37m+[0m
    [37m+after_fork do |server, worker|[0m
    [37m+  Gitlab::Cluster::LifecycleEvents.do_worker_start[0m
    [37m+end[0m
    [37m+[0m
    [37m+# Where to drop a pidfile[0m
    [37m+pid '/opt/gitlab/var/unicorn/unicorn.pid'[0m
    [37m+[0m
    [37m+# Where stderr gets logged[0m
    [37m+stderr_path '/var/log/gitlab/unicorn/unicorn_stderr.log'[0m
    [37m+[0m
    [37m+# Where stdout gets logged[0m
    [37m+stdout_path '/var/log/gitlab/unicorn/unicorn_stdout.log'[0m
    [37m+[0m
    [37m+# Min memory size (RSS) per worker[0m
    [37m+ENV['GITLAB_UNICORN_MEMORY_MIN'] = (400 * 1 << 20).to_s[0m
    [37m+[0m
    [37m+# Max memory size (RSS) per worker[0m
    [37m+ENV['GITLAB_UNICORN_MEMORY_MAX'] = (650 * 1 << 20).to_s[0m
    [37m+[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/unicorn] action create
    [32m- create new directory /opt/gitlab/sv/unicorn[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/unicorn/log] action create
    [32m- create new directory /opt/gitlab/sv/unicorn/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/unicorn/log/main] action create
    [32m- create new directory /opt/gitlab/sv/unicorn/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/unicorn/run] action create
    [32m- create new file /opt/gitlab/sv/unicorn/run[0m
    [32m- update content in file /opt/gitlab/sv/unicorn/run from none to b7c020[0m
    [37m--- /opt/gitlab/sv/unicorn/run	2018-12-19 22:13:45.459864340 +0000[0m
    [37m+++ /opt/gitlab/sv/unicorn/.chef-run20181219-14209-1n7hpph	2018-12-19 22:13:45.459864340 +0000[0m
    [37m@@ -1 +1,25 @@[0m
    [37m+#!/bin/bash[0m
    [37m+[0m
    [37m+# Let runit capture all script error messages[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+# Setup run directory.[0m
    [37m+mkdir -p /run/gitlab/unicorn[0m
    [37m+chmod 0700 /run/gitlab/unicorn[0m
    [37m+chown git /run/gitlab/unicorn[0m
    [37m+export prometheus_run_dir='/run/gitlab/unicorn'[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+exec chpst -P -u git:git -U git:git \[0m
    [37m+  /usr/bin/env \[0m
    [37m+    current_pidfile=/opt/gitlab/var/unicorn/unicorn.pid \[0m
    [37m+    rails_app=gitlab-rails \[0m
    [37m+    user=git \[0m
    [37m+    group=git \[0m
    [37m+    environment=production \[0m
    [37m+    unicorn_rb=/var/opt/gitlab/gitlab-rails/etc/unicorn.rb \[0m
    [37m+    prometheus_multiproc_dir="${prometheus_run_dir}" \[0m
    [37m+    /opt/gitlab/embedded/bin/gitlab-unicorn-wrapper[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/unicorn/log/run] action create
    [32m- create new file /opt/gitlab/sv/unicorn/log/run[0m
    [32m- update content in file /opt/gitlab/sv/unicorn/log/run from none to d50262[0m
    [37m--- /opt/gitlab/sv/unicorn/log/run	2018-12-19 22:13:45.471858339 +0000[0m
    [37m+++ /opt/gitlab/sv/unicorn/log/.chef-run20181219-14209-1moi0m3	2018-12-19 22:13:45.471858339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/unicorn[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/unicorn/config] action create
    [32m- create new file /var/log/gitlab/unicorn/config[0m
    [32m- update content in file /var/log/gitlab/unicorn/config from none to 623c00[0m
    [37m--- /var/log/gitlab/unicorn/config	2018-12-19 22:13:45.483852340 +0000[0m
    [37m+++ /var/log/gitlab/unicorn/.chef-config20181219-14209-pu2a65	2018-12-19 22:13:45.483852340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload unicorn svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart unicorn svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/unicorn/down] action delete (up to date)
  * directory[/opt/gitlab/sv/unicorn/control] action create
    [32m- create new directory /opt/gitlab/sv/unicorn/control[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/unicorn/control/t] action create
    [32m- create new file /opt/gitlab/sv/unicorn/control/t[0m
    [32m- update content in file /opt/gitlab/sv/unicorn/control/t from none to 84b233[0m
    [37m--- /opt/gitlab/sv/unicorn/control/t	2018-12-19 22:13:45.499844340 +0000[0m
    [37m+++ /opt/gitlab/sv/unicorn/control/.chef-t20181219-14209-1n9mk4f	2018-12-19 22:13:45.499844340 +0000[0m
    [37m@@ -1 +1,4 @@[0m
    [37m+#!/bin/sh[0m
    [37m+echo "Received TERM from runit, sending to process group (-PID)"[0m
    [37m+kill -- -$(cat /opt/gitlab/service/unicorn/supervise/pid)[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * link[/opt/gitlab/init/unicorn] action create
    [32m- create symlink at /opt/gitlab/init/unicorn to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/unicorn] action create
    [32m- create symlink at /opt/gitlab/service/unicorn to /opt/gitlab/sv/unicorn[0m
[0m  * ruby_block[supervise_unicorn_sleep] action run
    [32m- execute the ruby block supervise_unicorn_sleep[0m
[0m  * directory[/opt/gitlab/sv/unicorn/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/unicorn/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/unicorn/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/unicorn/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/unicorn/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/unicorn/log/supervise/control] action touch (skipped due to only_if)
  * service[unicorn] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start unicorn] action run
    [execute] ok: run: unicorn: (pid 15358) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start unicorn[0m
[0m  * sysctl[net.core.somaxconn] action create
    * directory[create /etc/sysctl.d for net.core.somaxconn] action create (up to date)
    * file[create /opt/gitlab/embedded/etc/90-omnibus-gitlab-net.core.somaxconn.conf net.core.somaxconn] action create
      [32m- create new file /opt/gitlab/embedded/etc/90-omnibus-gitlab-net.core.somaxconn.conf[0m
      [32m- update content in file /opt/gitlab/embedded/etc/90-omnibus-gitlab-net.core.somaxconn.conf from none to 353a75[0m
      [37m--- /opt/gitlab/embedded/etc/90-omnibus-gitlab-net.core.somaxconn.conf	2018-12-19 22:13:50.093546339 +0000[0m
      [37m+++ /opt/gitlab/embedded/etc/.chef-90-omnibus-gitlab-net20181219-14209-94x4vl.core.somaxconn.conf	2018-12-19 22:13:50.093546339 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+net.core.somaxconn = 1024[0m
[0m    * execute[load sysctl conf net.core.somaxconn] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.sem = 250 32000 32 262
                kernel.shmall = 4194304
                kernel.shmmax = 17179869184
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * link[/etc/sysctl.d/90-omnibus-gitlab-net.core.somaxconn.conf] action create
      [32m- create symlink at /etc/sysctl.d/90-omnibus-gitlab-net.core.somaxconn.conf to /opt/gitlab/embedded/etc/90-omnibus-gitlab-net.core.somaxconn.conf[0m
[0m    * execute[load sysctl conf net.core.somaxconn] action run
      [execute] kernel.printk = 4 4 1 7
                net.ipv6.conf.all.use_tempaddr = 2
                net.ipv6.conf.default.use_tempaddr = 2
                kernel.kptr_restrict = 1
                fs.protected_hardlinks = 1
                fs.protected_symlinks = 1
                fs.inotify.max_user_instances = 1024
                kernel.sysrq = 176
                net.ipv4.conf.default.rp_filter = 1
                net.ipv4.conf.all.rp_filter = 1
                net.ipv4.tcp_syncookies = 1
                kernel.yama.ptrace_scope = 1
                vm.mmap_min_addr = 65536
                kernel.sem = 250 32000 32 262
                kernel.shmall = 4194304
                kernel.shmmax = 17179869184
                net.core.somaxconn = 1024
                net.ipv6.conf.all.use_tempaddr = 0
                net.ipv6.conf.default.use_tempaddr = 0
      [32m- execute cat /etc/sysctl.conf /etc/sysctl.d/*.conf  | sysctl -e -p -[0m
[0m    * file[delete /etc/sysctl.d/90-postgresql.conf net.core.somaxconn] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-unicorn.conf net.core.somaxconn] action delete (skipped due to only_if)
    * file[delete /opt/gitlab/embedded/etc/90-omnibus-gitlab.conf net.core.somaxconn] action delete (skipped due to only_if)
    * file[delete /etc/sysctl.d/90-omnibus-gitlab.conf net.core.somaxconn] action delete (skipped due to only_if)
    * execute[load sysctl conf net.core.somaxconn] action nothing (skipped due to action :nothing)
  
[0mRecipe: gitlab::puma_disable[0m
  * link[/opt/gitlab/service/puma] action delete (up to date)
  * directory[/opt/gitlab/sv/puma] action delete (up to date)
Recipe: gitlab::sidekiq[0m
  * directory[/var/log/gitlab/sidekiq] action create
    [32m- create new directory /var/log/gitlab/sidekiq[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/opt/gitlab/sv/sidekiq] action create
    [32m- create new directory /opt/gitlab/sv/sidekiq[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/sidekiq/log] action create
    [32m- create new directory /opt/gitlab/sv/sidekiq/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/sidekiq/log/main] action create
    [32m- create new directory /opt/gitlab/sv/sidekiq/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/sidekiq/run] action create
    [32m- create new file /opt/gitlab/sv/sidekiq/run[0m
    [32m- update content in file /opt/gitlab/sv/sidekiq/run from none to 09a7f9[0m
    [37m--- /opt/gitlab/sv/sidekiq/run	2018-12-19 22:13:50.225480340 +0000[0m
    [37m+++ /opt/gitlab/sv/sidekiq/.chef-run20181219-14209-qblq9i	2018-12-19 22:13:50.225480340 +0000[0m
    [37m@@ -1 +1,26 @@[0m
    [37m+#!/bin/sh[0m
    [37m+[0m
    [37m+cd /var/opt/gitlab/gitlab-rails/working[0m
    [37m+[0m
    [37m+exec 2>&1[0m
    [37m+# Setup run directory.[0m
    [37m+mkdir -p /run/gitlab/sidekiq[0m
    [37m+rm /run/gitlab/sidekiq/*.db 2> /dev/null[0m
    [37m+chmod 0700 /run/gitlab/sidekiq[0m
    [37m+chown git /run/gitlab/sidekiq[0m
    [37m+export prometheus_run_dir='/run/gitlab/sidekiq'[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+exec chpst -e /opt/gitlab/etc/gitlab-rails/env -P \[0m
    [37m+  -U git:git \[0m
    [37m+  -u git:git \[0m
    [37m+  /usr/bin/env \[0m
    [37m+    prometheus_multiproc_dir="${prometheus_run_dir}" \[0m
    [37m+    /opt/gitlab/embedded/bin/bundle exec sidekiq \[0m
    [37m+      -C /opt/gitlab/embedded/service/gitlab-rails/config/sidekiq_queues.yml \[0m
    [37m+      -e production \[0m
    [37m+      -r /opt/gitlab/embedded/service/gitlab-rails \[0m
    [37m+      -t 4 \[0m
    [37m+      -c 25[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/sidekiq/log/run] action create
    [32m- create new file /opt/gitlab/sv/sidekiq/log/run[0m
    [32m- update content in file /opt/gitlab/sv/sidekiq/log/run from none to 051d8f[0m
    [37m--- /opt/gitlab/sv/sidekiq/log/run	2018-12-19 22:13:50.249468340 +0000[0m
    [37m+++ /opt/gitlab/sv/sidekiq/log/.chef-run20181219-14209-1e5l9uz	2018-12-19 22:13:50.249468340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/sidekiq[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/sidekiq/config] action create
    [32m- create new file /var/log/gitlab/sidekiq/config[0m
    [32m- update content in file /var/log/gitlab/sidekiq/config from none to 623c00[0m
    [37m--- /var/log/gitlab/sidekiq/config	2018-12-19 22:13:50.277454340 +0000[0m
    [37m+++ /var/log/gitlab/sidekiq/.chef-config20181219-14209-1nvrkpv	2018-12-19 22:13:50.269458340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload sidekiq svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart sidekiq svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/sidekiq/down] action delete (up to date)
  * link[/opt/gitlab/init/sidekiq] action create
    [32m- create symlink at /opt/gitlab/init/sidekiq to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/sidekiq] action create
    [32m- create symlink at /opt/gitlab/service/sidekiq to /opt/gitlab/sv/sidekiq[0m
[0m  * ruby_block[supervise_sidekiq_sleep] action run
    [32m- execute the ruby block supervise_sidekiq_sleep[0m
[0m  * directory[/opt/gitlab/sv/sidekiq/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/sidekiq/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/sidekiq/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/sidekiq/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/sidekiq/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/sidekiq/log/supervise/control] action touch (skipped due to only_if)
  * service[sidekiq] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start sidekiq] action run
    [execute] ok: run: sidekiq: (pid 15400) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start sidekiq[0m
[0mRecipe: gitlab::gitlab-workhorse[0m
  * directory[/var/opt/gitlab/gitlab-workhorse] action create
    [32m- create new directory /var/opt/gitlab/gitlab-workhorse[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'git'[0m
    [32m- change group from '' to 'gitlab-www'[0m
[0m  * directory[/var/log/gitlab/gitlab-workhorse] action create
    [32m- create new directory /var/log/gitlab/gitlab-workhorse[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/opt/gitlab/etc/gitlab-workhorse] action create
    [32m- create new directory /opt/gitlab/etc/gitlab-workhorse[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * env_dir[/opt/gitlab/etc/gitlab-workhorse/env] action create
    * directory[/opt/gitlab/etc/gitlab-workhorse/env] action create
      [32m- create new directory /opt/gitlab/etc/gitlab-workhorse/env[0m
[0m    * file[/opt/gitlab/etc/gitlab-workhorse/env/PATH] action create
      [32m- create new file /opt/gitlab/etc/gitlab-workhorse/env/PATH[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-workhorse/env/PATH from none to d5dc07[0m
      [37m--- /opt/gitlab/etc/gitlab-workhorse/env/PATH	2018-12-19 22:13:53.028078340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-workhorse/env/.chef-PATH20181219-14209-hwjehf	2018-12-19 22:13:53.028078340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin[0m
[0m    * file[/opt/gitlab/etc/gitlab-workhorse/env/HOME] action create
      [32m- create new file /opt/gitlab/etc/gitlab-workhorse/env/HOME[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-workhorse/env/HOME from none to 205bb9[0m
      [37m--- /opt/gitlab/etc/gitlab-workhorse/env/HOME	2018-12-19 22:13:53.036074340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-workhorse/env/.chef-HOME20181219-14209-150ey61	2018-12-19 22:13:53.036074340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/var/opt/gitlab[0m
[0m    * file[/opt/gitlab/etc/gitlab-workhorse/env/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/gitlab-workhorse/env/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/gitlab-workhorse/env/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/gitlab-workhorse/env/SSL_CERT_DIR	2018-12-19 22:13:53.040072340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitlab-workhorse/env/.chef-SSL_CERT_DIR20181219-14209-1a05q2l	2018-12-19 22:13:53.040072340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m  
[0m  * directory[/opt/gitlab/sv/gitlab-workhorse] action create
    [32m- create new directory /opt/gitlab/sv/gitlab-workhorse[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-workhorse/log] action create
    [32m- create new directory /opt/gitlab/sv/gitlab-workhorse/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-workhorse/log/main] action create
    [32m- create new directory /opt/gitlab/sv/gitlab-workhorse/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/gitlab-workhorse/run] action create
    [32m- create new file /opt/gitlab/sv/gitlab-workhorse/run[0m
    [32m- update content in file /opt/gitlab/sv/gitlab-workhorse/run from none to f289d2[0m
    [37m--- /opt/gitlab/sv/gitlab-workhorse/run	2018-12-19 22:13:53.076054340 +0000[0m
    [37m+++ /opt/gitlab/sv/gitlab-workhorse/.chef-run20181219-14209-1g60kuf	2018-12-19 22:13:53.076054340 +0000[0m
    [37m@@ -1 +1,27 @@[0m
    [37m+#!/bin/sh[0m
    [37m+set -e # fail on errors[0m
    [37m+[0m
    [37m+# Redirect stderr -> stdout[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+cd /var/opt/gitlab/gitlab-workhorse[0m
    [37m+[0m
    [37m+exec chpst -e /opt/gitlab/etc/gitlab-workhorse/env -P \[0m
    [37m+  -U git:git \[0m
    [37m+  -u git:git \[0m
    [37m+  /opt/gitlab/embedded/bin/gitlab-workhorse \[0m
    [37m+    -listenNetwork unix \[0m
    [37m+    -listenUmask 0 \[0m
    [37m+    -listenAddr /var/opt/gitlab/gitlab-workhorse/socket \[0m
    [37m+    -authBackend http://localhost:8080 \[0m
    [37m+    -authSocket /var/opt/gitlab/gitlab-rails/sockets/gitlab.socket \[0m
    [37m+    -documentRoot /opt/gitlab/embedded/service/gitlab-rails/public \[0m
    [37m+    -pprofListenAddr ''\[0m
    [37m+    -prometheusListenAddr localhost:9229 \[0m
    [37m+    -secretPath /opt/gitlab/embedded/service/gitlab-rails/.gitlab_workhorse_secret \[0m
    [37m+    -config config.toml \[0m
    [37m+[0m
    [37m+# Do not remove this line; it prevents trouble with the trailing backslashes above.[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/gitlab-workhorse/log/run] action create
    [32m- create new file /opt/gitlab/sv/gitlab-workhorse/log/run[0m
    [32m- update content in file /opt/gitlab/sv/gitlab-workhorse/log/run from none to 6ed0e1[0m
    [37m--- /opt/gitlab/sv/gitlab-workhorse/log/run	2018-12-19 22:13:53.096044339 +0000[0m
    [37m+++ /opt/gitlab/sv/gitlab-workhorse/log/.chef-run20181219-14209-cxvj1g	2018-12-19 22:13:53.096044339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/gitlab-workhorse[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/gitlab-workhorse/config] action create
    [32m- create new file /var/log/gitlab/gitlab-workhorse/config[0m
    [32m- update content in file /var/log/gitlab/gitlab-workhorse/config from none to 623c00[0m
    [37m--- /var/log/gitlab/gitlab-workhorse/config	2018-12-19 22:13:53.108038340 +0000[0m
    [37m+++ /var/log/gitlab/gitlab-workhorse/.chef-config20181219-14209-60iokd	2018-12-19 22:13:53.108038340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload gitlab-workhorse svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart gitlab-workhorse svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/gitlab-workhorse/down] action delete (up to date)
  * link[/opt/gitlab/init/gitlab-workhorse] action create
    [32m- create symlink at /opt/gitlab/init/gitlab-workhorse to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/gitlab-workhorse] action create
    [32m- create symlink at /opt/gitlab/service/gitlab-workhorse to /opt/gitlab/sv/gitlab-workhorse[0m
[0m  * ruby_block[supervise_gitlab-workhorse_sleep] action run
    [32m- execute the ruby block supervise_gitlab-workhorse_sleep[0m
[0m  * directory[/opt/gitlab/sv/gitlab-workhorse/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-workhorse/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/gitlab-workhorse/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitlab-workhorse/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitlab-workhorse/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitlab-workhorse/log/supervise/control] action touch (skipped due to only_if)
  * service[gitlab-workhorse] action nothing (skipped due to action :nothing)
  * file[/var/opt/gitlab/gitlab-workhorse/VERSION] action create
    [32m- create new file /var/opt/gitlab/gitlab-workhorse/VERSION[0m
    [32m- update content in file /var/opt/gitlab/gitlab-workhorse/VERSION from none to c0b69a[0m
    [37m--- /var/opt/gitlab/gitlab-workhorse/VERSION	2018-12-19 22:13:58.153514339 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-workhorse/.chef-VERSION20181219-14209-64omog	2018-12-19 22:13:58.153514339 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+gitlab-workhorse v7.1.3-20181213.160957[0m
[0m  * template[/var/opt/gitlab/gitlab-workhorse/config.toml] action create
    [32m- create new file /var/opt/gitlab/gitlab-workhorse/config.toml[0m
    [32m- update content in file /var/opt/gitlab/gitlab-workhorse/config.toml from none to cb62fe[0m
    [37m--- /var/opt/gitlab/gitlab-workhorse/config.toml	2018-12-19 22:13:58.157512339 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-workhorse/.chef-config20181219-14209-16xk3ct.toml	2018-12-19 22:13:58.157512339 +0000[0m
    [37m@@ -1 +1,4 @@[0m
    [37m+[redis][0m
    [37m+URL = "unix:/var/opt/gitlab/redis/redis.socket"[0m
    [37m+Password = ""[0m
    [32m- change mode from '' to '0640'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'git'[0m
[0mRecipe: gitlab::mailroom_disable[0m
  * link[/opt/gitlab/service/mailroom] action delete (up to date)
  * directory[/opt/gitlab/sv/mailroom] action delete (up to date)
Recipe: gitlab::nginx[0m
  * directory[/var/opt/gitlab/nginx] action create
    [32m- create new directory /var/opt/gitlab/nginx[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'gitlab-www'[0m
[0m  * directory[/var/opt/gitlab/nginx/conf] action create
    [32m- create new directory /var/opt/gitlab/nginx/conf[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'gitlab-www'[0m
[0m  * directory[/var/log/gitlab/nginx] action create
    [32m- create new directory /var/log/gitlab/nginx[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'gitlab-www'[0m
[0m  * link[/var/opt/gitlab/nginx/logs] action create
    [32m- create symlink at /var/opt/gitlab/nginx/logs to /var/log/gitlab/nginx[0m
[0m  * template[/var/opt/gitlab/nginx/conf/gitlab-http.conf] action create
    [32m- create new file /var/opt/gitlab/nginx/conf/gitlab-http.conf[0m
    [32m- update content in file /var/opt/gitlab/nginx/conf/gitlab-http.conf from none to dc42bb[0m
    [37m--- /var/opt/gitlab/nginx/conf/gitlab-http.conf	2018-12-19 22:13:58.225478339 +0000[0m
    [37m+++ /var/opt/gitlab/nginx/conf/.chef-gitlab-http20181219-14209-sml42o.conf	2018-12-19 22:13:58.225478339 +0000[0m
    [37m@@ -1 +1,119 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m+## GitLab[0m
    [37m+## Modified from https://gitlab.com/gitlab-org/gitlab-ce/blob/master/lib/support/nginx/gitlab-ssl & https://gitlab.com/gitlab-org/gitlab-ce/blob/master/lib/support/nginx/gitlab[0m
    [37m+##[0m
    [37m+## Lines starting with two hashes (##) are comments with information.[0m
    [37m+## Lines starting with one hash (#) are configuration parameters that can be uncommented.[0m
    [37m+##[0m
    [37m+##################################[0m
    [37m+##        CHUNKED TRANSFER      ##[0m
    [37m+##################################[0m
    [37m+##[0m
    [37m+## It is a known issue that Git-over-HTTP requires chunked transfer encoding [0][0m
    [37m+## which is not supported by Nginx < 1.3.9 [1]. As a result, pushing a large object[0m
    [37m+## with Git (i.e. a single large file) can lead to a 411 error. In theory you can get[0m
    [37m+## around this by tweaking this configuration file and either:[0m
    [37m+## - installing an old version of Nginx with the chunkin module [2] compiled in, or[0m
    [37m+## - using a newer version of Nginx.[0m
    [37m+##[0m
    [37m+## At the time of writing we do not know if either of these theoretical solutions works.[0m
    [37m+## As a workaround users can use Git over SSH to push large files.[0m
    [37m+##[0m
    [37m+## [0] https://git.kernel.org/cgit/git/git.git/tree/Documentation/technical/http-protocol.txt#n99[0m
    [37m+## [1] https://github.com/agentzh/chunkin-nginx-module#status[0m
    [37m+## [2] https://github.com/agentzh/chunkin-nginx-module[0m
    [37m+##[0m
    [37m+###################################[0m
    [37m+##         configuration         ##[0m
    [37m+###################################[0m
    [37m+[0m
    [37m+upstream gitlab-workhorse {[0m
    [37m+  server unix:/var/opt/gitlab/gitlab-workhorse/socket;[0m
    [37m+}[0m
    [37m+[0m
    [37m+[0m
    [37m+server {[0m
    [37m+  listen *:80;[0m
    [37m+[0m
    [37m+[0m
    [37m+  server_name 192.168.99.10;[0m
    [37m+  server_tokens off; ## Don't show the nginx version number, a security best practice[0m
    [37m+[0m
    [37m+  ## Increase this if you want to upload large attachments[0m
    [37m+  ## Or if you want to accept large git objects over http[0m
    [37m+  client_max_body_size 0;[0m
    [37m+[0m
    [37m+[0m
    [37m+  ## Real IP Module Config[0m
    [37m+  ## http://nginx.org/en/docs/http/ngx_http_realip_module.html[0m
    [37m+[0m
    [37m+  ## HSTS Config[0m
    [37m+  ## https://www.nginx.com/blog/http-strict-transport-security-hsts-and-nginx/[0m
    [37m+  add_header Strict-Transport-Security "max-age=31536000";[0m
    [37m+[0m
    [37m+  ## Individual nginx logs for this GitLab vhost[0m
    [37m+  access_log  /var/log/gitlab/nginx/gitlab_access.log gitlab_access;[0m
    [37m+  error_log   /var/log/gitlab/nginx/gitlab_error.log;[0m
    [37m+[0m
    [37m+  if ($http_host = "") {[0m
    [37m+    set $http_host_with_default "192.168.99.10";[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  if ($http_host != "") {[0m
    [37m+    set $http_host_with_default $http_host;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  gzip on;[0m
    [37m+  gzip_static on;[0m
    [37m+  gzip_comp_level 2;[0m
    [37m+  gzip_http_version 1.1;[0m
    [37m+  gzip_vary on;[0m
    [37m+  gzip_disable "msie6";[0m
    [37m+  gzip_min_length 10240;[0m
    [37m+  gzip_proxied no-cache no-store private expired auth;[0m
    [37m+  gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/json application/xml application/rss+xml;[0m
    [37m+[0m
    [37m+  ## https://github.com/gitlabhq/gitlabhq/issues/694[0m
    [37m+  ## Some requests take more than 30 seconds.[0m
    [37m+  proxy_read_timeout      3600;[0m
    [37m+  proxy_connect_timeout   300;[0m
    [37m+  proxy_redirect          off;[0m
    [37m+  proxy_http_version 1.1;[0m
    [37m+[0m
    [37m+  proxy_set_header Host $http_host_with_default;[0m
    [37m+  proxy_set_header X-Real-IP $remote_addr;[0m
    [37m+  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[0m
    [37m+  proxy_set_header Upgrade $http_upgrade;[0m
    [37m+  proxy_set_header Connection $connection_upgrade;[0m
    [37m+  proxy_set_header X-Forwarded-Proto http;[0m
    [37m+[0m
    [37m+  location ~ (\.git/gitlab-lfs/objects|\.git/info/lfs/objects/batch$) {[0m
    [37m+    proxy_cache off;[0m
    [37m+    proxy_pass http://gitlab-workhorse;[0m
    [37m+    proxy_request_buffering off;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  location / {[0m
    [37m+    proxy_cache off;[0m
    [37m+    proxy_pass  http://gitlab-workhorse;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  location /assets {[0m
    [37m+    proxy_cache gitlab;[0m
    [37m+    proxy_pass  http://gitlab-workhorse;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  error_page 404 /404.html;[0m
    [37m+  error_page 500 /500.html;[0m
    [37m+  error_page 502 /502.html;[0m
    [37m+  location ~ ^/(404|500|502)(-custom)?\.html$ {[0m
    [37m+    root /opt/gitlab/embedded/service/gitlab-rails/public;[0m
    [37m+    internal;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  [0m
    [37m+}[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/opt/gitlab/nginx/conf/gitlab-pages.conf] action delete (up to date)
  * template[/var/opt/gitlab/nginx/conf/gitlab-registry.conf] action delete (up to date)
  * template[/var/opt/gitlab/nginx/conf/gitlab-mattermost-http.conf] action delete (up to date)
  * template[/var/opt/gitlab/nginx/conf/nginx-status.conf] action create
    [32m- create new file /var/opt/gitlab/nginx/conf/nginx-status.conf[0m
    [32m- update content in file /var/opt/gitlab/nginx/conf/nginx-status.conf from none to 27c186[0m
    [37m--- /var/opt/gitlab/nginx/conf/nginx-status.conf	2018-12-19 22:13:58.265458340 +0000[0m
    [37m+++ /var/opt/gitlab/nginx/conf/.chef-nginx-status20181219-14209-1p3a44w.conf	2018-12-19 22:13:58.265458340 +0000[0m
    [37m@@ -1 +1,20 @@[0m
    [37m+server  {[0m
    [37m+    listen *:8060;[0m
    [37m+    server_name localhost;[0m
    [37m+    location /nginx_status {[0m
    [37m+      stub_status;[0m
    [37m+      server_tokens off;[0m
    [37m+      access_log off;[0m
    [37m+      allow 127.0.0.1;[0m
    [37m+      deny all;[0m
    [37m+    }[0m
    [37m+    location /metrics {[0m
    [37m+      vhost_traffic_status_display;[0m
    [37m+      vhost_traffic_status_display_format prometheus;[0m
    [37m+      server_tokens off;[0m
    [37m+      access_log off;[0m
    [37m+      allow 127.0.0.1;[0m
    [37m+      deny all;[0m
    [37m+    }[0m
    [37m+}[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/opt/gitlab/nginx/conf/nginx.conf] action create
    [32m- create new file /var/opt/gitlab/nginx/conf/nginx.conf[0m
    [32m- update content in file /var/opt/gitlab/nginx/conf/nginx.conf from none to c47988[0m
    [37m--- /var/opt/gitlab/nginx/conf/nginx.conf	2018-12-19 22:13:58.277452340 +0000[0m
    [37m+++ /var/opt/gitlab/nginx/conf/.chef-nginx20181219-14209-1122eyv.conf	2018-12-19 22:13:58.277452340 +0000[0m
    [37m@@ -1 +1,86 @@[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run `sudo gitlab-ctl reconfigure`.[0m
    [37m+[0m
    [37m+user gitlab-www gitlab-www;[0m
    [37m+worker_processes 2;[0m
    [37m+error_log stderr;[0m
    [37m+pid nginx.pid;[0m
    [37m+[0m
    [37m+daemon off;[0m
    [37m+[0m
    [37m+events {[0m
    [37m+  worker_connections 10240;[0m
    [37m+}[0m
    [37m+[0m
    [37m+http {[0m
    [37m+  log_format gitlab_access '$remote_addr - $remote_user [$time_local] "$request_method $filtered_request_uri $server_protocol" $status $body_bytes_sent "$filtered_http_referer" "$http_user_agent"';[0m
    [37m+  log_format gitlab_mattermost_access '$remote_addr - $remote_user [$time_local] "$request_method $filtered_request_uri $server_protocol" $status $body_bytes_sent "$filtered_http_referer" "$http_user_agent"';[0m
    [37m+[0m
    [37m+  server_names_hash_bucket_size 64;[0m
    [37m+[0m
    [37m+  sendfile on;[0m
    [37m+  tcp_nopush on;[0m
    [37m+  tcp_nodelay on;[0m
    [37m+[0m
    [37m+  keepalive_timeout 65;[0m
    [37m+[0m
    [37m+  gzip on;[0m
    [37m+  gzip_http_version 1.0;[0m
    [37m+  gzip_comp_level 2;[0m
    [37m+  gzip_proxied any;[0m
    [37m+  gzip_types text/plain text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript application/json;[0m
    [37m+[0m
    [37m+  include /opt/gitlab/embedded/conf/mime.types;[0m
    [37m+[0m
    [37m+  proxy_cache_path proxy_cache keys_zone=gitlab:10m max_size=1g levels=1:2;[0m
    [37m+  proxy_cache gitlab;[0m
    [37m+[0m
    [37m+  map $http_upgrade $connection_upgrade {[0m
    [37m+      default upgrade;[0m
    [37m+      ''      close;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  # Remove private_token from the request URI[0m
    [37m+  # In:  /foo?private_token=unfiltered&authenticity_token=unfiltered&rss_token=unfiltered&...[0m
    [37m+  # Out: /foo?private_token=[FILTERED]&authenticity_token=unfiltered&rss_token=unfiltered&...[0m
    [37m+  map $request_uri $temp_request_uri_1 {[0m
    [37m+    default $request_uri;[0m
    [37m+    ~(?i)^(?<start>.*)(?<temp>[\?&]private[\-_]token)=[^&]*(?<rest>.*)$ "$start$temp=[FILTERED]$rest";[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  # Remove authenticity_token from the request URI[0m
    [37m+  # In:  /foo?private_token=[FILTERED]&authenticity_token=unfiltered&rss_token=unfiltered&...[0m
    [37m+  # Out: /foo?private_token=[FILTERED]&authenticity_token=[FILTERED]&rss_token=unfiltered&...[0m
    [37m+  map $temp_request_uri_1 $temp_request_uri_2 {[0m
    [37m+    default $temp_request_uri_1;[0m
    [37m+    ~(?i)^(?<start>.*)(?<temp>[\?&]authenticity[\-_]token)=[^&]*(?<rest>.*)$ "$start$temp=[FILTERED]$rest";[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  # Remove rss_token from the request URI[0m
    [37m+  # In:  /foo?private_token=[FILTERED]&authenticity_token=[FILTERED]&rss_token=unfiltered&...[0m
    [37m+  # Out: /foo?private_token=[FILTERED]&authenticity_token=[FILTERED]&rss_token=[FILTERED]&...[0m
    [37m+  map $temp_request_uri_2 $filtered_request_uri {[0m
    [37m+    default $temp_request_uri_2;[0m
    [37m+    ~(?i)^(?<start>.*)(?<temp>[\?&]rss[\-_]token)=[^&]*(?<rest>.*)$ "$start$temp=[FILTERED]$rest";[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  # A version of the referer without the query string[0m
    [37m+  map $http_referer $filtered_http_referer {[0m
    [37m+    default $http_referer;[0m
    [37m+    ~^(?<temp>.*)\? $temp;[0m
    [37m+  }[0m
    [37m+[0m
    [37m+  # Enable vts status module.[0m
    [37m+  vhost_traffic_status_zone;[0m
    [37m+[0m
    [37m+  include /var/opt/gitlab/nginx/conf/gitlab-http.conf;[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+  include /var/opt/gitlab/nginx/conf/nginx-status.conf;[0m
    [37m+[0m
    [37m+  [0m
    [37m+}[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0mRecipe: nginx::enable[0m
  * directory[/opt/gitlab/sv/nginx] action create
    [32m- create new directory /opt/gitlab/sv/nginx[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/nginx/log] action create
    [32m- create new directory /opt/gitlab/sv/nginx/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/nginx/log/main] action create
    [32m- create new directory /opt/gitlab/sv/nginx/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/nginx/run] action create
    [32m- create new file /opt/gitlab/sv/nginx/run[0m
    [32m- update content in file /opt/gitlab/sv/nginx/run from none to d75aea[0m
    [37m--- /opt/gitlab/sv/nginx/run	2018-12-19 22:13:58.309436340 +0000[0m
    [37m+++ /opt/gitlab/sv/nginx/.chef-run20181219-14209-1lx02o7	2018-12-19 22:13:58.309436340 +0000[0m
    [37m@@ -1 +1,6 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+cd /var/opt/gitlab/nginx[0m
    [37m+exec chpst -P /opt/gitlab/embedded/sbin/nginx -p /var/opt/gitlab/nginx[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/nginx/log/run] action create
    [32m- create new file /opt/gitlab/sv/nginx/log/run[0m
    [32m- update content in file /opt/gitlab/sv/nginx/log/run from none to c70025[0m
    [37m--- /opt/gitlab/sv/nginx/log/run	2018-12-19 22:13:58.313434340 +0000[0m
    [37m+++ /opt/gitlab/sv/nginx/log/.chef-run20181219-14209-v7viud	2018-12-19 22:13:58.313434340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/nginx[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/nginx/config] action create
    [32m- create new file /var/log/gitlab/nginx/config[0m
    [32m- update content in file /var/log/gitlab/nginx/config from none to 623c00[0m
    [37m--- /var/log/gitlab/nginx/config	2018-12-19 22:13:58.321430340 +0000[0m
    [37m+++ /var/log/gitlab/nginx/.chef-config20181219-14209-1toc7bj	2018-12-19 22:13:58.321430340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload nginx svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart nginx svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/nginx/down] action delete (up to date)
  * link[/opt/gitlab/init/nginx] action create
    [32m- create symlink at /opt/gitlab/init/nginx to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/nginx] action create
    [32m- create symlink at /opt/gitlab/service/nginx to /opt/gitlab/sv/nginx[0m
[0m  * ruby_block[supervise_nginx_sleep] action run
    [32m- execute the ruby block supervise_nginx_sleep[0m
[0m  * directory[/opt/gitlab/sv/nginx/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/nginx/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/nginx/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/nginx/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/nginx/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/nginx/log/supervise/control] action touch (skipped due to only_if)
  * service[nginx] action nothing (skipped due to action :nothing)
  * execute[reload nginx] action nothing (skipped due to action :nothing)
Recipe: gitlab::nginx[0m
  * execute[/opt/gitlab/bin/gitlab-ctl start nginx] action run
    [execute] ok: run: nginx: (pid 15432) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start nginx[0m
[0mRecipe: gitlab::remote-syslog_disable[0m
  * link[/opt/gitlab/service/remote-syslog] action delete (up to date)
  * directory[/opt/gitlab/sv/remote-syslog] action delete (up to date)
Recipe: gitlab::logrotate[0m
  * directory[/opt/gitlab/sv/logrotate] action create
    [32m- create new directory /opt/gitlab/sv/logrotate[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/logrotate/log] action create
    [32m- create new directory /opt/gitlab/sv/logrotate/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/logrotate/log/main] action create
    [32m- create new directory /opt/gitlab/sv/logrotate/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/logrotate/run] action create
    [32m- create new file /opt/gitlab/sv/logrotate/run[0m
    [32m- update content in file /opt/gitlab/sv/logrotate/run from none to 07f1b6[0m
    [37m--- /opt/gitlab/sv/logrotate/run	2018-12-19 22:14:01.004088340 +0000[0m
    [37m+++ /opt/gitlab/sv/logrotate/.chef-run20181219-14209-1hbzqqf	2018-12-19 22:14:01.004088340 +0000[0m
    [37m@@ -1 +1,11 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+cd /var/opt/gitlab/logrotate[0m
    [37m+[0m
    [37m+exec /opt/gitlab/embedded/bin/chpst -P /usr/bin/env \[0m
    [37m+  dir=/var/opt/gitlab/logrotate \[0m
    [37m+  pre_sleep=600 \[0m
    [37m+  post_sleep=3000 \[0m
    [37m+  /opt/gitlab/embedded/bin/gitlab-logrotate-wrapper[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/logrotate/log/run] action create
    [32m- create new file /opt/gitlab/sv/logrotate/log/run[0m
    [32m- update content in file /opt/gitlab/sv/logrotate/log/run from none to 94afe6[0m
    [37m--- /opt/gitlab/sv/logrotate/log/run	2018-12-19 22:14:01.024078340 +0000[0m
    [37m+++ /opt/gitlab/sv/logrotate/log/.chef-run20181219-14209-1d47hi4	2018-12-19 22:14:01.020080339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/logrotate[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/logrotate/config] action create
    [32m- create new file /var/log/gitlab/logrotate/config[0m
    [32m- update content in file /var/log/gitlab/logrotate/config from none to 623c00[0m
    [37m--- /var/log/gitlab/logrotate/config	2018-12-19 22:14:01.036072340 +0000[0m
    [37m+++ /var/log/gitlab/logrotate/.chef-config20181219-14209-1nfd3uj	2018-12-19 22:14:01.036072340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload logrotate svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart logrotate svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/logrotate/down] action delete (up to date)
  * directory[/opt/gitlab/sv/logrotate/control] action create
    [32m- create new directory /opt/gitlab/sv/logrotate/control[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/logrotate/control/t] action create
    [32m- create new file /opt/gitlab/sv/logrotate/control/t[0m
    [32m- update content in file /opt/gitlab/sv/logrotate/control/t from none to 8fa3fa[0m
    [37m--- /opt/gitlab/sv/logrotate/control/t	2018-12-19 22:14:01.080050340 +0000[0m
    [37m+++ /opt/gitlab/sv/logrotate/control/.chef-t20181219-14209-1c2al1s	2018-12-19 22:14:01.080050340 +0000[0m
    [37m@@ -1 +1,4 @@[0m
    [37m+#!/bin/sh[0m
    [37m+echo "Received TERM from runit, sending to process group (-PID)"[0m
    [37m+kill -- -$(cat /opt/gitlab/service/logrotate/supervise/pid)[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * link[/opt/gitlab/init/logrotate] action create
    [32m- create symlink at /opt/gitlab/init/logrotate to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/logrotate] action create
    [32m- create symlink at /opt/gitlab/service/logrotate to /opt/gitlab/sv/logrotate[0m
[0m  * ruby_block[supervise_logrotate_sleep] action run
    [32m- execute the ruby block supervise_logrotate_sleep[0m
[0m  * directory[/opt/gitlab/sv/logrotate/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/logrotate/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/logrotate/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/logrotate/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/logrotate/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/logrotate/log/supervise/control] action touch (skipped due to only_if)
  * service[logrotate] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start logrotate] action run
    [execute] ok: run: logrotate: (pid 15452) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start logrotate[0m
[0mRecipe: gitlab::bootstrap[0m
  * file[/var/opt/gitlab/bootstrapped] action create
    [32m- create new file /var/opt/gitlab/bootstrapped[0m
    [32m- update content in file /var/opt/gitlab/bootstrapped from none to 4ae00c[0m
    [37m--- /var/opt/gitlab/bootstrapped	2018-12-19 22:14:06.985096340 +0000[0m
    [37m+++ /var/opt/gitlab/.chef-bootstrapped20181219-14209-14cgn4n	2018-12-19 22:14:06.985096340 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+All your bootstraps are belong to Chef[0m
    [32m- change mode from '' to '0600'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0mRecipe: gitlab::gitlab-pages_disable[0m
  * link[/opt/gitlab/service/gitlab-pages] action delete (up to date)
  * directory[/opt/gitlab/sv/gitlab-pages] action delete (up to date)
Recipe: gitlab::storage-check_disable[0m
  * link[/opt/gitlab/service/storage-check] action delete (up to date)
  * directory[/opt/gitlab/sv/storage-check] action delete (up to date)
Recipe: registry::disable[0m
  * link[/opt/gitlab/service/registry] action delete (up to date)
  * directory[/opt/gitlab/sv/registry] action delete (up to date)
Recipe: gitaly::enable[0m
  * directory[/var/opt/gitlab/gitaly] action create
    [32m- create new directory /var/opt/gitlab/gitaly[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/var/log/gitlab/gitaly] action create
    [32m- create new directory /var/log/gitlab/gitaly[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * env_dir[/opt/gitlab/etc/gitaly] action create
    * directory[/opt/gitlab/etc/gitaly] action create
      [32m- create new directory /opt/gitlab/etc/gitaly[0m
[0m    * file[/opt/gitlab/etc/gitaly/HOME] action create
      [32m- create new file /opt/gitlab/etc/gitaly/HOME[0m
      [32m- update content in file /opt/gitlab/etc/gitaly/HOME from none to 205bb9[0m
      [37m--- /opt/gitlab/etc/gitaly/HOME	2018-12-19 22:14:07.069054340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitaly/.chef-HOME20181219-14209-gqugmw	2018-12-19 22:14:07.069054340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/var/opt/gitlab[0m
[0m    * file[/opt/gitlab/etc/gitaly/PATH] action create
      [32m- create new file /opt/gitlab/etc/gitaly/PATH[0m
      [32m- update content in file /opt/gitlab/etc/gitaly/PATH from none to d5dc07[0m
      [37m--- /opt/gitlab/etc/gitaly/PATH	2018-12-19 22:14:07.089044340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitaly/.chef-PATH20181219-14209-sivrvw	2018-12-19 22:14:07.089044340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin[0m
[0m    * file[/opt/gitlab/etc/gitaly/TZ] action create
      [32m- create new file /opt/gitlab/etc/gitaly/TZ[0m
      [32m- update content in file /opt/gitlab/etc/gitaly/TZ from none to 983a95[0m
      [37m--- /opt/gitlab/etc/gitaly/TZ	2018-12-19 22:14:07.105036340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitaly/.chef-TZ20181219-14209-1u7jr2j	2018-12-19 22:14:07.105036340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+:/etc/localtime[0m
[0m    * file[/opt/gitlab/etc/gitaly/PYTHONPATH] action create
      [32m- create new file /opt/gitlab/etc/gitaly/PYTHONPATH[0m
      [32m- update content in file /opt/gitlab/etc/gitaly/PYTHONPATH from none to 990cc2[0m
      [37m--- /opt/gitlab/etc/gitaly/PYTHONPATH	2018-12-19 22:14:07.117030340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitaly/.chef-PYTHONPATH20181219-14209-k5u33f	2018-12-19 22:14:07.117030340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/lib/python3.4/site-packages[0m
[0m    * file[/opt/gitlab/etc/gitaly/ICU_DATA] action create
      [32m- create new file /opt/gitlab/etc/gitaly/ICU_DATA[0m
      [32m- update content in file /opt/gitlab/etc/gitaly/ICU_DATA from none to a04260[0m
      [37m--- /opt/gitlab/etc/gitaly/ICU_DATA	2018-12-19 22:14:07.137020340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitaly/.chef-ICU_DATA20181219-14209-1pomxno	2018-12-19 22:14:07.137020340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/share/icu/current[0m
[0m    * file[/opt/gitlab/etc/gitaly/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/gitaly/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/gitaly/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/gitaly/SSL_CERT_DIR	2018-12-19 22:14:07.149014340 +0000[0m
      [37m+++ /opt/gitlab/etc/gitaly/.chef-SSL_CERT_DIR20181219-14209-bbo3fh	2018-12-19 22:14:07.149014340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m  
[0m  * template[Create Gitaly config.toml] action create
    [32m- create new file /var/opt/gitlab/gitaly/config.toml[0m
    [32m- update content in file /var/opt/gitlab/gitaly/config.toml from none to e62e01[0m
    [37m--- /var/opt/gitlab/gitaly/config.toml	2018-12-19 22:14:07.161008340 +0000[0m
    [37m+++ /var/opt/gitlab/gitaly/.chef-config20181219-14209-ujh8f.toml	2018-12-19 22:14:07.161008340 +0000[0m
    [37m@@ -1 +1,28 @@[0m
    [37m+# Gitaly configuration file[0m
    [37m+# This file is managed by gitlab-ctl. Manual changes will be[0m
    [37m+# erased! To change the contents below, edit /etc/gitlab/gitlab.rb[0m
    [37m+# and run:[0m
    [37m+# sudo gitlab-ctl reconfigure[0m
    [37m+[0m
    [37m+socket_path = '/var/opt/gitlab/gitaly/gitaly.socket'[0m
    [37m+bin_dir = '/opt/gitlab/embedded/bin'[0m
    [37m+[0m
    [37m+[0m
    [37m+# Optional: export metrics via Prometheus[0m
    [37m+prometheus_listen_addr = 'localhost:9236'[0m
    [37m+[0m
    [37m+[[storage]][0m
    [37m+name = 'default'[0m
    [37m+path = '/var/opt/gitlab/git-data/repositories'[0m
    [37m+[0m
    [37m+[logging][0m
    [37m+[0m
    [37m+[0m
    [37m+[auth][0m
    [37m+[0m
    [37m+[gitaly-ruby][0m
    [37m+dir = "/opt/gitlab/embedded/service/gitaly-ruby"[0m
    [37m+[0m
    [37m+[gitlab-shell][0m
    [37m+dir = "/opt/gitlab/embedded/service/gitlab-shell"[0m
    [32m- change mode from '' to '0640'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'git'[0m
[0m  * directory[/opt/gitlab/sv/gitaly] action create
    [32m- create new directory /opt/gitlab/sv/gitaly[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/gitaly/log] action create
    [32m- create new directory /opt/gitlab/sv/gitaly/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/gitaly/log/main] action create
    [32m- create new directory /opt/gitlab/sv/gitaly/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/gitaly/run] action create
    [32m- create new file /opt/gitlab/sv/gitaly/run[0m
    [32m- update content in file /opt/gitlab/sv/gitaly/run from none to ca428a[0m
    [37m--- /opt/gitlab/sv/gitaly/run	2018-12-19 22:14:07.192992339 +0000[0m
    [37m+++ /opt/gitlab/sv/gitaly/.chef-run20181219-14209-1nnhajz	2018-12-19 22:14:07.192992339 +0000[0m
    [37m@@ -1 +1,15 @@[0m
    [37m+#!/bin/sh[0m
    [37m+set -e # fail on errors[0m
    [37m+[0m
    [37m+# Redirect stderr -> stdout[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+[0m
    [37m+[0m
    [37m+cd /var/opt/gitlab/gitaly[0m
    [37m+[0m
    [37m+exec chpst -e /opt/gitlab/etc/gitaly -P \[0m
    [37m+  -U git:git \[0m
    [37m+  -u git:git \[0m
    [37m+  /opt/gitlab/embedded/bin/gitaly /var/opt/gitlab/gitaly/config.toml[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/gitaly/log/run] action create
    [32m- create new file /opt/gitlab/sv/gitaly/log/run[0m
    [32m- update content in file /opt/gitlab/sv/gitaly/log/run from none to 0627d2[0m
    [37m--- /opt/gitlab/sv/gitaly/log/run	2018-12-19 22:14:07.208984340 +0000[0m
    [37m+++ /opt/gitlab/sv/gitaly/log/.chef-run20181219-14209-i35pfv	2018-12-19 22:14:07.208984340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/gitaly[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/gitaly/config] action create
    [32m- create new file /var/log/gitlab/gitaly/config[0m
    [32m- update content in file /var/log/gitlab/gitaly/config from none to 623c00[0m
    [37m--- /var/log/gitlab/gitaly/config	2018-12-19 22:14:07.220978340 +0000[0m
    [37m+++ /var/log/gitlab/gitaly/.chef-config20181219-14209-818g4t	2018-12-19 22:14:07.220978340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload gitaly svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart gitaly svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/gitaly/down] action delete (up to date)
  * link[/opt/gitlab/init/gitaly] action create
    [32m- create symlink at /opt/gitlab/init/gitaly to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/gitaly] action create
    [32m- create symlink at /opt/gitlab/service/gitaly to /opt/gitlab/sv/gitaly[0m
[0m  * ruby_block[supervise_gitaly_sleep] action run
    [32m- execute the ruby block supervise_gitaly_sleep[0m
[0m  * directory[/opt/gitlab/sv/gitaly/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/gitaly/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/gitaly/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitaly/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitaly/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitaly/log/supervise/control] action touch (skipped due to only_if)
  * service[gitaly] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start gitaly] action run
    [execute] ok: run: gitaly: (pid 15470) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start gitaly[0m
[0m  * file[/var/opt/gitlab/gitaly/VERSION] action create
    [32m- create new file /var/opt/gitlab/gitaly/VERSION[0m
    [32m- update content in file /var/opt/gitlab/gitaly/VERSION from none to 75d2c3[0m
    [37m--- /var/opt/gitlab/gitaly/VERSION	2018-12-19 22:14:13.002086340 +0000[0m
    [37m+++ /var/opt/gitlab/gitaly/.chef-VERSION20181219-14209-6605kd	2018-12-19 22:14:13.002086340 +0000[0m
    [37m@@ -1 +1,2 @@[0m
    [37m+Gitaly, version 0.129.0, built 20181213.161446[0m
[0mRecipe: mattermost::disable[0m
  * link[/opt/gitlab/service/mattermost] action delete (up to date)
  * directory[/opt/gitlab/sv/mattermost] action delete (up to date)
Recipe: gitlab::gitlab-healthcheck[0m
  * template[/opt/gitlab/etc/gitlab-healthcheck-rc] action create
    [32m- create new file /opt/gitlab/etc/gitlab-healthcheck-rc[0m
    [32m- update content in file /opt/gitlab/etc/gitlab-healthcheck-rc from none to 6da55f[0m
    [37m--- /opt/gitlab/etc/gitlab-healthcheck-rc	2018-12-19 22:14:13.022076339 +0000[0m
    [37m+++ /opt/gitlab/etc/.chef-gitlab-healthcheck-rc20181219-14209-yyat6y	2018-12-19 22:14:13.022076339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+url='http://localhost:80/help'[0m
    [37m+flags='--insecure'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0mRecipe: gitlab::prometheus_user[0m
  * account[Prometheus user and group] action create
    * group[Prometheus user and group] action create
      [32m- create group gitlab-prometheus[0m
[0m    * linux_user[Prometheus user and group] action create
      [32m- create user gitlab-prometheus[0m
[0m  
[0mRecipe: gitlab::node-exporter[0m
  * directory[/var/log/gitlab/node-exporter] action create
    [32m- create new directory /var/log/gitlab/node-exporter[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/opt/gitlab/etc/node-exporter/env] action create
    [32m- create new directory /opt/gitlab/etc/node-exporter/env[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * env_dir[/opt/gitlab/etc/node-exporter/env] action create
    * directory[/opt/gitlab/etc/node-exporter/env] action create (up to date)
    * file[/opt/gitlab/etc/node-exporter/env/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/node-exporter/env/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/node-exporter/env/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/node-exporter/env/SSL_CERT_DIR	2018-12-19 22:14:13.317928340 +0000[0m
      [37m+++ /opt/gitlab/etc/node-exporter/env/.chef-SSL_CERT_DIR20181219-14209-156y0jw	2018-12-19 22:14:13.317928340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m  
[0m  * directory[/var/opt/gitlab/node-exporter/textfile_collector] action create
    [32m- create new directory /var/opt/gitlab/node-exporter/textfile_collector[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/opt/gitlab/sv/node-exporter] action create
    [32m- create new directory /opt/gitlab/sv/node-exporter[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/node-exporter/log] action create
    [32m- create new directory /opt/gitlab/sv/node-exporter/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/node-exporter/log/main] action create
    [32m- create new directory /opt/gitlab/sv/node-exporter/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/node-exporter/run] action create
    [32m- create new file /opt/gitlab/sv/node-exporter/run[0m
    [32m- update content in file /opt/gitlab/sv/node-exporter/run from none to fcf4b4[0m
    [37m--- /opt/gitlab/sv/node-exporter/run	2018-12-19 22:14:13.377898340 +0000[0m
    [37m+++ /opt/gitlab/sv/node-exporter/.chef-run20181219-14209-x8q3nn	2018-12-19 22:14:13.377898340 +0000[0m
    [37m@@ -1 +1,9 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -P -e /opt/gitlab/etc/node-exporter/env \[0m
    [37m+  -U gitlab-prometheus:gitlab-prometheus \[0m
    [37m+  -u gitlab-prometheus:gitlab-prometheus \[0m
    [37m+  /opt/gitlab/embedded/bin/node_exporter --web.listen-address=localhost:9100 --collector.textfile.directory=/var/opt/gitlab/node-exporter/textfile_collector[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/node-exporter/log/run] action create
    [32m- create new file /opt/gitlab/sv/node-exporter/log/run[0m
    [32m- update content in file /opt/gitlab/sv/node-exporter/log/run from none to ae1796[0m
    [37m--- /opt/gitlab/sv/node-exporter/log/run	2018-12-19 22:14:13.385894341 +0000[0m
    [37m+++ /opt/gitlab/sv/node-exporter/log/.chef-run20181219-14209-tduaxi	2018-12-19 22:14:13.385894341 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/node-exporter[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/node-exporter/config] action create
    [32m- create new file /var/log/gitlab/node-exporter/config[0m
    [32m- update content in file /var/log/gitlab/node-exporter/config from none to 623c00[0m
    [37m--- /var/log/gitlab/node-exporter/config	2018-12-19 22:14:13.409882340 +0000[0m
    [37m+++ /var/log/gitlab/node-exporter/.chef-config20181219-14209-1lp03go	2018-12-19 22:14:13.409882340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload node-exporter svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart node-exporter svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/node-exporter/down] action delete (up to date)
  * link[/opt/gitlab/init/node-exporter] action create
    [32m- create symlink at /opt/gitlab/init/node-exporter to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/node-exporter] action create
    [32m- create symlink at /opt/gitlab/service/node-exporter to /opt/gitlab/sv/node-exporter[0m
[0m  * ruby_block[supervise_node-exporter_sleep] action run
    [32m- execute the ruby block supervise_node-exporter_sleep[0m
[0m  * directory[/opt/gitlab/sv/node-exporter/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/node-exporter/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/node-exporter/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/node-exporter/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/node-exporter/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/node-exporter/log/supervise/control] action touch (skipped due to only_if)
  * service[node-exporter] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start node-exporter] action run
    [execute] ok: run: node-exporter: (pid 15601) 2s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start node-exporter[0m
[0mRecipe: gitlab::gitlab-monitor[0m
  * directory[/var/opt/gitlab/gitlab-monitor] action create
    [32m- create new directory /var/opt/gitlab/gitlab-monitor[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/var/log/gitlab/gitlab-monitor] action create
    [32m- create new directory /var/log/gitlab/gitlab-monitor[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * template[/var/opt/gitlab/gitlab-monitor/gitlab-monitor.yml] action create
    [32m- create new file /var/opt/gitlab/gitlab-monitor/gitlab-monitor.yml[0m
    [32m- update content in file /var/opt/gitlab/gitlab-monitor/gitlab-monitor.yml from none to 72e444[0m
    [37m--- /var/opt/gitlab/gitlab-monitor/gitlab-monitor.yml	2018-12-19 22:14:19.266952340 +0000[0m
    [37m+++ /var/opt/gitlab/gitlab-monitor/.chef-gitlab-monitor20181219-14209-1b66hap.yml	2018-12-19 22:14:19.266952340 +0000[0m
    [37m@@ -1 +1,76 @@[0m
    [37m+db_common: &db_common[0m
    [37m+  methods:[0m
    [37m+    - probe_db[0m
    [37m+  opts:[0m
    [37m+    connection_string: dbname=gitlabhq_production user=gitlab host=/var/opt/gitlab/postgresql port=5432 password=[0m
    [37m+[0m
    [37m+# Web server config[0m
    [37m+server:[0m
    [37m+  listen_address: localhost[0m
    [37m+  listen_port: 9168[0m
    [37m+[0m
    [37m+# Probes config[0m
    [37m+probes:[0m
    [37m+  git_process: &git_process[0m
    [37m+    class_name: GitProcessProber # `class_name` is redundant here[0m
    [37m+    methods:[0m
    [37m+    - probe_git[0m
    [37m+    opts:[0m
    [37m+      quantiles: true[0m
    [37m+[0m
    [37m+  # We can group multiple probes under a single endpoint by setting the `multiple` key to `true`, followed[0m
    [37m+  # by probe definitions as usual.[0m
    [37m+  database:[0m
    [37m+    multiple: true[0m
    [37m+    ci_builds:[0m
    [37m+      class_name: Database::CiBuildsProber[0m
    [37m+      <<: *db_common[0m
    [37m+    tuple_stats:[0m
    [37m+      class_name: Database::TuplesProber[0m
    [37m+      <<: *db_common[0m
    [37m+    rows_count:[0m
    [37m+      class_name: Database::RowCountProber[0m
    [37m+      <<: *db_common[0m
    [37m+[0m
    [37m+  process: &process[0m
    [37m+    methods:[0m
    [37m+      - probe_memory[0m
    [37m+      - probe_age[0m
    [37m+      - probe_count[0m
    [37m+    opts:[0m
    [37m+      - pid_or_pattern: "sidekiq .* \\[.*?\\]"[0m
    [37m+        name: sidekiq[0m
    [37m+      - pid_or_pattern: "unicorn worker\\[.*?\\]"[0m
    [37m+        name: unicorn[0m
    [37m+      - pid_or_pattern: "git-upload-pack --stateless-rpc"[0m
    [37m+        name: git_upload_pack[0m
    [37m+        quantiles: true[0m
    [37m+[0m
    [37m+  sidekiq: &sidekiq[0m
    [37m+    methods:[0m
    [37m+      - probe_queues[0m
    [37m+      - probe_jobs[0m
    [37m+      - probe_workers[0m
    [37m+      - probe_retries[0m
    [37m+      - probe_dead[0m
    [37m+    opts:[0m
    [37m+      redis_url: "unix:/var/opt/gitlab/redis/redis.socket"[0m
    [37m+[0m
    [37m+  metrics:[0m
    [37m+    multiple: true[0m
    [37m+    git_process:[0m
    [37m+      <<: *git_process[0m
    [37m+    process:[0m
    [37m+      <<: *process[0m
    [37m+    sidekiq:[0m
    [37m+      <<: *sidekiq[0m
    [37m+    ci_builds:[0m
    [37m+      class_name: Database::CiBuildsProber[0m
    [37m+      <<: *db_common[0m
    [37m+    tuple_stats:[0m
    [37m+      class_name: Database::TuplesProber[0m
    [37m+      <<: *db_common[0m
    [37m+    rows_count:[0m
    [37m+      class_name: Database::RowCountProber[0m
    [37m+      <<: *db_common[0m
    [32m- change mode from '' to '0600'[0m
    [32m- change owner from '' to 'git'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-monitor] action create
    [32m- create new directory /opt/gitlab/sv/gitlab-monitor[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-monitor/log] action create
    [32m- create new directory /opt/gitlab/sv/gitlab-monitor/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-monitor/log/main] action create
    [32m- create new directory /opt/gitlab/sv/gitlab-monitor/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/gitlab-monitor/run] action create
    [32m- create new file /opt/gitlab/sv/gitlab-monitor/run[0m
    [32m- update content in file /opt/gitlab/sv/gitlab-monitor/run from none to 0f4ff9[0m
    [37m--- /opt/gitlab/sv/gitlab-monitor/run	2018-12-19 22:14:19.406882339 +0000[0m
    [37m+++ /opt/gitlab/sv/gitlab-monitor/.chef-run20181219-14209-1d6jb7y	2018-12-19 22:14:19.406882339 +0000[0m
    [37m@@ -1 +1,10 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -P \[0m
    [37m+  -U git:git \[0m
    [37m+  -u git:git \[0m
    [37m+  /opt/gitlab/embedded/bin/gitlab-mon web \[0m
    [37m+    -c /var/opt/gitlab/gitlab-monitor/gitlab-monitor.yml[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/gitlab-monitor/log/run] action create
    [32m- create new file /opt/gitlab/sv/gitlab-monitor/log/run[0m
    [32m- update content in file /opt/gitlab/sv/gitlab-monitor/log/run from none to be403a[0m
    [37m--- /opt/gitlab/sv/gitlab-monitor/log/run	2018-12-19 22:14:19.434868339 +0000[0m
    [37m+++ /opt/gitlab/sv/gitlab-monitor/log/.chef-run20181219-14209-khtpzr	2018-12-19 22:14:19.434868339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/gitlab-monitor[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/gitlab-monitor/config] action create
    [32m- create new file /var/log/gitlab/gitlab-monitor/config[0m
    [32m- update content in file /var/log/gitlab/gitlab-monitor/config from none to 623c00[0m
    [37m--- /var/log/gitlab/gitlab-monitor/config	2018-12-19 22:14:19.450860340 +0000[0m
    [37m+++ /var/log/gitlab/gitlab-monitor/.chef-config20181219-14209-wvvdf0	2018-12-19 22:14:19.450860340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload gitlab-monitor svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart gitlab-monitor svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/gitlab-monitor/down] action delete (up to date)
  * link[/opt/gitlab/init/gitlab-monitor] action create
    [32m- create symlink at /opt/gitlab/init/gitlab-monitor to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/gitlab-monitor] action create
    [32m- create symlink at /opt/gitlab/service/gitlab-monitor to /opt/gitlab/sv/gitlab-monitor[0m
[0m  * ruby_block[supervise_gitlab-monitor_sleep] action run
    [32m- execute the ruby block supervise_gitlab-monitor_sleep[0m
[0m  * directory[/opt/gitlab/sv/gitlab-monitor/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/gitlab-monitor/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/gitlab-monitor/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitlab-monitor/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitlab-monitor/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/gitlab-monitor/log/supervise/control] action touch (skipped due to only_if)
  * service[gitlab-monitor] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start gitlab-monitor] action run
    [execute] ok: run: gitlab-monitor: (pid 15680) 2s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start gitlab-monitor[0m
[0mRecipe: gitlab::redis-exporter[0m
  * directory[/var/log/gitlab/redis-exporter] action create
    [32m- create new directory /var/log/gitlab/redis-exporter[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-redis'[0m
[0m  * directory[/opt/gitlab/etc/redis-exporter/env] action create
    [32m- create new directory /opt/gitlab/etc/redis-exporter/env[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-redis'[0m
[0m  * env_dir[/opt/gitlab/etc/redis-exporter/env] action create
    * directory[/opt/gitlab/etc/redis-exporter/env] action create (up to date)
    * file[/opt/gitlab/etc/redis-exporter/env/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/redis-exporter/env/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/redis-exporter/env/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/redis-exporter/env/SSL_CERT_DIR	2018-12-19 22:14:25.164002340 +0000[0m
      [37m+++ /opt/gitlab/etc/redis-exporter/env/.chef-SSL_CERT_DIR20181219-14209-1i58mhd	2018-12-19 22:14:25.164002340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m  
[0m  * directory[/opt/gitlab/sv/redis-exporter] action create
    [32m- create new directory /opt/gitlab/sv/redis-exporter[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/redis-exporter/log] action create
    [32m- create new directory /opt/gitlab/sv/redis-exporter/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/redis-exporter/log/main] action create
    [32m- create new directory /opt/gitlab/sv/redis-exporter/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/redis-exporter/run] action create
    [32m- create new file /opt/gitlab/sv/redis-exporter/run[0m
    [32m- update content in file /opt/gitlab/sv/redis-exporter/run from none to a21d3f[0m
    [37m--- /opt/gitlab/sv/redis-exporter/run	2018-12-19 22:14:25.199984340 +0000[0m
    [37m+++ /opt/gitlab/sv/redis-exporter/.chef-run20181219-14209-r7y4ar	2018-12-19 22:14:25.199984340 +0000[0m
    [37m@@ -1 +1,9 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -P -e /opt/gitlab/etc/redis-exporter/env \[0m
    [37m+  -U gitlab-redis:git \[0m
    [37m+  -u gitlab-redis:git \[0m
    [37m+  /opt/gitlab/embedded/bin/redis_exporter --web.listen-address=localhost:9121 --redis.addr=unix:///var/opt/gitlab/redis/redis.socket[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/redis-exporter/log/run] action create
    [32m- create new file /opt/gitlab/sv/redis-exporter/log/run[0m
    [32m- update content in file /opt/gitlab/sv/redis-exporter/log/run from none to 082dea[0m
    [37m--- /opt/gitlab/sv/redis-exporter/log/run	2018-12-19 22:14:25.215976340 +0000[0m
    [37m+++ /opt/gitlab/sv/redis-exporter/log/.chef-run20181219-14209-16q68v	2018-12-19 22:14:25.215976340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/redis-exporter[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/redis-exporter/config] action create
    [32m- create new file /var/log/gitlab/redis-exporter/config[0m
    [32m- update content in file /var/log/gitlab/redis-exporter/config from none to 623c00[0m
    [37m--- /var/log/gitlab/redis-exporter/config	2018-12-19 22:14:25.231968340 +0000[0m
    [37m+++ /var/log/gitlab/redis-exporter/.chef-config20181219-14209-14bapjm	2018-12-19 22:14:25.231968340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload redis-exporter svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart redis-exporter svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/redis-exporter/down] action delete (up to date)
  * link[/opt/gitlab/init/redis-exporter] action create
    [32m- create symlink at /opt/gitlab/init/redis-exporter to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/redis-exporter] action create
    [32m- create symlink at /opt/gitlab/service/redis-exporter to /opt/gitlab/sv/redis-exporter[0m
[0m  * ruby_block[supervise_redis-exporter_sleep] action run
    [32m- execute the ruby block supervise_redis-exporter_sleep[0m
[0m  * directory[/opt/gitlab/sv/redis-exporter/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/redis-exporter/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/redis-exporter/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/redis-exporter/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/redis-exporter/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/redis-exporter/log/supervise/control] action touch (skipped due to only_if)
  * service[redis-exporter] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start redis-exporter] action run
    [execute] ok: run: redis-exporter: (pid 15706) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start redis-exporter[0m
[0mRecipe: gitlab::prometheus[0m
  * directory[/var/opt/gitlab/prometheus] action create
    [32m- create new directory /var/opt/gitlab/prometheus[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/var/opt/gitlab/prometheus/rules] action create
    [32m- create new directory /var/opt/gitlab/prometheus/rules[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/var/log/gitlab/prometheus] action create
    [32m- create new directory /var/log/gitlab/prometheus[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/opt/gitlab/etc/prometheus/env] action create
    [32m- create new directory /opt/gitlab/etc/prometheus/env[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * env_dir[/opt/gitlab/etc/prometheus/env] action create
    * directory[/opt/gitlab/etc/prometheus/env] action create (up to date)
    * file[/opt/gitlab/etc/prometheus/env/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/prometheus/env/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/prometheus/env/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/prometheus/env/SSL_CERT_DIR	2018-12-19 22:14:30.949108340 +0000[0m
      [37m+++ /opt/gitlab/etc/prometheus/env/.chef-SSL_CERT_DIR20181219-14209-mvugt5	2018-12-19 22:14:30.949108340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m  
[0m  * link[Link prometheus executable to correct binary] action create
    [32m- create symlink at /opt/gitlab/embedded/bin/prometheus to /opt/gitlab/embedded/bin/prometheus2[0m
[0m  * execute[reload prometheus] action nothing (skipped due to action :nothing)
  * file[Prometheus config] action create
    [32m- create new file /var/opt/gitlab/prometheus/prometheus.yml[0m
    [32m- update content in file /var/opt/gitlab/prometheus/prometheus.yml from none to 9302c7[0m
    [37m--- /var/opt/gitlab/prometheus/prometheus.yml	2018-12-19 22:14:30.961102340 +0000[0m
    [37m+++ /var/opt/gitlab/prometheus/.chef-prometheus20181219-14209-1f9z15e.yml	2018-12-19 22:14:30.961102340 +0000[0m
    [37m@@ -1 +1,166 @@[0m
    [37m+---[0m
    [37m+global:[0m
    [37m+  scrape_interval: 15s[0m
    [37m+  scrape_timeout: 15s[0m
    [37m+remote_read: [][0m
    [37m+remote_write: [][0m
    [37m+rule_files:[0m
    [37m+- "/var/opt/gitlab/prometheus/rules/*.rules"[0m
    [37m+scrape_configs:[0m
    [37m+- job_name: prometheus[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9090[0m
    [37m+- job_name: nginx[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:8060[0m
    [37m+- job_name: redis[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9121[0m
    [37m+- job_name: postgres[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9187[0m
    [37m+- job_name: node[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9100[0m
    [37m+- job_name: gitlab-workhorse[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9229[0m
    [37m+- job_name: gitlab-unicorn[0m
    [37m+  metrics_path: "/-/metrics"[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - 127.0.0.1:8080[0m
    [37m+  relabel_configs:[0m
    [37m+  - source_labels:[0m
    [37m+    - __address__[0m
    [37m+    regex: 127.0.0.1:(.*)[0m
    [37m+    replacement: localhost:$1[0m
    [37m+    target_label: instance[0m
    [37m+- job_name: gitlab-sidekiq[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - 127.0.0.1:8082[0m
    [37m+  relabel_configs:[0m
    [37m+  - source_labels:[0m
    [37m+    - __address__[0m
    [37m+    regex: 127.0.0.1:(.*)[0m
    [37m+    replacement: localhost:$1[0m
    [37m+    target_label: instance[0m
    [37m+- job_name: gitlab_monitor_database[0m
    [37m+  metrics_path: "/database"[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9168[0m
    [37m+- job_name: gitlab_monitor_sidekiq[0m
    [37m+  metrics_path: "/sidekiq"[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9168[0m
    [37m+- job_name: gitlab_monitor_process[0m
    [37m+  metrics_path: "/process"[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9168[0m
    [37m+- job_name: gitaly[0m
    [37m+  static_configs:[0m
    [37m+  - targets:[0m
    [37m+    - localhost:9236[0m
    [37m+- job_name: kubernetes-cadvisor[0m
    [37m+  scheme: https[0m
    [37m+  tls_config:[0m
    [37m+    ca_file: "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"[0m
    [37m+    insecure_skip_verify: true[0m
    [37m+  bearer_token_file: "/var/run/secrets/kubernetes.io/serviceaccount/token"[0m
    [37m+  kubernetes_sd_configs:[0m
    [37m+  - role: node[0m
    [37m+    api_server: https://kubernetes.default.svc:443[0m
    [37m+    tls_config:[0m
    [37m+      ca_file: "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"[0m
    [37m+    bearer_token_file: "/var/run/secrets/kubernetes.io/serviceaccount/token"[0m
    [37m+  relabel_configs:[0m
    [37m+  - action: labelmap[0m
    [37m+    regex: __meta_kubernetes_node_label_(.+)[0m
    [37m+  - target_label: __address__[0m
    [37m+    replacement: kubernetes.default.svc:443[0m
    [37m+  - source_labels:[0m
    [37m+    - __meta_kubernetes_node_name[0m
    [37m+    regex: "(.+)"[0m
    [37m+    target_label: __metrics_path__[0m
    [37m+    replacement: "/api/v1/nodes/${1}/proxy/metrics/cadvisor"[0m
    [37m+  metric_relabel_configs:[0m
    [37m+  - source_labels:[0m
    [37m+    - pod_name[0m
    [37m+    target_label: environment[0m
    [37m+    regex: "(.+)-.+-.+"[0m
    [37m+- job_name: kubernetes-nodes[0m
    [37m+  scheme: https[0m
    [37m+  tls_config:[0m
    [37m+    ca_file: "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"[0m
    [37m+    insecure_skip_verify: true[0m
    [37m+  bearer_token_file: "/var/run/secrets/kubernetes.io/serviceaccount/token"[0m
    [37m+  kubernetes_sd_configs:[0m
    [37m+  - role: node[0m
    [37m+    api_server: https://kubernetes.default.svc:443[0m
    [37m+    tls_config:[0m
    [37m+      ca_file: "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"[0m
    [37m+    bearer_token_file: "/var/run/secrets/kubernetes.io/serviceaccount/token"[0m
    [37m+  relabel_configs:[0m
    [37m+  - action: labelmap[0m
    [37m+    regex: __meta_kubernetes_node_label_(.+)[0m
    [37m+  - target_label: __address__[0m
    [37m+    replacement: kubernetes.default.svc:443[0m
    [37m+  - source_labels:[0m
    [37m+    - __meta_kubernetes_node_name[0m
    [37m+    regex: "(.+)"[0m
    [37m+    target_label: __metrics_path__[0m
    [37m+    replacement: "/api/v1/nodes/${1}/proxy/metrics"[0m
    [37m+  metric_relabel_configs:[0m
    [37m+  - source_labels:[0m
    [37m+    - pod_name[0m
    [37m+    target_label: environment[0m
    [37m+    regex: "(.+)-.+-.+"[0m
    [37m+- job_name: kubernetes-pods[0m
    [37m+  tls_config:[0m
    [37m+    ca_file: "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"[0m
    [37m+    insecure_skip_verify: true[0m
    [37m+  bearer_token_file: "/var/run/secrets/kubernetes.io/serviceaccount/token"[0m
    [37m+  kubernetes_sd_configs:[0m
    [37m+  - role: pod[0m
    [37m+    api_server: https://kubernetes.default.svc:443[0m
    [37m+    tls_config:[0m
    [37m+      ca_file: "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"[0m
    [37m+    bearer_token_file: "/var/run/secrets/kubernetes.io/serviceaccount/token"[0m
    [37m+  relabel_configs:[0m
    [37m+  - source_labels:[0m
    [37m+    - __meta_kubernetes_pod_annotation_prometheus_io_scrape[0m
    [37m+    action: keep[0m
    [37m+    regex: 'true'[0m
    [37m+  - source_labels:[0m
    [37m+    - __meta_kubernetes_pod_annotation_prometheus_io_path[0m
    [37m+    action: replace[0m
    [37m+    target_label: __metrics_path__[0m
    [37m+    regex: "(.+)"[0m
    [37m+  - source_labels:[0m
    [37m+    - __address__[0m
    [37m+    - __meta_kubernetes_pod_annotation_prometheus_io_port[0m
    [37m+    action: replace[0m
    [37m+    regex: "([^:]+)(?::[0-9]+)?;([0-9]+)"[0m
    [37m+    replacement: "$1:$2"[0m
    [37m+    target_label: __address__[0m
    [37m+  - action: labelmap[0m
    [37m+    regex: __meta_kubernetes_pod_label_(.+)[0m
    [37m+  - source_labels:[0m
    [37m+    - __meta_kubernetes_namespace[0m
    [37m+    action: replace[0m
    [37m+    target_label: kubernetes_namespace[0m
    [37m+  - source_labels:[0m
    [37m+    - __meta_kubernetes_pod_name[0m
    [37m+    action: replace[0m
    [37m+    target_label: kubernetes_pod_name[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/opt/gitlab/sv/prometheus] action create
    [32m- create new directory /opt/gitlab/sv/prometheus[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/prometheus/log] action create
    [32m- create new directory /opt/gitlab/sv/prometheus/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/prometheus/log/main] action create
    [32m- create new directory /opt/gitlab/sv/prometheus/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/prometheus/run] action create
    [32m- create new file /opt/gitlab/sv/prometheus/run[0m
    [32m- update content in file /opt/gitlab/sv/prometheus/run from none to 60f91b[0m
    [37m--- /opt/gitlab/sv/prometheus/run	2018-12-19 22:14:31.005080340 +0000[0m
    [37m+++ /opt/gitlab/sv/prometheus/.chef-run20181219-14209-r00uj0	2018-12-19 22:14:31.005080340 +0000[0m
    [37m@@ -1 +1,9 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -P -e /opt/gitlab/etc/prometheus/env \[0m
    [37m+  -U gitlab-prometheus:gitlab-prometheus \[0m
    [37m+  -u gitlab-prometheus:gitlab-prometheus \[0m
    [37m+  /opt/gitlab/embedded/bin/prometheus --web.listen-address=localhost:9090 --storage.tsdb.path=/var/opt/gitlab/prometheus/data --config.file=/var/opt/gitlab/prometheus/prometheus.yml[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/prometheus/log/run] action create
    [32m- create new file /opt/gitlab/sv/prometheus/log/run[0m
    [32m- update content in file /opt/gitlab/sv/prometheus/log/run from none to 072b20[0m
    [37m--- /opt/gitlab/sv/prometheus/log/run	2018-12-19 22:14:31.021072340 +0000[0m
    [37m+++ /opt/gitlab/sv/prometheus/log/.chef-run20181219-14209-1fer4oj	2018-12-19 22:14:31.021072340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/prometheus[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/prometheus/config] action create
    [32m- create new file /var/log/gitlab/prometheus/config[0m
    [32m- update content in file /var/log/gitlab/prometheus/config from none to 623c00[0m
    [37m--- /var/log/gitlab/prometheus/config	2018-12-19 22:14:31.033066339 +0000[0m
    [37m+++ /var/log/gitlab/prometheus/.chef-config20181219-14209-1t6bi5i	2018-12-19 22:14:31.033066339 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload prometheus svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart prometheus svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/prometheus/down] action delete (up to date)
  * link[/opt/gitlab/init/prometheus] action create
    [32m- create symlink at /opt/gitlab/init/prometheus to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/prometheus] action create
    [32m- create symlink at /opt/gitlab/service/prometheus to /opt/gitlab/sv/prometheus[0m
[0m  * ruby_block[supervise_prometheus_sleep] action run
    [32m- execute the ruby block supervise_prometheus_sleep[0m
[0m  * directory[/opt/gitlab/sv/prometheus/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/prometheus/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/prometheus/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/prometheus/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/prometheus/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/prometheus/log/supervise/control] action touch (skipped due to only_if)
  * service[prometheus] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start prometheus] action run
    [execute] ok: run: prometheus: (pid 15728) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start prometheus[0m
[0m  * template[/var/opt/gitlab/prometheus/rules/gitlab.rules] action create
    [32m- create new file /var/opt/gitlab/prometheus/rules/gitlab.rules[0m
    [32m- update content in file /var/opt/gitlab/prometheus/rules/gitlab.rules from none to f8efe7[0m
    [37m--- /var/opt/gitlab/prometheus/rules/gitlab.rules	2018-12-19 22:14:36.986088340 +0000[0m
    [37m+++ /var/opt/gitlab/prometheus/rules/.chef-gitlab20181219-14209-bxwwan.rules	2018-12-19 22:14:36.986088340 +0000[0m
    [37m@@ -1 +1,28 @@[0m
    [37m+groups:[0m
    [37m+- name: GitLab[0m
    [37m+  rules:[0m
    [37m+  - alert: ServiceDown[0m
    [37m+    expr: avg_over_time(up[5m]) * 100 < 50[0m
    [37m+    annotations:[0m
    [37m+      description: The service {{ $labels.job }} instance {{ $labels.instance }} is[0m
    [37m+        not responding for more than 50% of the time for 5 minutes.[0m
    [37m+      summary: The service {{ $labels.job }} is not responding[0m
    [37m+  - alert: RedisDown[0m
    [37m+    expr: avg_over_time(redis_up[5m]) * 100 < 50[0m
    [37m+    annotations:[0m
    [37m+      description: The Redis service {{ $labels.job }} instance {{ $labels.instance[0m
    [37m+        }} is not responding for more than 50% of the time for 5 minutes.[0m
    [37m+      summary: The Redis service {{ $labels.job }} is not responding[0m
    [37m+  - alert: PostgresDown[0m
    [37m+    expr: avg_over_time(pg_up[5m]) * 100 < 50[0m
    [37m+    annotations:[0m
    [37m+      description: The Postgres service {{ $labels.job }} instance {{ $labels.instance[0m
    [37m+        }} is not responding for more than 50% of the time for 5 minutes.[0m
    [37m+      summary: The Postgres service {{ $labels.job }} is not responding[0m
    [37m+  - alert: UnicornQueueing[0m
    [37m+    expr: avg_over_time(unicorn_queued_connections[30m]) > 1[0m
    [37m+    annotations:[0m
    [37m+      description: Unicorn instance {{ $labels.instance }} is queueing requests with[0m
    [37m+        an average of {{ $value | printf "%.1f" }} over the last 30 minutes.[0m
    [37m+      summary: Unicorn is queueing requests[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * template[/var/opt/gitlab/prometheus/rules/node.rules] action create
    [32m- create new file /var/opt/gitlab/prometheus/rules/node.rules[0m
    [32m- update content in file /var/opt/gitlab/prometheus/rules/node.rules from none to 9e885c[0m
    [37m--- /var/opt/gitlab/prometheus/rules/node.rules	2018-12-19 22:14:37.002080340 +0000[0m
    [37m+++ /var/opt/gitlab/prometheus/rules/.chef-node20181219-14209-hrn1vo.rules	2018-12-19 22:14:37.002080340 +0000[0m
    [37m@@ -1 +1,37 @@[0m
    [37m+groups:[0m
    [37m+- name: Node[0m
    [37m+  rules:[0m
    [37m+  - record: instance:node_cpus:count[0m
    [37m+    expr: count without(cpu, mode) (node_cpu{mode="idle"})[0m
    [37m+  - record: instance:node_cpus:count[0m
    [37m+    expr: count without(cpu, mode) (node_cpu_seconds_total{mode="idle"})[0m
    [37m+  - record: instance_cpu:node_cpu_seconds_not_idle:rate5m[0m
    [37m+    expr: sum without(mode) (rate(node_cpu{mode!="idle"}[5m]))[0m
    [37m+  - record: instance_cpu:node_cpu_seconds_not_idle:rate5m[0m
    [37m+    expr: sum without(mode) (rate(node_cpu_seconds_total{mode!="idle"}[5m]))[0m
    [37m+  - record: instance_mode:node_cpu_seconds:rate5m[0m
    [37m+    expr: sum without(cpu) (rate(node_cpu[5m]))[0m
    [37m+  - record: instance_mode:node_cpu_seconds:rate5m[0m
    [37m+    expr: sum without(cpu) (rate(node_cpu_seconds_total[5m]))[0m
    [37m+  - record: instance:node_cpu_utilization:ratio[0m
    [37m+    expr: sum without(mode) (instance_mode:node_cpu_seconds:rate5m{mode!="idle"})[0m
    [37m+      / instance:node_cpus:count[0m
    [37m+  - record: instance:node_filesystem_avail:ratio[0m
    [37m+    expr: node_filesystem_avail_bytes / (node_filesystem_size_bytes > 0)[0m
    [37m+  - alert: FilesystemAlmostFull[0m
    [37m+    expr: instance:node_filesystem_avail:ratio * 100 < 5[0m
    [37m+    for: 10m[0m
    [37m+    annotations:[0m
    [37m+      description: The filesystem {{ $labels.device }}:{{ $labels.mountpoint }} on[0m
    [37m+        {{ $labels.instance }} has {{ $value | printf "%.2f" }}% space available.[0m
    [37m+      summary: The filesystem {{ $labels.device }}:{{ $labels.mountpoint }} is almost[0m
    [37m+        full[0m
    [37m+  - alert: FilesystemFullIn1Day[0m
    [37m+    expr: predict_linear(node_filesystem_avail_bytes[6h], 24 * 3600) < 0[0m
    [37m+    for: 30m[0m
    [37m+    annotations:[0m
    [37m+      description: The filesystem {{ $labels.device }}:{{ $labels.mountpoint }} on[0m
    [37m+        {{ $labels.instance }} will be full in the next 24 hours.[0m
    [37m+      summary: The filesystem {{ $labels.device }}:{{ $labels.mountpoint }} will be[0m
    [37m+        full within 24 hours[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0mRecipe: gitlab::alertmanager[0m
  * directory[/var/opt/gitlab/alertmanager] action create
    [32m- create new directory /var/opt/gitlab/alertmanager[0m
    [32m- change mode from '' to '0750'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/var/log/gitlab/alertmanager] action create
    [32m- create new directory /var/log/gitlab/alertmanager[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/opt/gitlab/etc/alertmanager/env] action create
    [32m- create new directory /opt/gitlab/etc/alertmanager/env[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * env_dir[/opt/gitlab/etc/alertmanager/env] action create
    * directory[/opt/gitlab/etc/alertmanager/env] action create (up to date)
    * file[/opt/gitlab/etc/alertmanager/env/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/alertmanager/env/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/alertmanager/env/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/alertmanager/env/SSL_CERT_DIR	2018-12-19 22:14:37.038062340 +0000[0m
      [37m+++ /opt/gitlab/etc/alertmanager/env/.chef-SSL_CERT_DIR20181219-14209-11ainti	2018-12-19 22:14:37.038062340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m  
[0m  * file[Alertmanager config] action create
    [32m- create new file /var/opt/gitlab/alertmanager/alertmanager.yml[0m
    [32m- update content in file /var/opt/gitlab/alertmanager/alertmanager.yml from none to 21b7be[0m
    [37m--- /var/opt/gitlab/alertmanager/alertmanager.yml	2018-12-19 22:14:37.042060339 +0000[0m
    [37m+++ /var/opt/gitlab/alertmanager/.chef-alertmanager20181219-14209-qtuzob.yml	2018-12-19 22:14:37.042060339 +0000[0m
    [37m@@ -1 +1,10 @@[0m
    [37m+---[0m
    [37m+global: {}[0m
    [37m+templates: [][0m
    [37m+route:[0m
    [37m+  receiver: default-receiver[0m
    [37m+  routes: [][0m
    [37m+receivers:[0m
    [37m+- name: default-receiver[0m
    [37m+inhibit_rules: [][0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-prometheus'[0m
[0m  * directory[/opt/gitlab/sv/alertmanager] action create
    [32m- create new directory /opt/gitlab/sv/alertmanager[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/alertmanager/log] action create
    [32m- create new directory /opt/gitlab/sv/alertmanager/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/alertmanager/log/main] action create
    [32m- create new directory /opt/gitlab/sv/alertmanager/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/alertmanager/run] action create
    [32m- create new file /opt/gitlab/sv/alertmanager/run[0m
    [32m- update content in file /opt/gitlab/sv/alertmanager/run from none to 36da8b[0m
    [37m--- /opt/gitlab/sv/alertmanager/run	2018-12-19 22:14:37.070046340 +0000[0m
    [37m+++ /opt/gitlab/sv/alertmanager/.chef-run20181219-14209-16jjz0d	2018-12-19 22:14:37.070046340 +0000[0m
    [37m@@ -1 +1,9 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -P -e /opt/gitlab/etc/alertmanager/env \[0m
    [37m+  -U gitlab-prometheus:gitlab-prometheus \[0m
    [37m+  -u gitlab-prometheus:gitlab-prometheus \[0m
    [37m+  /opt/gitlab/embedded/bin/alertmanager --web.listen-address=localhost:9093 --storage.path=/var/opt/gitlab/alertmanager/data --config.file=/var/opt/gitlab/alertmanager/alertmanager.yml[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/alertmanager/log/run] action create
    [32m- create new file /opt/gitlab/sv/alertmanager/log/run[0m
    [32m- update content in file /opt/gitlab/sv/alertmanager/log/run from none to 2feab9[0m
    [37m--- /opt/gitlab/sv/alertmanager/log/run	2018-12-19 22:14:37.082040339 +0000[0m
    [37m+++ /opt/gitlab/sv/alertmanager/log/.chef-run20181219-14209-1fhm82i	2018-12-19 22:14:37.082040339 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/alertmanager[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/alertmanager/config] action create
    [32m- create new file /var/log/gitlab/alertmanager/config[0m
    [32m- update content in file /var/log/gitlab/alertmanager/config from none to 623c00[0m
    [37m--- /var/log/gitlab/alertmanager/config	2018-12-19 22:14:37.094034340 +0000[0m
    [37m+++ /var/log/gitlab/alertmanager/.chef-config20181219-14209-1j3fxsf	2018-12-19 22:14:37.094034340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload alertmanager svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart alertmanager svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/alertmanager/down] action delete (up to date)
  * link[/opt/gitlab/init/alertmanager] action create
    [32m- create symlink at /opt/gitlab/init/alertmanager to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/alertmanager] action create
    [32m- create symlink at /opt/gitlab/service/alertmanager to /opt/gitlab/sv/alertmanager[0m
[0m  * ruby_block[supervise_alertmanager_sleep] action run
    [32m- execute the ruby block supervise_alertmanager_sleep[0m
[0m  * directory[/opt/gitlab/sv/alertmanager/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/alertmanager/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/alertmanager/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/alertmanager/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/alertmanager/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/alertmanager/log/supervise/control] action touch (skipped due to only_if)
  * service[alertmanager] action nothing (skipped due to action :nothing)
  * execute[/opt/gitlab/bin/gitlab-ctl start alertmanager] action run
    [execute] ok: run: alertmanager: (pid 15761) 1s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start alertmanager[0m
[0mRecipe: gitlab::postgres-exporter[0m
  * directory[/var/log/gitlab/postgres-exporter] action create
    [32m- create new directory /var/log/gitlab/postgres-exporter[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * directory[/var/opt/gitlab/postgres-exporter] action create
    [32m- create new directory /var/opt/gitlab/postgres-exporter[0m
    [32m- change mode from '' to '0700'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * env_dir[/opt/gitlab/etc/postgres-exporter/env] action create
    * directory[/opt/gitlab/etc/postgres-exporter/env] action create
      [32m- create new directory /opt/gitlab/etc/postgres-exporter/env[0m
[0m    * file[/opt/gitlab/etc/postgres-exporter/env/SSL_CERT_DIR] action create
      [32m- create new file /opt/gitlab/etc/postgres-exporter/env/SSL_CERT_DIR[0m
      [32m- update content in file /opt/gitlab/etc/postgres-exporter/env/SSL_CERT_DIR from none to 4f45cf[0m
      [37m--- /opt/gitlab/etc/postgres-exporter/env/SSL_CERT_DIR	2018-12-19 22:14:42.771194340 +0000[0m
      [37m+++ /opt/gitlab/etc/postgres-exporter/env/.chef-SSL_CERT_DIR20181219-14209-ujut5o	2018-12-19 22:14:42.771194340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+/opt/gitlab/embedded/ssl/certs/[0m
[0m    * file[/opt/gitlab/etc/postgres-exporter/env/DATA_SOURCE_NAME] action create
      [32m- create new file /opt/gitlab/etc/postgres-exporter/env/DATA_SOURCE_NAME[0m
      [32m- update content in file /opt/gitlab/etc/postgres-exporter/env/DATA_SOURCE_NAME from none to cd58e5[0m
      [37m--- /opt/gitlab/etc/postgres-exporter/env/DATA_SOURCE_NAME	2018-12-19 22:14:42.775192340 +0000[0m
      [37m+++ /opt/gitlab/etc/postgres-exporter/env/.chef-DATA_SOURCE_NAME20181219-14209-1va7fc4	2018-12-19 22:14:42.775192340 +0000[0m
      [37m@@ -1 +1,2 @@[0m
      [37m+user=gitlab-psql host=/var/opt/gitlab/postgresql database=postgres sslmode=allow[0m
[0m  
[0m  * directory[/opt/gitlab/sv/postgres-exporter] action create
    [32m- create new directory /opt/gitlab/sv/postgres-exporter[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/postgres-exporter/log] action create
    [32m- create new directory /opt/gitlab/sv/postgres-exporter/log[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * directory[/opt/gitlab/sv/postgres-exporter/log/main] action create
    [32m- create new directory /opt/gitlab/sv/postgres-exporter/log/main[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/postgres-exporter/run] action create
    [32m- create new file /opt/gitlab/sv/postgres-exporter/run[0m
    [32m- update content in file /opt/gitlab/sv/postgres-exporter/run from none to b40d34[0m
    [37m--- /opt/gitlab/sv/postgres-exporter/run	2018-12-19 22:14:42.803178340 +0000[0m
    [37m+++ /opt/gitlab/sv/postgres-exporter/.chef-run20181219-14209-12qput7	2018-12-19 22:14:42.799180340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec 2>&1[0m
    [37m+[0m
    [37m+umask 077[0m
    [37m+exec chpst -e /opt/gitlab/etc/postgres-exporter/env -P -U gitlab-psql:git -u gitlab-psql:git /opt/gitlab/embedded/bin/postgres_exporter --web.listen-address=localhost:9187 --extend.query-path=/var/opt/gitlab/postgres-exporter/queries.yaml[0m
    [37m+[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/opt/gitlab/sv/postgres-exporter/log/run] action create
    [32m- create new file /opt/gitlab/sv/postgres-exporter/log/run[0m
    [32m- update content in file /opt/gitlab/sv/postgres-exporter/log/run from none to b971c9[0m
    [37m--- /opt/gitlab/sv/postgres-exporter/log/run	2018-12-19 22:14:42.807176340 +0000[0m
    [37m+++ /opt/gitlab/sv/postgres-exporter/log/.chef-run20181219-14209-1jpm3v3	2018-12-19 22:14:42.807176340 +0000[0m
    [37m@@ -1 +1,3 @@[0m
    [37m+#!/bin/sh[0m
    [37m+exec svlogd -tt /var/log/gitlab/postgres-exporter[0m
    [32m- change mode from '' to '0755'[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * template[/var/log/gitlab/postgres-exporter/config] action create
    [32m- create new file /var/log/gitlab/postgres-exporter/config[0m
    [32m- update content in file /var/log/gitlab/postgres-exporter/config from none to 623c00[0m
    [37m--- /var/log/gitlab/postgres-exporter/config	2018-12-19 22:14:42.827166340 +0000[0m
    [37m+++ /var/log/gitlab/postgres-exporter/.chef-config20181219-14209-7rv40v	2018-12-19 22:14:42.827166340 +0000[0m
    [37m@@ -1 +1,7 @@[0m
    [37m+s209715200[0m
    [37m+n30[0m
    [37m+t86400[0m
    [37m+!gzip[0m
    [37m+[0m
    [37m+[0m
    [32m- change owner from '' to 'root'[0m
    [32m- change group from '' to 'root'[0m
[0m  * ruby_block[reload postgres-exporter svlogd configuration] action nothing (skipped due to action :nothing)
  * ruby_block[restart postgres-exporter svlogd configuration] action nothing (skipped due to action :nothing)
  * file[/opt/gitlab/sv/postgres-exporter/down] action delete (up to date)
  * link[/opt/gitlab/init/postgres-exporter] action create
    [32m- create symlink at /opt/gitlab/init/postgres-exporter to /opt/gitlab/embedded/bin/sv[0m
[0m  * link[/opt/gitlab/service/postgres-exporter] action create
    [32m- create symlink at /opt/gitlab/service/postgres-exporter to /opt/gitlab/sv/postgres-exporter[0m
[0m  * ruby_block[supervise_postgres-exporter_sleep] action run
    [32m- execute the ruby block supervise_postgres-exporter_sleep[0m
[0m  * directory[/opt/gitlab/sv/postgres-exporter/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * directory[/opt/gitlab/sv/postgres-exporter/log/supervise] action create
    [32m- change mode from '0700' to '0755'[0m
[0m  * file[/opt/gitlab/sv/postgres-exporter/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/postgres-exporter/log/supervise/ok] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/postgres-exporter/supervise/control] action touch (skipped due to only_if)
  * file[/opt/gitlab/sv/postgres-exporter/log/supervise/control] action touch (skipped due to only_if)
  * service[postgres-exporter] action nothing (skipped due to action :nothing)
  * template[/var/opt/gitlab/postgres-exporter/queries.yaml] action create
    [32m- create new file /var/opt/gitlab/postgres-exporter/queries.yaml[0m
    [32m- update content in file /var/opt/gitlab/postgres-exporter/queries.yaml from none to 40142b[0m
    [37m--- /var/opt/gitlab/postgres-exporter/queries.yaml	2018-12-19 22:14:44.890134340 +0000[0m
    [37m+++ /var/opt/gitlab/postgres-exporter/.chef-queries20181219-14209-nml5jf.yaml	2018-12-19 22:14:44.886136340 +0000[0m
    [37m@@ -1 +1,175 @@[0m
    [37m+pg_replication:[0m
    [37m+  query: "SELECT EXTRACT(EPOCH FROM (now() - pg_last_xact_replay_timestamp()))::INT as lag, CASE WHEN pg_is_in_recovery() THEN 1 ELSE 0 END as is_replica"[0m
    [37m+  metrics:[0m
    [37m+    - lag:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Replication lag behind master in seconds"[0m
    [37m+    - is_replica:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Indicates if this host is a slave"[0m
    [37m+[0m
    [37m+pg_postmaster:[0m
    [37m+  query: "SELECT pg_postmaster_start_time as start_time_seconds from pg_postmaster_start_time()"[0m
    [37m+  metrics:[0m
    [37m+    - start_time_seconds:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Time at which postmaster started"[0m
    [37m+[0m
    [37m+pg_stat_user_tables:[0m
    [37m+  query: "SELECT schemaname, relname, seq_scan, seq_tup_read, idx_scan, idx_tup_fetch, n_tup_ins, n_tup_upd, n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, n_mod_since_analyze, last_vacuum, last_autovacuum, last_analyze, last_autoanalyze, vacuum_count, autovacuum_count, analyze_count, autoanalyze_count FROM pg_stat_user_tables"[0m
    [37m+  metrics:[0m
    [37m+    - schemaname:[0m
    [37m+        usage: "LABEL"[0m
    [37m+        description: "Name of the schema that this table is in"[0m
    [37m+    - relname:[0m
    [37m+        usage: "LABEL"[0m
    [37m+        description: "Name of this table"[0m
    [37m+    - seq_scan:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of sequential scans initiated on this table"[0m
    [37m+    - seq_tup_read:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of live rows fetched by sequential scans"[0m
    [37m+    - idx_scan:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of index scans initiated on this table"[0m
    [37m+    - idx_tup_fetch:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of live rows fetched by index scans"[0m
    [37m+    - n_tup_ins:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of rows inserted"[0m
    [37m+    - n_tup_upd:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of rows updated"[0m
    [37m+    - n_tup_del:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of rows deleted"[0m
    [37m+    - n_tup_hot_upd:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of rows HOT updated (i.e., with no separate index update required)"[0m
    [37m+    - n_live_tup:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Estimated number of live rows"[0m
    [37m+    - n_dead_tup:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Estimated number of dead rows"[0m
    [37m+    - n_mod_since_analyze:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Estimated number of rows changed since last analyze"[0m
    [37m+    - last_vacuum:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Last time at which this table was manually vacuumed (not counting VACUUM FULL)"[0m
    [37m+    - last_autovacuum:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Last time at which this table was vacuumed by the autovacuum daemon"[0m
    [37m+    - last_analyze:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Last time at which this table was manually analyzed"[0m
    [37m+    - last_autoanalyze:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Last time at which this table was analyzed by the autovacuum daemon"[0m
    [37m+    - vacuum_count:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of times this table has been manually vacuumed (not counting VACUUM FULL)"[0m
    [37m+    - autovacuum_count:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of times this table has been vacuumed by the autovacuum daemon"[0m
    [37m+    - analyze_count:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of times this table has been manually analyzed"[0m
    [37m+    - autoanalyze_count:[0m
    [37m+        usage: "COUNTER"[0m
    [37m+        description: "Number of times this table has been analyzed by the autovacuum daemon"[0m
    [37m+[0m
    [37m+pg_total_relation_size:[0m
    [37m+  query: |[0m
    [37m+    SELECT relnamespace::regnamespace as schemaname,[0m
    [37m+           relname as relname,[0m
    [37m+           pg_total_relation_size(oid) bytes[0m
    [37m+      FROM pg_class[0m
    [37m+     WHERE relkind = 'r';[0m
    [37m+  metrics:[0m
    [37m+    - schemaname:[0m
    [37m+        usage: "LABEL"[0m
    [37m+        description: "Name of the schema that this table is in"[0m
    [37m+    - relname:[0m
    [37m+        usage: "LABEL"[0m
    [37m+        description: "Name of this table"[0m
    [37m+    - bytes:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "total disk space usage for the specified table and associated indexes"[0m
    [37m+[0m
    [37m+pg_blocked:[0m
    [37m+  query: |[0m
    [37m+    SELECT[0m
    [37m+      count(blocked.transactionid) AS queries,[0m
    [37m+      '__transaction__' AS table[0m
    [37m+    FROM pg_catalog.pg_locks blocked[0m
    [37m+    WHERE NOT blocked.granted AND locktype = 'transactionid'[0m
    [37m+    GROUP BY locktype[0m
    [37m+    UNION[0m
    [37m+    SELECT[0m
    [37m+      count(blocked.relation) AS queries,[0m
    [37m+      blocked.relation::regclass::text AS table[0m
    [37m+    FROM pg_catalog.pg_locks blocked[0m
    [37m+    WHERE NOT blocked.granted AND locktype != 'transactionid'[0m
    [37m+    GROUP BY relation[0m
    [37m+  metrics:[0m
    [37m+    - queries:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "The current number of blocked queries"[0m
    [37m+    - table:[0m
    [37m+        usage: "LABEL"[0m
    [37m+        description: "The table on which a query is blocked"[0m
    [37m+[0m
    [37m+pg_slow:[0m
    [37m+  query: |[0m
    [37m+    SELECT COUNT(*) AS queries[0m
    [37m+    FROM pg_stat_activity[0m
    [37m+    WHERE state = 'active' AND (now() - query_start) > '1 seconds'::interval[0m
    [37m+  metrics:[0m
    [37m+    - queries:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Current number of slow queries"[0m
    [37m+[0m
    [37m+pg_vacuum:[0m
    [37m+  query: |[0m
    [37m+    SELECT[0m
    [37m+      COUNT(*) AS queries,[0m
    [37m+      MAX(EXTRACT(EPOCH FROM (clock_timestamp() - query_start))) AS age_in_seconds[0m
    [37m+    FROM pg_catalog.pg_stat_activity[0m
    [37m+    WHERE state = 'active' AND trim(query) ~* '\AVACUUM (?!ANALYZE)'[0m
    [37m+  metrics:[0m
    [37m+    - queries:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "The current number of VACUUM queries"[0m
    [37m+    - age_in_seconds:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "The current maximum VACUUM query age in seconds"[0m
    [37m+[0m
    [37m+pg_vacuum_analyze:[0m
    [37m+  query: |[0m
    [37m+    SELECT[0m
    [37m+      COUNT(*) AS queries,[0m
    [37m+      MAX(EXTRACT(EPOCH FROM (clock_timestamp() - query_start))) AS age_in_seconds[0m
    [37m+    FROM pg_catalog.pg_stat_activity[0m
    [37m+    WHERE state = 'active' AND trim(query) ~* '\AVACUUM ANALYZE'[0m
    [37m+  metrics:[0m
    [37m+    - queries:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "The current number of VACUUM ANALYZE queries"[0m
    [37m+    - age_in_seconds:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "The current maximum VACUUM ANALYZE query age in seconds"[0m
    [37m+[0m
    [37m+pg_stuck_idle_in_transaction:[0m
    [37m+  query: |[0m
    [37m+    SELECT COUNT(*) AS queries[0m
    [37m+    FROM pg_stat_activity[0m
    [37m+    WHERE state = 'idle in transaction' AND (now() - query_start) > '10 minutes'::interval[0m
    [37m+  metrics:[0m
    [37m+    - queries:[0m
    [37m+        usage: "GAUGE"[0m
    [37m+        description: "Current number of queries that are stuck being idle in transactions"[0m
    [32m- change mode from '' to '0644'[0m
    [32m- change owner from '' to 'gitlab-psql'[0m
[0m  * execute[/opt/gitlab/bin/gitlab-ctl start postgres-exporter] action run
    [execute] ok: run: postgres-exporter: (pid 15787) 2s
    [32m- execute /opt/gitlab/bin/gitlab-ctl start postgres-exporter[0m
[0mRecipe: gitlab::deprecate-skip-auto-migrations[0m
  * file[/etc/gitlab/skip-auto-reconfigure] action create (skipped due to only_if)
  * ruby_block[skip-auto-migrations deprecation] action run (skipped due to only_if)
Recipe: gitlab::gitlab-rails[0m
  * execute[clear the gitlab-rails cache] action run
    [32m- execute /opt/gitlab/bin/gitlab-rake cache:clear[0m
[0mRecipe: redis::enable[0m
  * ruby_block[restart redis svlogd configuration] action create
    [32m- execute the ruby block restart redis svlogd configuration[0m
[0m  * ruby_block[reload redis svlogd configuration] action create
    [32m- execute the ruby block reload redis svlogd configuration[0m
[0mRecipe: postgresql::enable[0m
  * ruby_block[restart postgresql svlogd configuration] action create
    [32m- execute the ruby block restart postgresql svlogd configuration[0m
[0m  * ruby_block[reload postgresql svlogd configuration] action create
    [32m- execute the ruby block reload postgresql svlogd configuration[0m
[0mRecipe: gitlab::unicorn[0m
  * ruby_block[restart unicorn svlogd configuration] action create
    [32m- execute the ruby block restart unicorn svlogd configuration[0m
[0m  * ruby_block[reload unicorn svlogd configuration] action create
    [32m- execute the ruby block reload unicorn svlogd configuration[0m
[0mRecipe: gitlab::sidekiq[0m
  * ruby_block[restart sidekiq svlogd configuration] action create
    [32m- execute the ruby block restart sidekiq svlogd configuration[0m
[0m  * ruby_block[reload sidekiq svlogd configuration] action create
    [32m- execute the ruby block reload sidekiq svlogd configuration[0m
[0mRecipe: gitlab::gitlab-workhorse[0m
  * service[gitlab-workhorse] action restart
    [32m- restart service service[gitlab-workhorse][0m
[0m  * ruby_block[restart gitlab-workhorse svlogd configuration] action create
    [32m- execute the ruby block restart gitlab-workhorse svlogd configuration[0m
[0m  * ruby_block[reload gitlab-workhorse svlogd configuration] action create
    [32m- execute the ruby block reload gitlab-workhorse svlogd configuration[0m
[0mRecipe: nginx::enable[0m
  * ruby_block[restart nginx svlogd configuration] action create
    [32m- execute the ruby block restart nginx svlogd configuration[0m
[0m  * ruby_block[reload nginx svlogd configuration] action create
    [32m- execute the ruby block reload nginx svlogd configuration[0m
[0mRecipe: gitlab::logrotate[0m
  * ruby_block[restart logrotate svlogd configuration] action create
    [32m- execute the ruby block restart logrotate svlogd configuration[0m
[0m  * ruby_block[reload logrotate svlogd configuration] action create
    [32m- execute the ruby block reload logrotate svlogd configuration[0m
[0mRecipe: gitaly::enable[0m
  * service[gitaly] action restart
    [32m- restart service service[gitaly][0m
[0m  * ruby_block[restart gitaly svlogd configuration] action create
    [32m- execute the ruby block restart gitaly svlogd configuration[0m
[0m  * ruby_block[reload gitaly svlogd configuration] action create
    [32m- execute the ruby block reload gitaly svlogd configuration[0m
[0mRecipe: gitlab::node-exporter[0m
  * service[node-exporter] action restart
    [32m- restart service service[node-exporter][0m
[0m  * ruby_block[restart node-exporter svlogd configuration] action create
    [32m- execute the ruby block restart node-exporter svlogd configuration[0m
[0m  * ruby_block[reload node-exporter svlogd configuration] action create
    [32m- execute the ruby block reload node-exporter svlogd configuration[0m
[0mRecipe: gitlab::gitlab-monitor[0m
  * service[gitlab-monitor] action restart
    [32m- restart service service[gitlab-monitor][0m
[0m  * ruby_block[restart gitlab-monitor svlogd configuration] action create
    [32m- execute the ruby block restart gitlab-monitor svlogd configuration[0m
[0m  * ruby_block[reload gitlab-monitor svlogd configuration] action create
    [32m- execute the ruby block reload gitlab-monitor svlogd configuration[0m
[0mRecipe: gitlab::redis-exporter[0m
  * service[redis-exporter] action restart
    [32m- restart service service[redis-exporter][0m
[0m  * ruby_block[restart redis-exporter svlogd configuration] action create
    [32m- execute the ruby block restart redis-exporter svlogd configuration[0m
[0m  * ruby_block[reload redis-exporter svlogd configuration] action create
    [32m- execute the ruby block reload redis-exporter svlogd configuration[0m
[0mRecipe: gitlab::prometheus[0m
  * service[prometheus] action restart
    [32m- restart service service[prometheus][0m
[0m  * execute[reload prometheus] action run
    [32m- execute /opt/gitlab/bin/gitlab-ctl hup prometheus[0m
[0m  * ruby_block[restart prometheus svlogd configuration] action create
    [32m- execute the ruby block restart prometheus svlogd configuration[0m
[0m  * ruby_block[reload prometheus svlogd configuration] action create
    [32m- execute the ruby block reload prometheus svlogd configuration[0m
[0mRecipe: gitlab::alertmanager[0m
  * service[alertmanager] action restart
    [32m- restart service service[alertmanager][0m
[0m  * ruby_block[restart alertmanager svlogd configuration] action create
    [32m- execute the ruby block restart alertmanager svlogd configuration[0m
[0m  * ruby_block[reload alertmanager svlogd configuration] action create
    [32m- execute the ruby block reload alertmanager svlogd configuration[0m
[0mRecipe: gitlab::postgres-exporter[0m
  * service[postgres-exporter] action restart
    [32m- restart service service[postgres-exporter][0m
[0m  * ruby_block[restart postgres-exporter svlogd configuration] action create
    [32m- execute the ruby block restart postgres-exporter svlogd configuration[0m
[0m  * ruby_block[reload postgres-exporter svlogd configuration] action create
    [32m- execute the ruby block reload postgres-exporter svlogd configuration[0m
[0m[0m
Running handlers:[0m
Running handlers complete
[0mChef Client finished, 455/646 resources updated in 02 minutes 15 seconds[0m
gitlab Reconfigured!
]0;root@devops: ~root@devops:~# gitlab-ctl status
run: alertmanager: (pid 15986) 50s; run: log: (pid 16089) 49s
run: gitaly: (pid 15876) 54s; run: log: (pid 15925) 52s
run: gitlab-monitor: (pid 15919) 53s; run: log: (pid 15924) 52s
run: gitlab-workhorse: (pid 15859) 54s; run: log: (pid 15867) 54s
run: logrotate: (pid 15452) 109s; run: log: (pid 15869) 54s
run: nginx: (pid 15432) 115s; run: log: (pid 15868) 54s
run: node-exporter: (pid 15893) 54s; run: log: (pid 15915) 54s
run: postgres-exporter: (pid 16080) 51s; run: log: (pid 16092) 50s
run: postgresql: (pid 15136) 162s; run: log: (pid 15885) 54s
run: prometheus: (pid 15949) 53s; run: log: (pid 15979) 52s
run: redis: (pid 15058) 168s; run: log: (pid 15849) 55s
run: redis-exporter: (pid 15929) 53s; run: log: (pid 15974) 52s
run: sidekiq: (pid 15400) 124s; run: log: (pid 15852) 55s
run: unicorn: (pid 15358) 126s; run: log: (pid 15851) 55s
]0;root@devops: ~root@devops:~# gitlab-ctl status[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kss -lntip[K[Kp
State      Recv-Q Send-Q                                        Local Address:Port                                                       Peer Address:Port              
LISTEN     0      1024                                              127.0.0.1:9100                                                                  *:*                   users:(("node_exporter",pid=15893,fd=3))
LISTEN     0      1024                                              127.0.0.1:9229                                                                  *:*                   users:(("gitlab-workhors",pid=15859,fd=5))
LISTEN     0      1024                                              127.0.0.1:9168                                                                  *:*                   users:(("gitlab-mon",pid=15919,fd=7))
LISTEN     0      1024                                              127.0.0.1:8080                                                                  *:*                   users:(("bundle",pid=15631,fd=22),("bundle",pid=15628,fd=22),("bundle",pid=15625,fd=22),("bundle",pid=15385,fd=22))
LISTEN     0      511                                                       *:80                                                                    *:*                   users:(("nginx",pid=15434,fd=7),("nginx",pid=15433,fd=7),("nginx",pid=15432,fd=7))
LISTEN     0      128                                               127.0.0.1:8082                                                                  *:*                   users:(("bundle",pid=15400,fd=12))
LISTEN     0      1024                                              127.0.0.1:9236                                                                  *:*                   users:(("gitaly",pid=15876,fd=5))
LISTEN     0      128                                                       *:22                                                                    *:*                   users:(("sshd",pid=1294,fd=3))
LISTEN     0      511                                                       *:8060                                                                  *:*                   users:(("nginx",pid=15434,fd=8),("nginx",pid=15433,fd=8),("nginx",pid=15432,fd=8))
LISTEN     0      1024                                              127.0.0.1:9121                                                                  *:*                   users:(("redis_exporter",pid=15929,fd=3))
LISTEN     0      1024                                              127.0.0.1:9090                                                                  *:*                   users:(("prometheus",pid=15949,fd=6))
LISTEN     0      1024                                              127.0.0.1:9187                                                                  *:*                   users:(("postgres_export",pid=16080,fd=5))
LISTEN     0      1024                                              127.0.0.1:9093                                                                  *:*                   users:(("alertmanager",pid=15986,fd=7))
LISTEN     0      1024                                                     :::9094                                                                 :::*                   users:(("alertmanager",pid=15986,fd=3))
LISTEN     0      1024                                                    ::1:9168                                                                 :::*                   users:(("gitlab-mon",pid=15919,fd=8))
LISTEN     0      128                                                      :::22                                                                   :::*                   users:(("sshd",pid=1294,fd=4))
]0;root@devops: ~root@devops:~# cat /au[K[K[K~/.ansible[K[K[K[K[K[K[K[K[K[K.ssh/authorized_keys 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDC0pws5DnTXoqVYezb+imkPKPu/ycTn9tsMwp0Ms0xhO10TYsw6nazMspcmbVJAfYiFI3iSwkhRTocTpilw6pUQMIMu7olZaY4UAmcXSr/jFZfuEOZfFtvjb76qf1E5iEZKC3s9Bci8PVN2NbusqfXNPeLzUs+SZ4sr/MqKQA59XUfZvxe41grT7XloP9wVOspsjYEyQFENt8pwC9RyKB4fmkwlPS9SETZdrcBYqyP9ssiqCDl0zUS9asDojkaRwQ4c0XYKu0A9/TvJQDCQGkuC8B9R9K7dQlorio4UlMbCMzy6WEEEBsCZQLO3Buxv8mLVBk9VvhcyXk6+5JruLqJ
]0;root@devops: ~root@devops:~# c[Kmkdir lukw[Ke
]0;root@devops: ~root@devops:~# cd luke/
]0;root@devops: ~/lukeroot@devops:~/luke# git init
Initialized empty Git repository in /root/luke/.git/
]0;root@devops: ~/lukeroot@devops:~/luke# git remote te[K[Kadd dark git@192.168.99.10:root/darth-vader.git
]0;root@devops: ~/lukeroot@devops:~/luke# gitr [K[K temote[K[K[K[K[K[Kremote -v
dark	git@192.168.99.10:root/darth-vader.git (fetch)
dark	git@192.168.99.10:root/darth-vader.git (push)
]0;root@devops: ~/lukeroot@devops:~/luke# vim Sith.txt
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"Sith.txt" [New File][>c[2;1H[1m[34m~                                                                                                                                                                         [3;1H~                                                                                                                                                                         [4;1H~                                                                                                                                                                         [5;1H~                                                                                                                                                                         [6;1H~                                                                                                                                                                         [7;1H~                                                                                                                                                                         [8;1H~                                                                                                                                                                         [9;1H~                                                                                                                                                                         [10;1H~                                                                                                                                                                         [11;1H~                                                                                                                                                                         [12;1H~                                                                                                                                                                         [13;1H~                                                                                                                                                                         [14;1H~                                                                                                                                                                         [15;1H~                                                                                                                                                                         [16;1H~                                                                                                                                                                         [17;1H~                                                                                                                                                                         [18;1H~                                                                                                                                                                         [19;1H~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H0,0-1[9CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;1H[1m-- INSERT --[m[44;13H[K[44;153H0,1[11CAll[1;1H[?12l[?25h[?25lD[44;153H1,2[1;2H[?12l[?25h[?25la[44;155H3[1;3H[?12l[?25h[?25lr[44;155H4[1;4H[?12l[?25h[?25lt[44;155H5[1;5H[?12l[?25h[?25lh[44;155H6[1;6H[?12l[?25h[?25l[44;155H7[1;7H[?12l[?25h[?25lV[44;155H8[1;8H[?12l[?25h[?25la[44;155H9[1;9H[?12l[?25h[?25ld[44;155H10[1;10H[?12l[?25h[?25le[44;156H1[1;11H[?12l[?25h[?25lr[44;156H2[1;12H[?12l[?25h[?25l[2;1H[K[44;153H2,1 [2;1H[?12l[?25h[?25lD[44;155H2[2;2H[?12l[?25h[?25la[44;155H3[2;3H[?12l[?25h[?25lr[44;155H4[2;4H[?12l[?25h[?25lt[44;155H5[2;5H[?12l[?25h[?25lh[44;155H6[2;6H[?12l[?25h[?25l[44;155H7[2;7H[?12l[?25h[?25lS[44;155H8[2;8H[?12l[?25h[?25li[44;155H9[2;9H[?12l[?25h[?25ld[44;155H10[2;10H[?12l[?25h[?25li[44;156H1[2;11H[?12l[?25h[?25lo[44;156H2[2;12H[?12l[?25h[?25l[2;11H[K[44;156H1[2;11H[?12l[?25h[?25lo[44;156H2[2;12H[?12l[?25h[?25lu[44;156H3[2;13H[?12l[?25h[?25ls[44;156H4[2;14H[?12l[?25h[44;1H[K[2;13H[?25l[44;153H2,13[10CAll[2;13H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"Sith.txt" [New] 2L, 26C written
[?1l>[?12l[?25h[?1049l]0;root@devops: ~/lukeroot@devops:~/luke# git
git                 gitlab-psql         gitlab-rake         git-shell           git-upload-pack     
gitlab-ctl          gitlab-rails        git-receive-pack    git-upload-archive  
]0;root@devops: ~/lukeroot@devops:~/luke# git 
add                  bundle               describe             get-tar-commit-id    merge                reflog               rm                   subtree 
am                   checkout             diff                 grep                 mergetool            relink               shortlog             tag 
annotate             cherry               difftool             help                 mv                   remote               show                 verify-commit 
apply                cherry-pick          fetch                imap-send            name-rev             repack               show-branch          whatchanged 
archive              clean                filter-branch        init                 notes                replace              stage                worktree 
bisect               clone                format-patch         instaweb             pull                 request-pull         stash                
blame                commit               fsck                 interpret-trailers   push                 reset                status               
branch               config               gc                   log                  rebase               revert               submodule            
]0;root@devops: ~/lukeroot@devops:~/luke# git push dark HEAD HEAD HEAD HEAD [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgit status
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31mSith.txt[m

nothing added to commit but untracked files present (use "git add" to track)
]0;root@devops: ~/lukeroot@devops:~/luke# git add si[K[KSith.txt 
]0;root@devops: ~/lukeroot@devops:~/luke# git add Sith.txt [7Pstatus
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

	[32mnew file:   Sith.txt[m

]0;root@devops: ~/lukeroot@devops:~/luke# git status[K[K[K[K[K[Kcommit -m ""C"o"m"e"n"r"t"[1P"[1P"t"a"r"i"o" "N"e"g"r"o"."."."
[master (root-commit) d186f32] Comentario Negro...
 1 file changed, 2 insertions(+)
 create mode 100644 Sith.txt
]0;root@devops: ~/lukeroot@devops:~/luke# git push dark master 
Counting objects: 3, done.
Writing objects:  33% (1/3)   Writing objects:  66% (2/3)   Writing objects: 100% (3/3)   Writing objects: 100% (3/3), 220 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To git@192.168.99.10:root/darth-vader.git
 * [new branch]      master -> master
]0;root@devops: ~/lukeroot@devops:~/luke# ls[[K
Sith.txt
]0;root@devops: ~/lukeroot@devops:~/luke# cd
]0;root@devops: ~root@devops:~# cd et[K[K/etc/ansible/
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.retry  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls -l
total 44
-rw-r--r-- 1 root root 10297 Dec 12 22:04 ansible.cfg
-rw-r--r-- 1 root root    28 Dec 11 23:16 batman.retry
-rw-r--r-- 1 root root  1468 Dec 11 23:53 batman.yml
-rw-r--r-- 1 root root  2670 Dec 12 22:01 flash.yml
-rw-r--r-- 1 root root    14 Dec 19 21:09 gitlab.retry
-rw-r--r-- 1 root root   612 Dec 19 21:10 gitlab.yml
-rw-r--r-- 1 root root    75 Dec 11 20:59 hosts
-rw-r--r-- 1 root root    34 Dec 12 21:32 index.php
-rw-r--r-- 1 root root     0 Dec 11 22:59 robin
drwxr-xr-x 4 root root  4096 Dec 12 23:58 [0m[01;34mroles[0m
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim rundeck.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" [New File][>c[2;1H[1m[34m~                                                                                                                                                                         [3;1H~                                                                                                                                                                         [4;1H~                                                                                                                                                                         [5;1H~                                                                                                                                                                         [6;1H~                                                                                                                                                                         [7;1H~                                                                                                                                                                         [8;1H~                                                                                                                                                                         [9;1H~                                                                                                                                                                         [10;1H~                                                                                                                                                                         [11;1H~                                                                                                                                                                         [12;1H~                                                                                                                                                                         [13;1H~                                                                                                                                                                         [14;1H~                                                                                                                                                                         [15;1H~                                                                                                                                                                         [16;1H~                                                                                                                                                                         [17;1H~                                                                                                                                                                         [18;1H~                                                                                                                                                                         [19;1H~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H0,0-1[9CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;1H[1m-- INSERT --[m[44;13H[K[44;153H0,1[11CAll[1;1H[?12l[?25h[?25l-[44;153H1,2[1;2H[?12l[?25h[?25l-[44;155H3[1;3H[?12l[?25h[?25l[35m---[m[44;155H4[1;4H[?12l[?25h[?25l[2;1H[K[44;153H2,1[2;1H[?12l[?25h[?25l-[44;155H2[2;2H[?12l[?25h[?25l[33m- [m[44;155H3[2;3H[?12l[?25h[?25ln[44;155H4[2;4H[?12l[?25h[?25la[44;155H5[2;5H[?12l[?25h[?25lm[44;155H6[2;6H[?12l[?25h[?25le[44;155H7[2;7H[?12l[?25h[?25l[2;3H[36mname[m[35m:[m[44;155H8[2;8H[?12l[?25h[?25l[2;3Hname:I[44;155H9[2;9H[?12l[?25h[?25lN[44;155H10[2;10H[?12l[?25h[?25lS[44;156H1[2;11H[?12l[?25h[?25lT[44;156H2[2;12H[?12l[?25h[?25lA[44;156H3[2;13H[?12l[?25h[?25l[2;12H[K[44;156H2[2;12H[?12l[?25h[?25l[2;11H[K[44;156H1[2;11H[?12l[?25h[?25l[2;10H[K[44;156H0[2;10H[?12l[?25h[?25l[2;9H[K[44;155H9 [2;9H[?12l[?25h[?25l[2;3H[36mname[m[35m:[m[2;8H[K[44;155H8[2;8H[?12l[?25h[?25l[44;155H9[2;9H[?12l[?25h[?25lI[44;155H10[2;10H[?12l[?25h[?25lN[44;156H1[2;11H[?12l[?25h[?25lS[44;156H2[2;12H[?12l[?25h[?25lT[44;156H3[2;13H[?12l[?25h[?25lA[44;156H4[2;14H[?12l[?25h[?25lL[44;156H5[2;15H[?12l[?25h[?25lA[44;156H6[2;16H[?12l[?25h[?25lC[44;156H7[2;17H[?12l[?25h[?25lA[44;156H8[2;18H[?12l[?25h[?25lO[44;156H9[2;19H[?12l[?25h[?25l[44;155H20[2;20H[?12l[?25h[?25lR[44;156H1[2;21H[?12l[?25h[?25lU[44;156H2[2;22H[?12l[?25h[?25lN[44;156H3[2;23H[?12l[?25h[?25lD[44;156H4[2;24H[?12l[?25h[?25lE[44;156H5[2;25H[?12l[?25h[?25lC[44;156H6[2;26H[?12l[?25h[?25lK[44;156H7[2;27H[?12l[?25h[?25l[3;1H[K[44;153H3,1 [3;1H[?12l[?25h[?25l[44;155H2-9[3;9H[?12l[?25h[?25l[44;155H1  [3;1H[?12l[?25h[?25l-[44;155H2[3;2H[?12l[?25h[?25l[33m- [m[44;155H3[3;3H[?12l[?25h[?25l-[3;2H[K[44;155H2[3;2H[?12l[?25h[?25l[3;1H[K[44;155H1[3;1H[?12l[?25h[?25l[44;155H2[3;2H[?12l[?25h[?25l[44;155H3[3;3H[?12l[?25h[?25lh[44;155H4[3;4H[?12l[?25h[?25lo[44;155H5[3;5H[?12l[?25h[?25ls[44;155H6[3;6H[?12l[?25h[?25lt[44;155H7[3;7H[?12l[?25h[?25ls[44;155H8[3;8H[?12l[?25h[?25l  [36mhosts[m[35m:[m[44;155H9[3;9H[?12l[?25h[?25l[44;155H10[3;10H[?12l[?25h[?25la[44;156H1[3;11H[?12l[?25h[?25lu[44;156H2[3;12H[?12l[?25h[?25lt[44;156H3[3;13H[?12l[?25h[?25lo[44;156H4[3;14H[?12l[?25h[?25lm[44;156H5[3;15H[?12l[?25h[?25la[44;156H6[3;16H[?12l[?25h[?25lt[44;156H7[3;17H[?12l[?25h[?25li[44;156H8[3;18H[?12l[?25h[?25lo[44;156H9[3;19H[?12l[?25h[?25ln[44;155H20[3;20H[?12l[?25h[?25l[4;1H[K[44;153H4,1 [4;1H[?12l[?25h[?25l[44;155H2[4;2H[?12l[?25h[?25l[44;155H3[4;3H[?12l[?25h[?25lt[44;155H4[4;4H[?12l[?25h[?25la[44;155H5[4;5H[?12l[?25h[?25ls[44;155H6[4;6H[?12l[?25h[?25lk[44;155H7[4;7H[?12l[?25h[?25ls[44;155H8[4;8H[?12l[?25h[?25l  [36mtasks[m[35m:[m[44;155H9[4;9H[?12l[?25h[?25l[44;155H10[4;10H[?12l[?25h[?25l[44;155H9 [4;9H[?12l[?25h[?25l[5;1H[K[44;153H5,1[5;1H[?12l[?25h[?25l[44;155H2[5;2H[?12l[?25h[?25l[44;155H3[5;3H[?12l[?25h[?25l[44;155H4[5;4H[?12l[?25h[?25l[44;155H5[5;5H[?12l[?25h[?25l-[44;155H6[5;6H[?12l[?25h[?25l[33m- [m[44;155H7[5;7H[?12l[?25h[?25ln[44;155H8[5;8H[?12l[?25h[?25la[44;155H9[5;9H[?12l[?25h[?25lm[44;155H10[5;10H[?12l[?25h[?25le[44;156H1[5;11H[?12l[?25h[?25l[36mname[m[35m:[m[44;156H2[5;12H[?12l[?25h[?25l[44;156H3[5;13H[?12l[?25h[?25lA[44;156H4[5;14H[?12l[?25h[?25ld[44;156H5[5;15H[?12l[?25h[?25ld[44;156H6[5;16H[?12l[?25h[?25l[44;156H7[5;17H[?12l[?25h[?25lR[44;156H8[5;18H[?12l[?25h[?25le[44;156H9[5;19H[?12l[?25h[?25lp[44;155H20[5;20H[?12l[?25h[?25lo[44;156H1[5;21H[?12l[?25h[?25ls[44;156H2[5;22H[?12l[?25h[?25l[44;156H3[5;23H[?12l[?25h[?25lR[44;156H4[5;24H[?12l[?25h[?25lu[44;156H5[5;25H[?12l[?25h[?25ln[44;156H6[5;26H[?12l[?25h[?25ld[44;156H7[5;27H[?12l[?25h[?25le[44;156H8[5;28H[?12l[?25h[?25lc[44;156H9[5;29H[?12l[?25h[?25lk[44;155H30[5;30H[?12l[?25h[?25l[6;1H[K[44;153H6,1 [6;1H[?12l[?25h[?25l[44;155H2[6;2H[?12l[?25h[?25l[44;155H3[6;3H[?12l[?25h[?25l[44;155H4[6;4H[?12l[?25h[?25l[44;155H5[6;5H[?12l[?25h[?25l[44;155H6[6;6H[?12l[?25h[?25l[44;155H7[6;7H[?12l[?25h[?25ly[44;155H8[6;8H[?12l[?25h[?25lu[44;155H9[6;9H[?12l[?25h[?25lm[44;155H10[6;10H[?12l[?25h[?25l[36myum[m[35m:[m[44;156H1[6;11H[?12l[?25h[?25l[7;1H[K[44;153H7,1 [7;1H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H4[7;4H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H1[7;1H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H4[7;4H[?12l[?25h[?25l[44;155H5[7;5H[?12l[?25h[?25l[44;155H6[7;6H[?12l[?25h[?25l[44;155H7[7;7H[?12l[?25h[?25l[44;155H8[7;8H[?12l[?25h[?25l[44;155H9[7;9H[?12l[?25h[?25ln[44;155H10[7;10H[?12l[?25h[?25la[44;156H1[7;11H[?12l[?25h[?25lm[44;156H2[7;12H[?12l[?25h[?25le[44;156H3[7;13H[?12l[?25h[?25l[36mname[m[35m:[m[44;156H4[7;14H[?12l[?25h[?25l[44;156H5[7;15H[?12l[?25h[?25lh[44;156H6[7;16H[?12l[?25h[?25lt[44;156H7[7;17H[?12l[?25h[?25lt[44;156H8[7;18H[?12l[?25h[?25lp[44;156H9[7;19H[?12l[?25h[?25l:[44;155H20[7;20H[?12l[?25h[?25l/[44;156H1[7;21H[?12l[?25h[?25l/[44;156H2[7;22H[?12l[?25h[?25lr[44;156H3[7;23H[?12l[?25h[?25le[44;156H4[7;24H[?12l[?25h[?25lp[44;156H5[7;25H[?12l[?25h[?25l.[44;156H6[7;26H[?12l[?25h[?25lr[44;156H7[7;27H[?12l[?25h[?25lu[44;156H8[7;28H[?12l[?25h[?25ln[44;156H9[7;29H[?12l[?25h[?25ld[44;155H30[7;30H[?12l[?25h[?25le[44;156H1[7;31H[?12l[?25h[?25lc[44;156H2[7;32H[?12l[?25h[?25lk[44;156H3[7;33H[?12l[?25h[?25l.[44;156H4[7;34H[?12l[?25h[?25lo[44;156H5[7;35H[?12l[?25h[?25lr[44;156H6[7;36H[?12l[?25h[?25lg[44;156H7[7;37H[?12l[?25h[?25l/[44;156H8[7;38H[?12l[?25h[?25ll[44;156H9[7;39H[?12l[?25h[?25la[44;155H40[7;40H[?12l[?25h[?25lt[44;156H1[7;41H[?12l[?25h[?25le[44;156H2[7;42H[?12l[?25h[?25ls[44;156H3[7;43H[?12l[?25h[?25lt[44;156H4[7;44H[?12l[?25h[?25l.[44;156H5[7;45H[?12l[?25h[?25lr[44;156H6[7;46H[?12l[?25h[?25lp[44;156H7[7;47H[?12l[?25h[?25lm[44;156H8[7;48H[?12l[?25h[?25l[8;1H[K[44;153H8,1 [8;1H[?12l[?25h[?25l[44;155H2[8;2H[?12l[?25h[?25l[44;155H3[8;3H[?12l[?25h[?25l[44;155H4[8;4H[?12l[?25h[?25l[44;155H5[8;5H[?12l[?25h[?25l[44;155H6[8;6H[?12l[?25h[?25l[44;155H7[8;7H[?12l[?25h[?25l[44;155H8[8;8H[?12l[?25h[?25l[44;155H9[8;9H[?12l[?25h[?25ls[44;155H10[8;10H[?12l[?25h[?25lt[44;156H1[8;11H[?12l[?25h[?25la[44;156H2[8;12H[?12l[?25h[?25lt[44;156H3[8;13H[?12l[?25h[?25le[44;156H4[8;14H[?12l[?25h[?25l[36mstate[m[35m:[m[44;156H5[8;15H[?12l[?25h[?25l[44;156H6[8;16H[?12l[?25h[?25lp[44;156H7[8;17H[?12l[?25h[?25lr[44;156H8[8;18H[?12l[?25h[?25le[44;156H9[8;19H[?12l[?25h[?25ls[44;155H20[8;20H[?12l[?25h[?25le[44;156H1[8;21H[?12l[?25h[?25ln[44;156H2[8;22H[?12l[?25h[?25lt[44;156H3[8;23H[?12l[?25h[?25l[9;1H[K[44;153H9,1 [9;1H[?12l[?25h[?25l[10;1H[K[44;153H10,1[10;1H[?12l[?25h[?25l[44;156H2[10;2H[?12l[?25h[?25l[44;156H3[10;3H[?12l[?25h[?25l[44;156H4[10;4H[?12l[?25h[?25l[44;156H5[10;5H[?12l[?25h[?25l-[44;156H6[10;6H[?12l[?25h[?25l[33m- [m[44;156H7[10;7H[?12l[?25h[?25ln[44;156H8[10;8H[?12l[?25h[?25la[44;156H9[10;9H[?12l[?25h[?25lm[44;156H10[10;10H[?12l[?25h[?25le[44;157H1[10;11H[?12l[?25h[?25l[36mname[m[35m:[m[44;157H2[10;12H[?12l[?25h[?25l[44;157H3[10;13H[?12l[?25h[?25lI[44;157H4[10;14H[?12l[?25h[?25ln[44;157H5[10;15H[?12l[?25h[?25ls[44;157H6[10;16H[?12l[?25h[?25lt[44;157H7[10;17H[?12l[?25h[?25la[44;157H8[10;18H[?12l[?25h[?25ll[44;157H9[10;19H[?12l[?25h[?25la[44;156H20[10;20H[?12l[?25h[?25ln[44;157H1[10;21H[?12l[?25h[?25ld[44;157H2[10;22H[?12l[?25h[?25lo[44;157H3[10;23H[?12l[?25h[?25l[44;157H4[10;24H[?12l[?25h[?25lR[44;157H5[10;25H[?12l[?25h[?25lu[44;157H6[10;26H[?12l[?25h[?25ln[44;157H7[10;27H[?12l[?25h[?25ld[44;157H8[10;28H[?12l[?25h[?25le[44;157H9[10;29H[?12l[?25h[?25lc[44;156H30[10;30H[?12l[?25h[?25lk[44;157H1[10;31H[?12l[?25h[?25l[11;1H[K[44;154H1,1 [11;1H[?12l[?25h[?25l[44;156H2[11;2H[?12l[?25h[?25l[44;156H3[11;3H[?12l[?25h[?25l[44;156H4[11;4H[?12l[?25h[?25l[44;156H5[11;5H[?12l[?25h[?25l[44;156H6[11;6H[?12l[?25h[?25l[44;156H7[11;7H[?12l[?25h[?25ly[44;156H8[11;8H[?12l[?25h[?25lu[44;156H9[11;9H[?12l[?25h[?25lm[44;156H10[11;10H[?12l[?25h[?25l[36myum[m[35m:[m[44;157H1[11;11H[?12l[?25h[?25l[44;157H2[11;12H[?12l[?25h[?25l[44;157H1[11;11H[?12l[?25h[?25l[12;1H[K[44;154H2,1 [12;1H[?12l[?25h[?25l[44;156H2[12;2H[?12l[?25h[?25l[44;156H3[12;3H[?12l[?25h[?25l[44;156H4[12;4H[?12l[?25h[?25l[44;156H5[12;5H[?12l[?25h[?25l[44;156H6[12;6H[?12l[?25h[?25l[44;156H7[12;7H[?12l[?25h[?25l[44;156H8[12;8H[?12l[?25h[?25l[44;156H9[12;9H[?12l[?25h[?25l[44;156H10[12;10H[?12l[?25h[?25l[44;156H9 [12;9H[?12l[?25h[?25ln[44;156H10[12;10H[?12l[?25h[?25la[44;157H1[12;11H[?12l[?25h[?25lm[44;157H2[12;12H[?12l[?25h[?25le[44;157H3[12;13H[?12l[?25h[?25l[36mname[m[35m:[m[44;157H4[12;14H[?12l[?25h[?25l[44;157H5[12;15H[?12l[?25h[?25l[35m[[m[44;157H6[12;16H[?12l[?25h[?25l[35m][m[35m[46m[][m[44;157H7[12;17H[?12l[?25h[?25l[44;157H6[12;16H[?12l[?25h[?25l[31m[46m'[m[31m]'[m[31m[46m][m[44;157H7[12;17H[?12l[?25h[?25l[31m[46m'[m[35m][m[31m'[m[35m[46m][m[44;157H8[12;18H[?12l[?25h[?25l[46m,[m[35m][m,[35m[46m][m[44;157H9[12;19H[?12l[?25h[?25l[31m[46m'[m[31m]'[m[31m[46m][m[44;156H20[12;20H[?12l[?25h[?25l[31m[46m'[m[35m][m[31m'[m[35m[46m][m[44;157H1[12;21H[?12l[?25h[?25l[35m[[5C][m[44;157H0[12;20H[?12l[?25h[?25l[44;156H19[12;19H[?12l[?25h[?25l[44;157H8[12;18H[?12l[?25h[?25l[44;157H7[12;17H[?12l[?25h[?25l[31mj'[m,[1C[31m'[m[35m][m[44;157H8[12;18H[?12l[?25h[?25l[31ma'[m,[1C[31m'[m[35m][m[44;157H9[12;19H[?12l[?25h[?25l[31mv'[m,[1C[31m'[m[35m][m[44;156H20[12;20H[?12l[?25h[?25l[31ma'[m,[1C[31m'[m[35m][m[44;157H1[12;21H[?12l[?25h[?25l[31m-'[m,[1C[31m'[m[35m][m[44;157H2[12;22H[?12l[?25h[?25l[31m1'[m,[1C[31m'[m[35m][m[44;157H3[12;23H[?12l[?25h[?25l[31m.'[m,[1C[31m'[m[35m][m[44;157H4[12;24H[?12l[?25h[?25l[31m8'[m,[1C[31m'[m[35m][m[44;157H5[12;25H[?12l[?25h[?25l[31m.'[m,[1C[31m'[m[35m][m[44;157H6[12;26H[?12l[?25h[?25l[31m0'[m,[1C[31m'[m[35m][m[44;157H7[12;27H[?12l[?25h[?25l[44;157H8[12;28H[?12l[?25h[?25l[44;157H9[12;29H[?12l[?25h[?25l[44;156H30[12;30H[?12l[?25h[?25l[31mr'[m[35m][m[44;157H1[12;31H[?12l[?25h[?25l[31mu'[m[35m][m[44;157H2[12;32H[?12l[?25h[?25l[31mn'[m[35m][m[44;157H3[12;33H[?12l[?25h[?25l[31md'[m[35m][m[44;157H4[12;34H[?12l[?25h[?25l[31me'[m[35m][m[44;157H5[12;35H[?12l[?25h[?25l[31mc'[m[35m][m[44;157H6[12;36H[?12l[?25h[?25l[31mk'[m[35m][m[44;157H7[12;37H[?12l[?25h[?25l[12;15H[35m[46m[[22C][m[44;157H8[12;38H[?12l[?25h[?25l[44;157H9[12;39H[?12l[?25h[?25l[13;1H[K[12;15H[35m[[22C][m[44;154H3,1 [13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25l[44;156H8[13;8H[?12l[?25h[?25l[44;156H9[13;9H[?12l[?25h[?25ls[44;156H10[13;10H[?12l[?25h[?25lt[44;157H1[13;11H[?12l[?25h[?25la[44;157H2[13;12H[?12l[?25h[?25lt[44;157H3[13;13H[?12l[?25h[?25le[44;157H4[13;14H[?12l[?25h[?25l[36mstate[m[35m:[m[44;157H5[13;15H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25lp[44;157H7[13;17H[?12l[?25h[?25lr[44;157H8[13;18H[?12l[?25h[?25le[44;157H9[13;19H[?12l[?25h[?25ls[44;156H20[13;20H[?12l[?25h[?25le[44;157H1[13;21H[?12l[?25h[?25ln[44;157H2[13;22H[?12l[?25h[?25lt[44;157H3[13;23H[?12l[?25h[?25l[44;154H2[12;23H[?12l[?25h[?25l[44;154H1,11[11;11H[?12l[?25h[?25l[44;154H0,23[10;23H[?12l[?25h[?25l[44;153H9,1  [9;1H[?12l[?25h[?25l[44;153H8,23[8;23H[?12l[?25h[?25l[9;43r[9;1H[L[1;44r[44;153H[K[44;153H9,1[11CAll[9;1H[?12l[?25h[?25l[10;43r[10;1H[L[1;44r[44;153H[K[44;153H10,1[10CAll[10;1H[?12l[?25h[?25l[44;156H2[10;2H[?12l[?25h[?25l[44;156H3[10;3H[?12l[?25h[?25l[44;156H4[10;4H[?12l[?25h[?25l[44;156H5[10;5H[?12l[?25h[?25l-[44;156H6[10;6H[?12l[?25h[?25l[33m- [m[44;156H7[10;7H[?12l[?25h[?25ln[44;156H8[10;8H[?12l[?25h[?25la[44;156H9[10;9H[?12l[?25h[?25lm[44;156H10[10;10H[?12l[?25h[?25le[44;157H1[10;11H[?12l[?25h[?25l[36mname[m[35m:[m[44;157H2[10;12H[?12l[?25h[?25l[44;157H3[10;13H[?12l[?25h[?25lM[44;157H4[10;14H[?12l[?25h[?25lo[44;157H5[10;15H[?12l[?25h[?25ls[44;157H6[10;16H[?12l[?25h[?25lt[44;157H7[10;17H[?12l[?25h[?25lr[44;157H8[10;18H[?12l[?25h[?25la[44;157H9[10;19H[?12l[?25h[?25ln[44;156H20[10;20H[?12l[?25h[?25ld[44;157H1[10;21H[?12l[?25h[?25lo[44;157H2[10;22H[?12l[?25h[?25l[44;157H3[10;23H[?12l[?25h[?25lR[44;157H4[10;24H[?12l[?25h[?25le[44;157H5[10;25H[?12l[?25h[?25ls[44;157H6[10;26H[?12l[?25h[?25lu[44;157H7[10;27H[?12l[?25h[?25ll[44;157H8[10;28H[?12l[?25h[?25lt[44;157H9[10;29H[?12l[?25h[?25la[44;156H30[10;30H[?12l[?25h[?25ld[44;157H1[10;31H[?12l[?25h[?25lo[44;157H2[10;32H[?12l[?25h[?25l[11;43r[11;1H[L[1;44r[44;153H[K[44;153H11,1[10CAll[11;1H[?12l[?25h[?25l[44;156H2[11;2H[?12l[?25h[?25l[44;156H3[11;3H[?12l[?25h[?25l[44;156H4[11;4H[?12l[?25h[?25l[44;156H5[11;5H[?12l[?25h[?25l[44;156H6[11;6H[?12l[?25h[?25l[44;156H7[11;7H[?12l[?25h[?25ld[44;156H8[11;8H[?12l[?25h[?25le[44;156H9[11;9H[?12l[?25h[?25lb[44;156H10[11;10H[?12l[?25h[?25lu[44;157H1[11;11H[?12l[?25h[?25lg[44;157H2[11;12H[?12l[?25h[?25l[36mdebug[m[35m:[m[44;157H3[11;13H[?12l[?25h[?25l[12;43r[12;1H[L[1;44r[44;153H[K[44;153H12,1[10CAll[12;1H[?12l[?25h[?25l[44;156H2[12;2H[?12l[?25h[?25l[44;156H3[12;3H[?12l[?25h[?25l[44;156H4[12;4H[?12l[?25h[?25l[44;156H5[12;5H[?12l[?25h[?25l[44;156H6[12;6H[?12l[?25h[?25l[44;156H7[12;7H[?12l[?25h[?25l[44;156H8[12;8H[?12l[?25h[?25l[44;156H9[12;9H[?12l[?25h[?25lv[44;156H10[12;10H[?12l[?25h[?25la[44;157H1[12;11H[?12l[?25h[?25lr[44;157H2[12;12H[?12l[?25h[?25l[36mvar[m[35m:[m[44;157H3[12;13H[?12l[?25h[?25l[44;157H4[12;14H[?12l[?25h[?25lr[44;157H5[12;15H[?12l[?25h[?25le[44;157H6[12;16H[?12l[?25h[?25ls[44;157H7[12;17H[?12l[?25h[?25lu[44;157H8[12;18H[?12l[?25h[?25lt[44;157H9[12;19H[?12l[?25h[?25l[12;18H[K[44;157H8[12;18H[?12l[?25h[?25ll[44;157H9[12;19H[?12l[?25h[?25lt[44;156H20[12;20H[?12l[?25h[?25l.[44;157H1[12;21H[?12l[?25h[?25ls[44;157H2[12;22H[?12l[?25h[?25lt[44;157H3[12;23H[?12l[?25h[?25ld[44;157H4[12;24H[?12l[?25h[?25lo[44;157H5[12;25H[?12l[?25h[?25lu[44;157H6[12;26H[?12l[?25h[?25lt[44;157H7[12;27H[?12l[?25h[?25l[44;154H3,1 [13;1H[?12l[?25h[?25l[44;154H2,27[12;27H[?12l[?25h[?25l[44;157H6[12;26H[?12l[?25h[?25l[44;157H5[12;25H[?12l[?25h[?25l[44;157H4[12;24H[?12l[?25h[?25l[44;157H3[12;23H[?12l[?25h[?25l[44;157H2[12;22H[?12l[?25h[?25l[44;157H1[12;21H[?12l[?25h[?25l[44;157H0[12;20H[?12l[?25h[?25l[44;156H19[12;19H[?12l[?25h[?25l[44;157H8[12;18H[?12l[?25h[?25l[44;157H7[12;17H[?12l[?25h[?25l[44;157H6[12;16H[?12l[?25h[?25l[44;157H5[12;15H[?12l[?25h[?25l[44;157H4[12;14H[?12l[?25h[?25l[44;157H3[12;13H[?12l[?25h[?25l[44;157H2[12;12H[?12l[?25h[?25l[44;157H1[12;11H[?12l[?25h[?25l[44;157H0[12;10H[?12l[?25h[?25l[44;156H9 [12;9H[?12l[?25h[?25l [36mvar[m[35m:[m result.stdout[44;156H10[12;10H[?12l[?25h[44;1H[K[12;9H[?25l[44;153H12,9[10CAll[12;9H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"rundeck.yml" [New] 17L, 351C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim rundeck.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 17L, 351C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://rep.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[10;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[11;7H[36mdebug[m[35m:[m[12;10H[36mvar[m[35m:[m result.stdout[14;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[15;7H[36myum[m[35m:[m[16;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[17;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [19;1H~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H4[7;4H[?12l[?25h[?25l[44;155H5[7;5H[?12l[?25h[?25l[44;155H6[7;6H[?12l[?25h[?25l[44;155H7[7;7H[?12l[?25h[?25l[44;155H8[7;8H[?12l[?25h[?25l[44;155H9[7;9H[?12l[?25h[?25l[44;155H10[7;10H[?12l[?25h[?25l[44;153H8[8;10H[?12l[?25h[?25l[44;156H1[8;11H[?12l[?25h[?25l[44;156H2[8;12H[?12l[?25h[?25l[44;156H3[8;13H[?12l[?25h[?25l[44;156H4[8;14H[?12l[?25h[?25l[44;156H5[8;15H[?12l[?25h[?25l[44;156H6[8;16H[?12l[?25h[?25l[44;156H7[8;17H[?12l[?25h[?25l[44;156H8[8;18H[?12l[?25h[?25l[44;156H9[8;19H[?12l[?25h[?25l[44;155H20[8;20H[?12l[?25h[?25l[44;156H1[8;21H[?12l[?25h[?25l[44;156H2[8;22H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;13H[K[44;153H8,23[10CAll[8;23H[?12l[?25h[?25l[9;43r[9;1H[L[1;44r[44;153H[K[44;153H9,1[11CAll[9;1H[?12l[?25h[?25l[44;155H2[9;2H[?12l[?25h[?25l[44;155H3[9;3H[?12l[?25h[?25l[44;155H4[9;4H[?12l[?25h[?25l[44;155H5[9;5H[?12l[?25h[?25l[44;155H6[9;6H[?12l[?25h[?25l[44;155H7[9;7H[?12l[?25h[?25lr[44;155H8[9;8H[?12l[?25h[?25le[44;155H9[9;9H[?12l[?25h[?25lg[44;155H10[9;10H[?12l[?25h[?25li[44;156H1[9;11H[?12l[?25h[?25ls[44;156H2[9;12H[?12l[?25h[?25lt[44;156H3[9;13H[?12l[?25h[?25le[44;156H4[9;14H[?12l[?25h[?25lr[44;156H5[9;15H[?12l[?25h[?25l[9;7H[36mregister[m[35m:[m[44;156H6[9;16H[?12l[?25h[?25l[44;156H7[9;17H[?12l[?25h[?25lr[44;156H8[9;18H[?12l[?25h[?25le[44;156H9[9;19H[?12l[?25h[?25ls[44;155H20[9;20H[?12l[?25h[?25lu[44;156H1[9;21H[?12l[?25h[?25ll[44;156H2[9;22H[?12l[?25h[?25lt[44;156H3[9;23H[?12l[?25h[?25l[44;153H10,1[10;1H[?12l[?25h[?25l[44;154H1,23[11;23H[?12l[?25h[?25l[44;154H2,1[12;13H[?12l[?25h[?25l[44;154H3,2[13;23H[?12l[?25h[?25l[44;157H2[13;22H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;157H0[13;20H[?12l[?25h[?25l[44;156H19[13;19H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H3[13;13H[?12l[?25h[?25l[44;157H2[13;12H[?12l[?25h[?25l[44;157H1[13;11H[?12l[?25h[?25l[44;157H0[13;10H[?12l[?25h[?25l[36mvar[m[35m:[m result.stdout[13;27H[K[44;156H9 [13;9H[?12l[?25h[44;1H[K[13;8H[?25l[44;153H13,8[10CAll[13;8H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"rundeck.yml" 18L, 373C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.retry  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m  rundeck.yml
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd [K[K[Kcd
]0;root@devops: ~root@devops:~# ls
adriano  arthur_cury.pp  [0m[01;34mkenobi[0m  [01;34mluke[0m  memfree
]0;root@devops: ~root@devops:~# mkdi [Kr aulars[K[Ks
]0;root@devops: ~root@devops:~# ls
adriano  arthur_cury.pp  [0m[01;34maulas[0m  [01;34mkenobi[0m  [01;34mluke[0m  memfree
]0;root@devops: ~root@devops:~# cat memfree 
              total        used        free      shared  buff/cache   available
Mem:           3.9G        111M        2.9G         14M        903M        3.5G
Swap:            0B          0B          0B
]0;root@devops: ~root@devops:~# ls
adriano  arthur_cury.pp  [0m[01;34maulas[0m  [01;34mkenobi[0m  [01;34mluke[0m  memfree
]0;root@devops: ~root@devops:~# ls
adriano  arthur_cury.pp  [0m[01;34maulas[0m  [01;34mkenobi[0m  [01;34mluke[0m  memfree
]0;root@devops: ~root@devops:~# cp * [K[K[K[K[Kcp -r [K[K[K* aulas/
cp: omitting directory 'aulas'
cp: omitting directory 'kenobi'
cp: omitting directory 'luke'
]0;root@devops: ~root@devops:~# cp -r kenobi/[K aulas/
]0;root@devops: ~root@devops:~# cp luke/[K[K[K[K[K[K[K[Kcd aulas/
]0;root@devops: ~/aulasroot@devops:~/aulas# git init[K[K[K[K[K[K[K[Kcd ..
]0;root@devops: ~root@devops:~# mv aulas/[K aulas/[K_devops
]0;root@devops: ~root@devops:~# cd aulas_devops/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git init
Initialized empty Git repository in /root/aulas_devops/.git/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# ls
adriano  arthur_cury.pp  [0m[01;34mkenobi[0m  memfree
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# gu[Kit status
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31madriano[m
	[31marthur_cury.pp[m
	[31mkenobi/[m
	[31mmemfree[m

nothing added to commit but untracked files present (use "git add" to track)
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git [K[K[K[Kgit add .
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git status
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

	[32mnew file:   adriano[m
	[32mnew file:   arthur_cury.pp[m
	[32mnew file:   kenobi[m
	[32mnew file:   memfree[m

]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git co[K[Ka[Kcommit -m "Aulas[K[K[K[K[KAulas de [K[K[Kdo DEVOPS"
[master (root-commit) 9ee9267] Aulas do DEVOPS
 4 files changed, 24 insertions(+)
 create mode 100644 adriano
 create mode 100644 arthur_cury.pp
 create mode 160000 kenobi
 create mode 100644 memfree
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd /etc/ansible/
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.retry  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m  rundeck.yml
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# pl[K[Kansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kcd /etc/ansible/git commit -m "Aulas do DEVOPS"status[K[1Padd .statusls[Kgit initcd aulas_devops/mv aulas aulas_devopscd ..[Kaulas/[10@p -r kenobi[C[C[C[C[C[C[C[8P*[C[C[C[C[C[C[Cls[Kcat memfree ls[Kmkdir aulasls[Kcdlsvim rundeck.yml[10Pls -lvim rundeck.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 18L, 373C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://rep.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[9;7H[36mregister[m[35m:[m result[11;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[12;7H[36mdebug[m[35m:[m[13;9H[36mvar[m[35m:[m result.stdout[15;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[16;7H[36myum[m[35m:[m[17;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[18;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9[9;1H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,1  [11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25l[44;156H8[13;8H[?12l[?25h[?25l[44;156H9[13;9H[?12l[?25h[?25l[44;156H10[13;10H[?12l[?25h[?25l[44;157H1[13;11H[?12l[?25h[?25l[44;157H2[13;12H[?12l[?25h[?25l[44;157H3[13;13H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H9[13;19H[?12l[?25h[?25l[44;156H20[13;20H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;157H0[13;20H[?12l[?25h[?25l[44;156H19[13;19H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H9[13;19H[?12l[?25h[?25l[44;156H20[13;20H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;157H2[13;22H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;13H[K[44;153H13,21[9CAll[13;21H[K[13;21H[?12l[?25h[?25lr[44;157H2[13;22H[?12l[?25h[?25lc[44;157H3[13;23H[?12l[?25h[44;1H[K[13;22H[?25l[44;153H13,22[9CAll[13;22H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"rundeck.yml" 18L, 369C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim rundeck.ymlls[Kvim rundeck.ymlls[Kvim rundeck.ymlls[Kcd /etc/ansible/git commit -m "Aulas do DEVOPS"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[15Pcd /etc/ansible/ls[Kvim rundeck.yml[Kplay[K[K[K[Kansible-playbook -[Krundeck.yml 
 ___________________________
< PLAY [INSTALACAO RUNDECK] >
 ---------------------------
    \
     \
                                   .::!!!!!!!:.
  .!!!!!:.                        .:!!!!!!!!!!!!
  ~~~~!!!!!!.                 .:!!!!!!!!!UWWW$$$ 
      :$$NWX!!:           .:!!!!!!XUWW$$$$$$$$$P 
      $$$$$##WX!:      .<!!!!UW$$$$"  $$$$$$$$# 
      $$$$$  $$$UX   :!!UW$$$$$$$$$   4$$$$$* 
      ^$$$B  $$$$\     $$$$$$$$$$$$   d$$R" 
        "*$bd$$$$      '*$$$$$$$$$$$o+#" 
             """"          """"""" 

 ________________________
< TASK [Gathering Facts] >
 ------------------------
     \
      \
       ("`-'  '-/") .___..--' ' "`-._
         ` *_ *  )    `-.   (      ) .`-.__. `)
         (_Y_.) ' ._   )   `._` ;  `` -. .-'
      _.. `--'_..-_/   /--' _ .' ,4
   ( i l ),-''  ( l i),'  ( ( ! .-'    

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 __________________________
< TASK [Add Repos Rundeck] >
 --------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||--WWW |
                ||     ||

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;31mfatal: [192.168.99.30]: FAILED! => {"changed": false, "msg": "Failure downloading http://rep.rundeck.org/latest.rpm, Request failed: <urlopen error [Errno -2] Name or service not known>"}[0m
	to retry, use: --limit @/etc/ansible/rundeck.retry
 ____________
< PLAY RECAP >
 ------------
     \
      \
       ("`-'  '-/") .___..--' ' "`-._
         ` *_ *  )    `-.   (      ) .`-.__. `)
         (_Y_.) ' ._   )   `._` ;  `` -. .-'
      _.. `--'_..-_/   /--' _ .' ,4
   ( i l ),-''  ( l i),'  ( ( ! .-'    

[0;31m192.168.99.30[0m              : [0;32mok=1   [0m changed=0    unreachable=0    [0;31mfailed=1   [0m

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[14Pvim rundeck.yml
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 18L, 369C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://rep.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[9;7H[36mregister[m[35m:[m result[11;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[12;7H[36mdebug[m[35m:[m[13;9H[36mvar[m[35m:[m result.rc[15;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[16;7H[36myum[m[35m:[m[17;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[18;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;155H2[5;2H[?12l[?25h[?25l[44;155H3[5;3H[?12l[?25h[?25l[44;155H4[5;4H[?12l[?25h[?25l[44;155H3[5;3H[?12l[?25h[?25l[44;155H2[5;2H[?12l[?25h[?25l[44;155H1[5;1H[?12l[?25h[?25l[44;155H2[5;2H[?12l[?25h[?25l[44;155H3[5;3H[?12l[?25h[?25l[44;155H4[5;4H[?12l[?25h[?25l[44;155H5[5;5H[?12l[?25h[?25l[44;155H6[5;6H[?12l[?25h[?25l[44;155H7[5;7H[?12l[?25h[?25l[44;153H6[6;7H[?12l[?25h[?25l[44;153H7[7;7H[?12l[?25h[?25l[44;153H8[8;7H[?12l[?25h[?25l[44;153H9[9;7H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,7  [11;7H[?12l[?25h[?25l[44;154H2[12;7H[?12l[?25h[?25l[44;154H3[13;7H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H5,7  [15;7H[?12l[?25h[?25l[44;154H6[16;7H[?12l[?25h[?25l[44;154H5[15;7H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H3,7  [13;7H[?12l[?25h[?25l[44;154H2[12;7H[?12l[?25h[?25l[44;154H1[11;7H[?12l[?25h[?25l[44;154H0,0-1[10;1H[?12l[?25h[?25l[44;153H9,7   [9;7H[?12l[?25h[?25l[44;153H8[8;7H[?12l[?25h[?25l[44;153H7[7;7H[?12l[?25h[?25l[44;155H6[7;6H[?12l[?25h[?25l[44;155H5[7;5H[?12l[?25h[?25l[44;155H4[7;4H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H1[7;1H[?12l[?25h[?25l[44;155H2[7;2H[?12l[?25h[?25l[44;155H3[7;3H[?12l[?25h[?25l[44;155H4[7;4H[?12l[?25h[?25l[44;155H5[7;5H[?12l[?25h[?25l[44;155H6[7;6H[?12l[?25h[?25l[44;155H7[7;7H[?12l[?25h[?25l[44;155H8[7;8H[?12l[?25h[?25l[44;155H9[7;9H[?12l[?25h[?25l[44;1H[K[44;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[44;1H[K[44;1H[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.retry  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m  rundeck.retry  rundeck.yml
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd ..
]0;root@devops: /etcroot@devops:/etc# ls
[0m[01;34macpi[0m                    [01;34mconsole-setup[0m   gai.conf         [01;34miproute2[0m         lsb-release     [01;34mnewt[0m                     [01;34mpuppetlabs[0m    [01;34msecurity[0m       [01;34msystemd[0m
adduser.conf            [01;34mcron.d[0m          [01;34mgitlab[0m           [01;34miscsi[0m            ltrace.conf     [01;34mnginx[0m                    [01;34mpython[0m        [01;34mselinux[0m        [01;34mterminfo[0m
[01;34malternatives[0m            [01;34mcron.daily[0m      [01;34mgroff[0m            issue            [01;34mlvm[0m             nsswitch.conf            [01;34mpython2.7[0m     sensors3.conf  timezone
[01;34mansible[0m                 [01;34mcron.hourly[0m     group            issue.net        [01;34mlynx[0m            [01;34mopt[0m                      [01;34mpython3[0m       [01;34msensors.d[0m      [01;34mtmpfiles.d[0m
[01;34mapache2[0m                 [01;34mcron.monthly[0m    group-           [01;34mjava-8-openjdk[0m   machine-id      [01;36mos-release[0m               [01;34mpython3.5[0m     services       ucf.conf
[01;34mapm[0m                     crontab         [01;34mgrub.d[0m           [01;34mkbd[0m              magic           overlayroot.conf         [01;34mrc0.d[0m         [01;34msgml[0m           [01;34mudev[0m
[01;34mapparmor[0m                [01;34mcron.weekly[0m     gshadow          [01;34mkernel[0m           magic.mime      overlayroot.local.conf   [01;34mrc1.d[0m         shadow         [01;34mufw[0m
[01;34mapparmor.d[0m              crypttab        gshadow-         kernel-img.conf  mailcap         pam.conf                 [01;34mrc2.d[0m         shadow-        updatedb.conf
[01;34mapport[0m                  [01;34mdbus-1[0m          [01;34mgss[0m              [01;34mldap[0m             mailcap.order   [01;34mpam.d[0m                    [01;34mrc3.d[0m         shells         [01;34mupdate-manager[0m
[01;34mapt[0m                     debconf.conf    hdparm.conf      ld.so.cache      mailname        passwd                   [01;34mrc4.d[0m         [01;34mskel[0m           [01;34mupdate-motd.d[0m
at.deny                 debian_version  host.conf        ld.so.conf       manpath.config  passwd-                  [01;34mrc5.d[0m         sos.conf       [01;34mupdate-notifier[0m
bash.bashrc             [01;34mdefault[0m         hostname         [01;34mld.so.conf.d[0m     [01;34mmdadm[0m           [01;34mperl[0m                     [01;34mrc6.d[0m         [01;34mssh[0m            [01;34mvim[0m
bash_completion         deluser.conf    hosts            legal            mime.types      [01;34mphp[0m                      [01;32mrc.local[0m      [01;34mssl[0m            [01;34mvmware-tools[0m
[01;34mbash_completion.d[0m       [01;34mdepmod.d[0m        hosts.allow      libaudit.conf    mke2fs.conf     [01;34mpki[0m                      [01;34mrcS.d[0m         subgid         [01;36mvtrgb[0m
bindresvport.blacklist  [01;34mdhcp[0m            hosts.deny       [01;34mlighttpd[0m         [01;34mmodprobe.d[0m      [01;34mpm[0m                       [01;34mresolvconf[0m    subgid-        wgetrc
[01;34mbinfmt.d[0m                [01;34mdpkg[0m            [01;34minit[0m             locale.alias     modules         [01;34mpolkit-1[0m                 [01;36mresolv.conf[0m   subuid         [01;34mX11[0m
[01;34mbyobu[0m                   ec2_version     [01;34minit.d[0m           locale.gen       [01;34mmodules-load.d[0m  [01;34mpollinate[0m                [01;32mrmt[0m           subuid-        [01;34mxdg[0m
[01;34mca-certificates[0m         environment     [01;34minitramfs-tools[0m  [01;36mlocaltime[0m        [01;36mmtab[0m            popularity-contest.conf  rpc           sudoers        [01;34mxml[0m
ca-certificates.conf    [01;34mfish[0m            inputrc          [01;34mlogcheck[0m         nanorc          [01;34mppp[0m                      rsyslog.conf  [01;34msudoers.d[0m      zsh_command_not_found
[01;34mcalendar[0m                [01;34mfonts[0m           [01;34minsserv[0m          login.defs       [01;34mnetwork[0m         profile                  [01;34mrsyslog.d[0m     sysctl.conf
cczerc                  fstab           insserv.conf     logrotate.conf   [01;34mNetworkManager[0m  [01;34mprofile.d[0m                screenrc      [01;34msysctl.d[0m
[01;34mcloud[0m                   fuse.conf       [01;34minsserv.conf.d[0m   [01;34mlogrotate.d[0m      networks        protocols                securetty     [01;34msysstat[0m
]0;root@devops: /etcroot@devops:/etc# cd ansible/
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd ..
]0;root@devops: /etcroot@devops:/etc# cp -r ansible/[K /root/aulas_devops/
]0;root@devops: /etcroot@devops:/etc# cp -r ansible /root/aulas_devops/[1P /root/aulas_devops/[1P /root/aulas_devops/[1P /root/aulas_devops/[1P /root/aulas_devops/[1P /root/aulas_devops/[1P /root/aulas_devops/[1P /root/aulas_devops/p /root/aulas_devops/u /root/aulas_devops/ppetlabs/ /root/aulas_devops/[1P /root/aulas_devops/
]0;root@devops: /etcroot@devops:/etc# cd [K[K[Kcd ansible/
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.retry  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m  rundeck.retry  rundeck.yml
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vi rundeck.yml 
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 18L, 369C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://rep.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[9;7H[36mregister[m[35m:[m result[11;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[12;7H[36mdebug[m[35m:[m[13;9H[36mvar[m[35m:[m result.rc[15;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[16;7H[36myum[m[35m:[m[17;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[18;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;153H6[6;1H[?12l[?25h[?25l[44;153H7[7;1H[?12l[?25h[?25l[44;153H8[8;1H[?12l[?25h[?25l[44;153H9[9;1H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,1  [11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H3,1  [13;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H1[11;1H[?12l[?25h[?25l[44;154H0,0-1[10;1H[?12l[?25h[?25l[44;153H9,1   [9;1H[?12l[?25h[?25l[44;153H10,0-1[10;1H[?12l[?25h[?25l[44;154H1,1  [11;1H[?12l[?25h[?25l[44;154H2[12;1H[?12l[?25h[?25l[44;154H3[13;1H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;154H3,1  [13;1H[?12l[?25h[?25l[44;156H2[13;2H[?12l[?25h[?25l[44;156H3[13;3H[?12l[?25h[?25l[44;156H4[13;4H[?12l[?25h[?25l[44;156H5[13;5H[?12l[?25h[?25l[44;156H6[13;6H[?12l[?25h[?25l[44;156H7[13;7H[?12l[?25h[?25l[44;156H8[13;8H[?12l[?25h[?25l[44;156H9[13;9H[?12l[?25h[?25l[44;156H10[13;10H[?12l[?25h[?25l[44;157H1[13;11H[?12l[?25h[?25l[44;157H2[13;12H[?12l[?25h[?25l[44;157H3[13;13H[?12l[?25h[?25l[44;157H4[13;14H[?12l[?25h[?25l[44;157H5[13;15H[?12l[?25h[?25l[44;157H6[13;16H[?12l[?25h[?25l[44;157H7[13;17H[?12l[?25h[?25l[44;157H8[13;18H[?12l[?25h[?25l[44;157H9[13;19H[?12l[?25h[?25l[44;156H20[13;20H[?12l[?25h[?25l[44;157H1[13;21H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;13H[K[44;153H13,21[9CAll[13;21H[K[13;21H[?12l[?25h[?25ls[44;157H2[13;22H[?12l[?25h[?25lt[44;157H3[13;23H[?12l[?25h[?25ld[44;157H4[13;24H[?12l[?25h[?25lo[44;157H5[13;25H[?12l[?25h[?25lu[44;157H6[13;26H[?12l[?25h[?25lt[44;157H7[13;27H[?12l[?25h[44;1H[K[13;26H[?25l[44;153H13,26[9CAll[13;26H[?12l[?25h[?25l[44;154H4,0-1[14;1H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"rundeck.yml" 18L, 373C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vi rundeck.yml ls[Kcd ansible/p -r puppetlabs /root/aulas_devops/[3Pansible[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[3@puppetlabs[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[3Pansible[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cd ..[Kansible/ls[Kcd ..[3Plsvim rundeck.ymlansible-playbook rundeck.yml 
 ___________________________
< PLAY [INSTALACAO RUNDECK] >
 ---------------------------
  \
   \
      /\_)o<
     |      \
     | O . O|
      \_____/

 ________________________
< TASK [Gathering Facts] >
 ------------------------
  \
   \
       __     
      UooU\.'@@@@@@`.
      \__/(@@@@@@@@@@)
           (@@@@@@@@)
           `YY~~~~YY'
            ||    ||

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 __________________________
< TASK [Add Repos Rundeck] >
 --------------------------
  \
   \ ,   _ ___.--'''`--''//-,-_--_.
      \`"' ` || \\ \ \\/ / // / ,-\\`,_
     /'`  \ \ || Y  | \|/ / // / - |__ `-,
    /@"\  ` \ `\ |  | ||/ // | \/  \  `-._`-,_.,
   /  _.-. `.-\,___/\ _/|_/_\_\/|_/ |     `-._._)
   `-'``/  /  |  // \__/\__  /  \__/ \
        `-'  /-\/  | -|   \__ \   |-' |
          __/\ / _/ \/ __,-'   ) ,' _|'
         (((__/(((_.' ((___..-'((__,'

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;31mfatal: [192.168.99.30]: FAILED! => {"changed": false, "msg": "Failure downloading http://rep.rundeck.org/latest.rpm, Request failed: <urlopen error [Errno -2] Name or service not known>"}[0m
	to retry, use: --limit @/etc/ansible/rundeck.retry
 ____________
< PLAY RECAP >
 ------------
  \
   \   \
        \ /\
        ( )
      .( o ).

[0;31m192.168.99.30[0m              : [0;32mok=1   [0m changed=0    unreachable=0    [0;31mfailed=1   [0m

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd [K[K[Kcd 
]0;root@devops: ~root@devops:~# cd aulas_devops/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# ls
adriano  [0m[01;34mansible[0m  arthur_cury.pp  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git status
On branch master
Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31mansible/[m
	[31mpuppetlabs/[m

nothing added to commit but untracked files present (use "git add" to track)
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git commit [K[K[K[K[K[K[Kadd ansible/[K[K[K[K[K[K[K[K.
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git commit -m "Todos as ault[Kas devops ansible puppet"
[master 5b2d3c0] Todos as aulas devops ansible puppet
 153 files changed, 4951 insertions(+)
 create mode 100644 ansible/ansible.cfg
 create mode 100644 ansible/batman.retry
 create mode 100644 ansible/batman.yml
 create mode 100644 ansible/flash.yml
 create mode 100644 ansible/gitlab.retry
 create mode 100644 ansible/gitlab.yml
 create mode 100644 ansible/hosts
 create mode 100644 ansible/index.php
 create mode 100644 ansible/robin
 create mode 100644 ansible/roles/asa_noturna/README.md
 create mode 100644 ansible/roles/asa_noturna/defaults/main.yml
 create mode 100644 ansible/roles/asa_noturna/handlers/main.yml
 create mode 100644 ansible/roles/asa_noturna/meta/main.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/deploy.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/install_nginx.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/main.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/prereqDebian.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/prereqRedhat.yml
 create mode 100644 ansible/roles/asa_noturna/templates/index.html
 create mode 100644 ansible/roles/asa_noturna/tests/inventory
 create mode 100644 ansible/roles/asa_noturna/tests/test.yml
 create mode 100644 ansible/roles/asa_noturna/vars/main.yml
 create mode 100644 ansible/roles/puppet/README.md
 create mode 100644 ansible/roles/puppet/defaults/main.yml
 create mode 100644 ansible/roles/puppet/handlers/main.yml
 create mode 100644 ansible/roles/puppet/meta/main.yml
 create mode 100644 ansible/roles/puppet/tasks/ins_centos.yml
 create mode 100644 ansible/roles/puppet/tasks/ins_debian.yml
 create mode 100644 ansible/roles/puppet/tasks/main.retry
 create mode 100644 ansible/roles/puppet/tasks/main.yml
 create mode 100644 ansible/roles/puppet/tasks/prereq.yml
 create mode 100644 ansible/roles/puppet/tests/inventory
 create mode 100644 ansible/roles/puppet/tests/test.yml
 create mode 100644 ansible/roles/puppet/vars/main.yml
 create mode 100644 ansible/rundeck.retry
 create mode 100644 ansible/rundeck.yml
 create mode 100644 puppetlabs/code/environments/production/environment.conf
 create mode 100644 puppetlabs/code/environments/production/hiera.yaml
 create mode 100644 puppetlabs/code/environments/production/manifests/site.pp
 create mode 100644 puppetlabs/code/modules/arraia_negra/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitattributes
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitignore
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.pdkignore
 create mode 100644 puppetlabs/code/modules/arraia_negra/.rspec
 create mode 100644 puppetlabs/code/modules/arraia_negra/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.travis.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.yardopts
 create mode 100644 puppetlabs/code/modules/arraia_negra/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/arraia_negra/Gemfile
 create mode 100644 puppetlabs/code/modules/arraia_negra/README.md
 create mode 100644 puppetlabs/code/modules/arraia_negra/Rakefile
 create mode 100644 puppetlabs/code/modules/arraia_negra/appveyor.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/data/common.yaml
 create mode 100644 puppetlabs/code/modules/arraia_negra/hiera.yaml
 create mode 100644 puppetlabs/code/modules/arraia_negra/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/arraia_negra/metadata.json
 create mode 100644 puppetlabs/code/modules/arraia_negra/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/base/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/base/.gitattributes
 create mode 100644 puppetlabs/code/modules/base/.gitignore
 create mode 100644 puppetlabs/code/modules/base/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/base/.pdkignore
 create mode 100644 puppetlabs/code/modules/base/.rspec
 create mode 100644 puppetlabs/code/modules/base/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/base/.travis.yml
 create mode 100644 puppetlabs/code/modules/base/.yardopts
 create mode 100644 puppetlabs/code/modules/base/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/base/Gemfile
 create mode 100644 puppetlabs/code/modules/base/README.md
 create mode 100644 puppetlabs/code/modules/base/Rakefile
 create mode 100644 puppetlabs/code/modules/base/appveyor.yml
 create mode 100644 puppetlabs/code/modules/base/data/common.yaml
 create mode 100644 puppetlabs/code/modules/base/files/puppet.conf
 create mode 100644 puppetlabs/code/modules/base/hiera.yaml
 create mode 100644 puppetlabs/code/modules/base/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/base/metadata.json
 create mode 100644 puppetlabs/code/modules/base/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/base/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/docker/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/docker/.gitattributes
 create mode 100644 puppetlabs/code/modules/docker/.gitignore
 create mode 100644 puppetlabs/code/modules/docker/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/docker/.pdkignore
 create mode 100644 puppetlabs/code/modules/docker/.rspec
 create mode 100644 puppetlabs/code/modules/docker/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/docker/.travis.yml
 create mode 100644 puppetlabs/code/modules/docker/.yardopts
 create mode 100644 puppetlabs/code/modules/docker/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/docker/Gemfile
 create mode 100644 puppetlabs/code/modules/docker/README.md
 create mode 100644 puppetlabs/code/modules/docker/Rakefile
 create mode 100644 puppetlabs/code/modules/docker/appveyor.yml
 create mode 100644 puppetlabs/code/modules/docker/data/common.yaml
 create mode 100644 puppetlabs/code/modules/docker/hiera.yaml
 create mode 100644 puppetlabs/code/modules/docker/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/docker/metadata.json
 create mode 100644 puppetlabs/code/modules/docker/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/docker/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/mera/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/mera/.gitattributes
 create mode 100644 puppetlabs/code/modules/mera/.gitignore
 create mode 100644 puppetlabs/code/modules/mera/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/mera/.pdkignore
 create mode 100644 puppetlabs/code/modules/mera/.rspec
 create mode 100644 puppetlabs/code/modules/mera/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/mera/.travis.yml
 create mode 100644 puppetlabs/code/modules/mera/.yardopts
 create mode 100644 puppetlabs/code/modules/mera/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/mera/Gemfile
 create mode 100644 puppetlabs/code/modules/mera/README.md
 create mode 100644 puppetlabs/code/modules/mera/Rakefile
 create mode 100644 puppetlabs/code/modules/mera/appveyor.yml
 create mode 100644 puppetlabs/code/modules/mera/data/common.yaml
 create mode 100644 puppetlabs/code/modules/mera/files/bash_logout
 create mode 100644 puppetlabs/code/modules/mera/files/bashrc_mera
 create mode 100644 puppetlabs/code/modules/mera/hiera.yaml
 create mode 100644 puppetlabs/code/modules/mera/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/mera/metadata.json
 create mode 100644 puppetlabs/code/modules/mera/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/mera/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/present
 create mode 100644 puppetlabs/puppet/auth.conf
 create mode 100644 puppetlabs/puppet/hiera.yaml
 create mode 100644 puppetlabs/puppet/puppet.conf
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_crl.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_crt.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_key.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_pub.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_crl.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_inventory.txt
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_serials
 create mode 100644 puppetlabs/puppet/ssl/ca/inventory.txt
 create mode 100644 puppetlabs/puppet/ssl/ca/serial
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/automation.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/docker.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/certs/ca.pem
 create mode 100644 puppetlabs/puppet/ssl/certs/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/crl.pem
 create mode 100644 puppetlabs/puppet/ssl/private_keys/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/public_keys/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppetserver/conf.d/auth.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/ca.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/global.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/metrics.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/puppetserver.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/web-routes.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/webserver.conf
 create mode 100644 puppetlabs/puppetserver/logback.xml
 create mode 100644 puppetlabs/puppetserver/request-logging.xml
 create mode 100644 puppetlabs/puppetserver/services.d/ca.cfg
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# history 
    1  apt install ansible -y
    2  apt update
    3  yum install ansible python-pip -y
    4  apt install ansible python-pip -y
    5  cd /etc/ansible/
    6  ls
    7  ansible --version]
    8  ansible --version
    9  vim hosts 
   10  echo > hosts 
   11  vim hosts
   12  pip install ansible
   13  pip install ansible --upgrade
   14  pip install pip --upgrade
   15  exit
   16  ansible 'localhost,' -e 'ansible_connection=local' -m ping
   17  ansible all -m ping
   18  ssh 192.168.99.10
   19  vi ansible.cfg 
   20  ansible all -m ping
   21  ansible -i hosts automation -m ping
   22  ansible -i hosts docker -m ping
   23  ansible all -m ping
   24  ansible all -m command -a 'free -h'
   25  ansible all -m command -a 'uname -a'
   26  ansible all -m command -a 'date'
   27  vim batman.yml
   28  vim batman.ym
   29  vim batman.yml 
   30  ansible-playbook batman.yml 
   31  sl
   32  dpkg -l
   33  dpkg -l | grep sl
   34  dpkg -l sl
   35  ansible --version
   36  cd /etc/ansible/
   37  ls
   38  cat ansible.cfg 
   39  vim ansible.cfg 
   40  vim hosts 
   41  cat hosts 
   42  script /tmp/ansible.class
   43  cd /etc/ansible/
   44  vi batman.yml 
   45  ansible-playbook batman.yml 
   46  vi batman.yml 
   47  ansible-playbook batman.yml 
   48  > robin
   49  ansible-playbook batman.yml 
   50  vi batman.yml 
   51  vim batman.yml 
   52  cat batman.yml 
   53  ansible-playbook batman.yml 
   54  script --help
   55  exit
   56  cowsay "hello world"
   57  cowsay -a tux "hello world"
   58  cowsay tux "hello world"
   59  cat /etc/profile | grep PATH
   60  exit
   61  cowsay "Hello World"
   62  cowsay --help
   63  cowsay -f tux "Hello"
   64  exit
   65  ss -lntp
   66  su - root
   67  ansible-playbook batman.yml 
   68  vim ansible.cfg 
   69  ansible-playbook batman.yml 
   70  aptitude moo
   71  su - vagrant
   72  vi batman.yml 
   73  cat batman.retry 
   74  vi batman.yml 
   75  cat batman.yml 
   76  vi batman.yml 
   77  ansible-playbook -e 'username=devops' batman.yml 
   78  vi batman.yml 
   79  getent passwd devops
   80  cat /etc/hosts
   81  ping -c docker
   82  ping -c 2 docker
   83  ping -c 2 automation
   84  vi hulk.yml
   85  cat batman.
   86  cat batman.yml 
   87  cat batman.yml | more
   88  vi hulk.yml
   89  ansible-playbook hulk.yml 
   90  ]exit
   91  exit
   92  cat /tmp/ansible.class 
   93  man script
   94  script -a /tmp/ansible.class
   95  cat /tmp/ansible.class | more
   96  script -a /tmp/ansible.class
   97  cd /etc/ansible/
   98  ansible-playbook batman.yml 
   99  su - root
  100  ls
  101  ss slnt
  102  ss -lntp
  103  script -a /tmp/ansible.class
  104  cat /tmp/ansible.class 
  105  ss -lntp
  106  dpkg -l nginx
  107  dpkg -l apache
  108  dpkg -l apache2
  109  cd /etc/ansible/
  110  ls
  111  cat batman.yml | more
  112  cd /etc/ansible/
  113  cat batman.yml | more 
  114  ls
  115  cd /etc/ansible/
  116  ls
  117  cd roles/
  118  ls
  119  cd ..
  120  vi flash.yml 
  121  cat flash.yml 
  122  cat flash.yml | more
  123  ls
  124  grep *os_ *
  125  grep os_ *
  126  cd ..
  127  grep os_ *
  128  cd ansible/
  129  grep os_ *
  130  ls
  131  cd roles/
  132  grep os_ *
  133  ls
  134  cd asa_noturna/
  135  grep os_ *
  136  cd tasks/
  137  grep os_ *
  138  cat install_nginx.yml | more
  139  cat main.yml | more
  140  cd ..
  141  grep comman *
  142  vi flash.yml 
  143  cd roles/
  144  ls
  145  cd asa_noturna/
  146  ls
  147  cd tasks/
  148  ls
  149  vi main.yml 
  150  cd
  151  dpkg -l *puppet*
  152  service puppet status
  153  cd /tmp/
  154  ls
  155  dpkg -l *puppet*
  156  ls
  157  cd
  158  cd /etc/ansible/
  159  ls
  160  mv hulk.yml flash.yml
  161  ls
  162  dpkg -l nginx
  163  dpkg -l libapache2
  164  dpkg -l libapache2-mod-php7.0
  165  vi flash.yml 
  166  ansible-playbook flash.yml 
  167  vi flash.yml 
  168  ansible-playbook flash.yml 
  169  vi flash.yml 
  170  ls
  171  vi index.php
  172  cat index.php 
  173  ansible-playbook flash.yml 
  174  vi flash.yml 
  175  ls
  176  rm ]
  177  ls
  178  ansible-playbook flash.yml 
  179  vi flash.yml 
  180  ansible-playbook flash.yml 
  181  vi flash.yml 
  182  ansible-playbook flash.yml 
  183  vi flash.yml 
  184  cat index.php 
  185  mkdir roles
  186  vi ansible.cfg 
  187  ls
  188  cd roles/
  189  ls
  190  ansible-galaxy init asa_noturna
  191  ls
  192  ls asa_noturna/
  193  ls -lhr
  194  ls -R
  195  cat asa_noturna/vars/main.yml 
  196  cd asa_noturna/tasks/
  197  ls
  198  vim main.yml 
  199  cat /etc/bash.bashrc 
  200  vim main.yml 
  201  vim prerequisitos.yml
  202  mv pre{requisitos,reqDebian}.yml 
  203  ls
  204  vim prereqRedhat.yml
  205  vim install_nginx.yml
  206  cat main.yml 
  207  vi main.yml 
  208  vim deploy.yml
  209  cd ../templates/
  210  vim index.html
  211  vi ../tasks/deploy.yml 
  212  vim index.html
  213  cat index.html 
  214  cd ../tasks/
  215  ls
  216  vim main.yml 
  217  ls
  218  cat main.yml 
  219  ansible-playbook main.yml 
  220  cat main.yml 
  221  cat install_nginx.yml 
  222  cat deploy.yml 
  223  vi deploy.yml 
  224  ansible-playbook main.yml 
  225  ls
  226  ansible-playbook main.yml 
  227  vi deploy.yml 
  228  ansible-playbook main.yml 
  229  ls
  230  ls -l
  231  ls ../templates/
  232  ls
  233  cd ..
  234  ls
  235  echo "DESAFIO 2"
  236  ansible-galaxy init puppet
  237  ls
  238  cd puppet/
  239  ls
  240  cd tasks/
  241  ls
  242  cat ../../asa_noturna/tasks/deploy.yml 
  243  vi prereqRH.yml
  244  ls
  245  mv prereq{RH}.yml 
  246  mv prereq{RH,}.yml 
  247  ls
  248  vim ins_centos.yml
  249  vim ins_debian.yml
  250  vim ins_centos.yml
  251  ls
  252  vi main.yml 
  253  vim ins_debian.yml
  254  vim ins_centos.yml
  255  ansible-playbook main.yml 
  256  vi main.yml 
  257  ansible-playbook main.yml 
  258  vi main.yml 
  259  ansible-playbook main.yml 
  260  vi main.yml 
  261  vim ins_centos.yml
  262  ansible-playbook main.yml 
  263  puppet --version
  264  exit
  265  cd /etc/ansible/roles/puppet/tasks/
  266  ls
  267  ls -l
  268  vi ins_debian.yml 
  269  vi ins_centos.yml 
  270  ansible-inventory main.yml 
  271  vi main.yml 
  272  vi ins_centos.yml 
  273  ansible-playbook main.yml 
  274  vi ins_debian.yml 
  275  ansible-playbook main.yml 
  276  vi main.yml 
  277  ansible-playbook main.yml 
  278  vi ins_centos.yml 
  279  ansible-playbook main.yml 
  280  vi ins_centos.yml 
  281  ansible-playbook main.yml 
  282  cd /tmp/]
  283  cd /tmp/
  284  ls
  285  cd -
  286  vi ins_centos.yml 
  287  ansible-playbook main.yml 
  288  vi ins_debian.yml 
  289  ansible-playbook main.yml 
  290  vi ins_debian.yml 
  291  ansible-playbook main.yml 
  292  vi main.yml 
  293  ansible-playbook main.yml 
  294  vi main.yml 
  295  ansible-playbook main.yml 
  296  vi prereq.yml 
  297  ansible-playbook main.yml 
  298  su - root
  299  cd
  300  echo "PUPPET"
  301  exit
  302  echo "PUPPET"
  303  puppet resource package ccze
  304  puppet resource package ccze ensure=present
  305  echo "Instalacao do CCZE REALIZADA - MODO AUTONOMO (LOCAL)"
  306  tail -f /var/log/syslog | ccze
  307  echo "color nos Logs"
  308  puppet resource user root
  309  echo CRIAR USUARIO
  310  puppet resource user aquaman
  311  puppet resource user aquaman ensure=present shell=/bin/bash managehome=true
  312  puppet resource user aquaman
  313  puppet resource service nginx
  314  puppet resource service nginx enable=false
  315  echo DESATIVADO DA INICIALIZAO
  316  echo ATIVANDO A INICIALIZACAO
  317  puppet resource service nginx enable=true
  318  echo PARANDO SERVICO
  319  puppet resource service crond
  320  puppet resource service crond ensure=stopped
  321  puppet resource service crond ensure=start
  322  puppet resource service crond ensure=present
  323  puppet resource service crond ensure=started
  324  puppet resource service crond ensure=present
  325  puppet resource service crond ensure=running
  326  puppet resource service cron ensure=running
  327  systemctl status cron
  328  systemctl status crond
  329  puppet resource package puppetserver
  330  echo INSTALANDO PACOTE
  331  puppet resource package puppetserver ensure=present
  332  facter 
  333  facter --help
  334  facter kernel
  335  facter os
  336  facter processors
  337  dmidecode -t processor
  338  dmidecode -t system
  339  cat /proc/cpuinfo 
  340  cd
  341  pwd
  342  vim arthur_cury.pp
  343  puppet apply arthur_cury.pp 
  344  free -h
  345  vim arthur_cury.pp
  346  puppet apply arthur_cury.pp 
  347  vim arthur_cury.pp
  348  puppet apply arthur_cury.pp 
  349  vim arthur_cury.pp
  350  cat /tmp/memfree 
  351  puppet apply arthur_cury.pp 
  352  cat /tmp/memfree 
  353  echo "" > adriano
  354  hash adriano 
  355  md5sum adriano 
  356  echo "i" > adriano
  357  md5sum adriano 
  358  cd /etc/puppetlabs/
  359  ls
  360  cd puppet
  361  ls
  362  echo "Arquivos Relativo ao client"
  363  cat puppet.conf 
  364  cd ../puppetserver/
  365  echo "Arquivos Relativo ao Servidor"
  366  ls
  367  cd conf.d/
  368  ls
  369  cat puppetserver.conf 
  370  cd
  371  cd -
  372  cd ..
  373  ls
  374  echo "PASTA IMPORTANTE"
  375  cd code/
  376  ls
  377  ls environments/
  378  ls modules/
  379  cd modules/
  380  echo "SEMELHANTE O ROLES DO ANSIBLE"
  381  puppet resource package pdk ensure => present
  382  puppet resource package pdk ensure=present
  383  pdk new module base
  384  ls
  385  cd base/
  386  ls
  387  puppet resource service puppetserver ensure=running
  388  ss -lntp
  389  echo "PORTA 8140 - Comunicacao do puppet"
  390  free -h
  391  echo "verificando as chaves"
  392  puppetserver ca ls
  393  puppetserver ca list
  394  cd -
  395  puppetserver ca list
  396  cd -
  397  cd
  398  puppetserver ca list
  399  cd -
  400  puppetserver ca list
  401  cd ..
  402  cd /opt/puppetlabs/puppet/cache/
  403  ls
  404  ls *
  405  ls */*
  406  ls */*/*
  407  puppet resource service puppetserver ensure=running
  408  echo "ASSINAR OS CERTIFICADOS"
  409  puppetserver ca sign --certname docker.salas4linux.com.br 
  410  puppetserver ca list
  411  puppetserver ca sign --all
  412  echo "para revogar algum certificado"
  413  puppetserver ca list
  414  puppetserver ca sign
  415  puppetserver ca sign --list
  416  puppetserver ca sign --helá¹•
  417  puppetserver ca sign --all
  418  puppetserver ca --list --all
  419  puppetserver ca list --all
  420  puppetserver ca revoke --help
  421  puppetserver ca 
  422  puppetserver ca clean --help
  423  echo "Para remover os certificados #puppetserver ca clean -all"
  424  cd /etc/puppetlabs/code/modules/
  425  ls
  426  ls -l
  427  cd base/
  428  ls
  429  ls -
  430  ls -l
  431  cd files/
  432  vim puppet.conf
  433  cd ..
  434  cd manifests/
  435  ls
  436  vim init.pp
  437  cat ../files/puppet.conf 
  438  vim init.pp
  439  cd ..
  440  cd .
  441  cd ..
  442  ls
  443  cd environments/
  444  ls
  445  cd ..
  446  cd modules/base/
  447  ls
  448  ls files/
  449  cat files/puppet.conf 
  450  cat manifests/init.pp 
  451  ls]
  452  ls
  453  cd ..
  454  ls
  455  cd environments/
  456  ls
  457  cd production/
  458  ls
  459  cat environment.conf 
  460  cd manifests/
  461  ls
  462  echo "onde cria as playbooks"
  463  vim site.pp
  464  cd ..
  465  ls
  466  cd ..
  467  ls
  468  cd ..
  469  ls
  470  cd modules/
  471  ls
  472  cd base/
  473  ls
  474  cd manifests/
  475  ls
  476  vi init.pp 
  477  ss -lntp
  478  ls
  479  cat init.pp 
  480  cd ..
  481  ls
  482  cd -
  483  cat init.pp 
  484  vim init.pp 
  485  cd ..
  486  cd files/
  487  ls
  488  cat puppet.conf 
  489  vim puppet.conf 
  490  cd ..
  491  cd manifests/
  492  ls
  493  vi init.pp 
  494  cd ..
  495  cd files/
  496  ls
  497  vi puppet.conf 
  498  cd ..
  499  ls
  500  cd manifests/
  501  ls
  502  cd ..
  503  ls
  504  cd ..
  505  ls
  506  cd environments/
  507  ls
  508  cd production/
  509  ls
  510  cd manifests/
  511  ls
  512  cat site.pp 
  513  cd ..
  514  ls
  515  cd modules/
  516  ls
  517  cd base/
  518  ls
  519  cd files/
  520  ls
  521  cat puppet.conf 
  522  cd ..
  523  ls
  524  cd base/
  525  ls
  526  cd manifests/
  527  Ã§s
  528  ls
  529  cat init.pp 
  530  ls
  531  vi init.pp 
  532  tail /var/log/syslog 
  533  tail -f /var/log/syslog 
  534  puppet agent -t --server devops.salas4linux.com.br
  535  tail -f /var/log/syslog 
  536  ip a l
  537  tcpdump -i enp0s8 host 192.168.99.30
  538  ls
  539  cd ..
  540  ls
  541  cd files/
  542  s
  543  ls
  544  vi puppet.conf 
  545  cd ..
  546  ls
  547  pdk new module mera
  548  echo "criando modulos"
  549  cd mera/
  550  ls
  551  cd files/
  552  cp ~/.bashrc bashrc_mera
  553  ls
  554  vim bashrc_mera 
  555  ls
  556  vim bash_logout
  557  cat bash_logout 
  558  cd ../manifests/
  559  vim init.pp
  560  cd ..
  561  ls
  562  cd ..
  563  ls
  564  cd environments/production/
  565  ls
  566  cd manifests/
  567  ls
  568  vim site.pp 
  569  ls
  570  cd ../../../modules/mera/files/
  571  ls
  572  cd ..
  573  ls
  574  cd environments/
  575  ls
  576  cd ..
  577  cd modules/
  578  ls
  579  cd mera/
  580  ls
  581  cd manifests/
  582  ls
  583  vi init.pp 
  584  tail -f /var/log/syslog 
  585  tail -n 150 /var/log/syslog  | more
  586  puppet agent -t --server devops.salas4linux.com.br
  587  cd
  588  exit
  589  cd /etc/puppetlabs/code/modules/mera/files/
  590  ls
  591  vi bash_logout 
  592  su - aqualad
  593  cd /etc/puppetlabs/code/
  594  ls
  595  cd modules/mera/manifests/
  596  ls
  597  vi init.pp 
  598  cd ..
  599  pdk new module arraia_negra
  600  cd arraia_negra/
  601  cd manifests/
  602  vi init.pp
  603  ls
  604  ls -l
  605  cd ../../../environments/production/manifests/
  606  vi site.pp 
  607  cd ..
  608  cd..
  609  cd ..
  610  cd modules/
  611  ls
  612  pdk new module docker
  613  cd docker/manifests/
  614  ls
  615  vi init.pp
  616  cd ../../../environments/production/manifests/
  617  ls
  618  vi site.pp 
  619  clear
  620  cd -
  621  ls
  622  vi init.pp 
  623  cd /etc/puppetlabs/code/modules/docker/manifests/
  624  ls
  625  cd ../files/
  626  ls
  627  cd ..
  628  ls
  629  cd manifests/
  630  ls
  631  cat init.pp 
  632  vi init.pp 
  633  systemctl status puppetserver.service 
  634  systemctl restart puppetserver.service 
  635  cat init.pp
  636  vi init.pp 
  637  vim init.pp 
  638  ls
  639  cat init.pp 
  640  vim init.pp 
  641  systemctl stop puppetserver.service 
  642  systemctl start puppetserver.service 
  643  vim init.pp 
  644  cd ../../../environments/production/manifests/
  645  cat site.pp 
  646  ls
  647  cd -
  648  cd ../../arraia_negra/manifests/
  649  cat init.pp 
  650  echo "GIT"
  651  mkdir kenobi
  652  cd kenobi/
  653  git init
  654  cd .git/
  655  ls
  656  ls -l
  657  cat config 
  658  cat description 
  659  cat HEAD 
  660  cd ..
  661  pwd
  662  git config user.name "Adriano CS"
  663  git config user.email "adriano.csoares@gmail.com"
  664  cat .git/config 
  665  echo "esta foi a forma local"
  666  echo "forma global"
  667  git config -global user.name = "Adriano CS"
  668  git config --global user.name = "Adriano CS"
  669  cat ~/.gitconfig 
  670  git config --global user.name = "Adriano CS"
  671  cat ~/.gitconfig 
  672  vim README.md
  673  git config --global user.name "Adriano CS"
  674  git config --global user.name == "Adriano CS"
  675  cat ~/.gitconfig 
  676  vim Padme.sh
  677  git config --global user.name --add "Adriano CS"
  678  cat ~/.gitconfig 
  679  git config --global user.name --"Adriano CS"
  680  git config --global user.name "Adriano CS"
  681  git config --global user.name = "Adriano CS"
  682  cat ~/.gitconfig 
  683  git config --global user.email = "Adriano CS"
  684  cat ~/.gitconfig 
  685  git status
  686  git add README.md 
  687  git status
  688  git commit -m "Arquivo para explicar o Repositorio"
  689  git status
  690  git add Padme.sh 
  691  git commit -m "Script para verificar a comunicao"
  692  bash Padme.sh 
  693  vim Padme.sh
  694  bash Padme.sh 
  695  ls
  696  git status
  697  git add Padme.sh 
  698  git commit -m "Script para verificar a comunicao - Correcao do Script"
  699  git status
  700  bash Padme.sh 
  701  vim .git/info/exclude 
  702  git config --global
  703  git add .
  704  git status
  705  ls
  706  git log
  707  git log --graph 
  708  git log --oneline 
  709  vi README.md 
  710  git add README.md 
  711  git commit -m "Duplicacao de linha"
  712  git log --oneline 
  713  git revert e2e1cf6
  714  cat README.md 
  715  git log --oneline 
  716  git revert b358ddc
  717  git log --oneline 
  718  cat README.md 
  719  git revert 1d19648
  720  cat README.md 
  721  git log --oneline 
  722  git remote -v
  723  git remote add infraAgil https://github.com/Adrianocs/InfraAgil.git
  724  git remote -v
  725  git push infraAgil master
  726  git pull infraAgil master 
  727  git status
  728  bash Padme.sh 
  729  cat Padme.sh 
  730  git log --oneline 
  731  git checkout -b dev
  732  git branch 
  733  git checkout master 
  734  git branch 
  735  git checkout dev
  736  git branch 
  737  ls
  738  vi Padme.sh 
  739  vim README.md 
  740  git status 
  741  git add .
  742  git commit -m "AlteraÃ§Ã£o BRANCH DEV"
  743  git status
  744  cat Padme.sh 
  745  git checkout master 
  746  cat Padme.sh 
  747  git log --graph 
  748  git push infraAgil dev
  749  git branch 
  750  vim Padme.sh 
  751  git add Padme.sh 
  752  git commit -m "Espaco"
  753  git status
  754  git diff master dev
  755  git status
  756  git merge master dev
  757  git status
  758  git add Padme.sh 
  759  git commit -m "Teste"
  760  git merge master dev
  761  git status
  762  git log --oneline 
  763  git branch 
  764  cat Padme.sh 
  765  cat README.md 
  766  git revert 6c6c957
  767  git status
  768  git branch 
  769  git log --oneline 
  770  git branch dev
  771  git checkout dev
  772  git log --oneline 
  773  cd /etc/ansible/roles/
  774  ls
  775  echo "INSTALANDO GITLAB"
  776  cd ..
  777  vim gitlab.yml
  778  ls
  779  cat gitlab.yml 
  780  vim gitlab.yml
  781  ansible-playbook gitlab.yml 
  782  vim gitlab.yml
  783  ansible-playbook gitlab.yml 
  784  cd /etc/gitlab/
  785  ls
  786  vim gitlab.rb 
  787  ss -lntp
  788  service nginx stop
  789  systemctl disable nginx
  790  iptables -nL
  791  systemctl stop nginx puppet.service 
  792  ss -lntp
  793  free -h
  794  cd
  795  gitlab-ctl reconfigure
  796  gitlab-ctl status
  797  ss -lntp
  798  cat .ssh/authorized_keys 
  799  mkdir luke
  800  cd luke/
  801  git init
  802  git remote add dark git@192.168.99.10:root/darth-vader.git
  803  git remote -v
  804  vim Sith.txt
  805  git status
  806  git add Sith.txt 
  807  git status
  808  git commit -m "Comentario Negro..."
  809  git push dark master 
  810  ls
  811  cd
  812  cd /etc/ansible/
  813  ls
  814  ls -l
  815  vim rundeck.yml
  816  ls
  817  cd
  818  ls
  819  mkdir aulas
  820  ls
  821  cat memfree 
  822  ls
  823  cp * aulas/
  824  cp -r kenobi aulas/
  825  cd aulas/
  826  cd ..
  827  mv aulas aulas_devops
  828  cd aulas_devops/
  829  git init
  830  ls
  831  git status
  832  git add .
  833  git status
  834  git commit -m "Aulas do DEVOPS"
  835  cd /etc/ansible/
  836  ls
  837  vim rundeck.yml
  838  ansible-playbook rundeck.yml 
  839  vim rundeck.yml
  840  ls
  841  cd ..
  842  ls
  843  cd ansible/
  844  cd ..
  845  cp -r ansible /root/aulas_devops/
  846  cp -r puppetlabs /root/aulas_devops/
  847  cd ansible/
  848  ls
  849  vi rundeck.yml 
  850  ansible-playbook rundeck.yml 
  851  cd 
  852  cd aulas_devops/
  853  ls
  854  git status
  855  git add .
  856  git commit -m "Todos as aulas devops ansible puppet"
  857  history 
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# history > history.log
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# vi history.log 
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"history.log" 858L, 19965C[>c[1;5H1  apt install ansible -y
    2  apt update
    3  yum install ansible python-pip -y
    4  apt install ansible python-pip -y
    5  cd /etc/ansible/
    6  ls
    7  ansible --version]
    8  ansible --version
    9  vim hosts
   10  echo > hosts
   11  vim hosts
   12  pip install ansible
   13  pip install ansible --upgrade
   14  pip install pip --upgrade
   15  exit
   16  ansible 'localhost,' -e 'ansible_connection=local' -m ping
   17  ansible all -m ping
   18  ssh 192.168.99.10
   19  vi ansible.cfg
   20  ansible all -m ping
   21  ansible -i hosts automation -m ping
   22  ansible -i hosts docker -m ping
   23  ansible all -m ping
   24  ansible all -m command -a 'free -h'
   25  ansible all -m command -a 'uname -a'
   26  ansible all -m command -a 'date'
   27  vim batman.yml
   28  vim batman.ym
   29  vim batman.yml
   30  ansible-playbook batman.yml
   31  sl
   32  dpkg -l
   33  dpkg -l | grep sl
   34  dpkg -l sl
   35  ansible --version
   36  cd /etc/ansible/
   37  ls
   38  cat ansible.cfg
   39  vim ansible.cfg
   40  vim hosts
   41  cat hosts
   42  script /tmp/ansible.class
   43  cd /etc/ansible/[44;153H1,5[11CTop[1;5H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;5H[?12l[?25h[?25l[44;153H3[3;5H[?12l[?25h[?25l[44;153H4[4;5H[?12l[?25h[?25l[44;1H[K[44;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[44;1H[K[44;1H[?1l>[?12l[?25h[?1049l]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# vi history.log history > history.log[Kgit commit -m "Todos as aulas devops ansible puppet"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cadd .[Kstatus
On branch master
Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31mhistory.log[m

nothing added to commit but untracked files present (use "git add" to track)
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git statusvi history.log history > history.log[Kgit commit -m "Todos as aulas devops ansible puppet"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cadd .[K
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git add .statusvi history.log history > history.log[Kgit commit -m "Todos as aulas devops ansible puppet"[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[KHistory"
[master aa764b1] History
 1 file changed, 858 insertions(+)
 create mode 100644 history.log
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git status
On branch master
nothing to commit, working directory clean
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# gt[Kit r[K
add                  bundle               describe             get-tar-commit-id    merge                reflog               rm                   subtree 
am                   checkout             diff                 grep                 mergetool            relink               shortlog             tag 
annotate             cherry               difftool             help                 mv                   remote               show                 verify-commit 
apply                cherry-pick          fetch                imap-send            name-rev             repack               show-branch          whatchanged 
archive              clean                filter-branch        init                 notes                replace              stage                worktree 
bisect               clone                format-patch         instaweb             pull                 request-pull         stash                
blame                commit               fsck                 interpret-trailers   push                 reset                status               
branch               config               gc                   log                  rebase               revert               submodule            
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git re[K[Kpush [K[K[K[K[Kremote add https://github.com/Adrianocs/InfraAgil
usage: git remote add [<options>] <name> <url>

    -f, --fetch           fetch the remote branches
    --tags                import all tags and associated objects when fetching
                          or do not fetch any tag at all (--no-tags)
    -t, --track <branch>  branch(es) to track
    -m, --master <branch>
                          master branch
    --mirror[=<push|fetch>]
                          set up remote as a mirror to push to or fetch from

]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git remote add https://github.com/Adrianocs/InfraAgil^C
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd ..
]0;root@devops: ~root@devops:~# cd ..git remote add https://github.com/Adrianocs/InfraAgil https://github.com/Adrianocs/InfraAgil https://github.com/Adrianocs/InfraAgil[1@a[1@u[11@las_devops/[1P
fatal: Not a git repository (or any of the parent directories): .git
]0;root@devops: ~root@devops:~# cd [K[K[Kcd aulas_devops/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# ls
adriano  [0m[01;34mansible[0m  arthur_cury.pp  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# lscd aulas_devops/git remote add aulas_devops  https://github.com/Adrianocs/InfraAgil[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccd aulas_devops/[Kls[K[Kmkdir aulas_[K
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# mkdir aulasls[Kcd aulas_devops/git remote add aulas_devops  https://github.com/Adrianocs/InfraAgil
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git push aulas_devops master
Username for 'https://github.com': adriano.csoares@gmail.com
Password for 'https://adriano.csoares@gmail.com@github.com': 
To https://github.com/Adrianocs/InfraAgil
 ! [rejected]        master -> master (fetch first)
error: failed to push some refs to 'https://github.com/Adrianocs/InfraAgil'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# l[Kmkdir aulas
mkdir: cannot create directory â€˜aulasâ€™: File exists
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# ls
adriano  [0m[01;34mansible[0m  arthur_cury.pp  [01;34maulas[0m  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# mv adriano aulas/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# mv ansible/[K[K[K[K[K[K[K[K[K[K[Kcp -r ansible/[K[K[K[K[K[K[K[K[K[K*[K[K* aulas/
cp: omitting directory 'ansible'
cp: omitting directory 'aulas'
cp: omitting directory 'kenobi'
cp: omitting directory 'puppetlabs'
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cp -r ansible/[K aulas/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cp -r ansible aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/k aulas/e aulas/nobi/ aulas/[1P aulas/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cp -r kenobi aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/[1P aulas/p aulas/u aulas/p aulas/petlabs/ aulas/[1P aulas/
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd aulas/
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# ls
adriano  [0m[01;34mansible[0m  arthur_cury.pp  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# git init
Initialized empty Git repository in /root/aulas_devops/aulas/.git/
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# ls
adriano  [0m[01;34mansible[0m  arthur_cury.pp  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# cd ..
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd aulas/
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# git status
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31madriano[m
	[31mansible/[m
	[31marthur_cury.pp[m
	[31mhistory.log[m
	[31mkenobi/[m
	[31mmemfree[m
	[31mpuppetlabs/[m

nothing added to commit but untracked files present (use "git add" to track)
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# git status[K[K[K[K[K[Kadd .
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# git commit -m "De novo"
[master (root-commit) 528071c] De novo
 158 files changed, 5833 insertions(+)
 create mode 100644 adriano
 create mode 100644 ansible/ansible.cfg
 create mode 100644 ansible/batman.retry
 create mode 100644 ansible/batman.yml
 create mode 100644 ansible/flash.yml
 create mode 100644 ansible/gitlab.retry
 create mode 100644 ansible/gitlab.yml
 create mode 100644 ansible/hosts
 create mode 100644 ansible/index.php
 create mode 100644 ansible/robin
 create mode 100644 ansible/roles/asa_noturna/README.md
 create mode 100644 ansible/roles/asa_noturna/defaults/main.yml
 create mode 100644 ansible/roles/asa_noturna/handlers/main.yml
 create mode 100644 ansible/roles/asa_noturna/meta/main.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/deploy.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/install_nginx.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/main.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/prereqDebian.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/prereqRedhat.yml
 create mode 100644 ansible/roles/asa_noturna/templates/index.html
 create mode 100644 ansible/roles/asa_noturna/tests/inventory
 create mode 100644 ansible/roles/asa_noturna/tests/test.yml
 create mode 100644 ansible/roles/asa_noturna/vars/main.yml
 create mode 100644 ansible/roles/puppet/README.md
 create mode 100644 ansible/roles/puppet/defaults/main.yml
 create mode 100644 ansible/roles/puppet/handlers/main.yml
 create mode 100644 ansible/roles/puppet/meta/main.yml
 create mode 100644 ansible/roles/puppet/tasks/ins_centos.yml
 create mode 100644 ansible/roles/puppet/tasks/ins_debian.yml
 create mode 100644 ansible/roles/puppet/tasks/main.retry
 create mode 100644 ansible/roles/puppet/tasks/main.yml
 create mode 100644 ansible/roles/puppet/tasks/prereq.yml
 create mode 100644 ansible/roles/puppet/tests/inventory
 create mode 100644 ansible/roles/puppet/tests/test.yml
 create mode 100644 ansible/roles/puppet/vars/main.yml
 create mode 100644 ansible/rundeck.retry
 create mode 100644 ansible/rundeck.yml
 create mode 100644 arthur_cury.pp
 create mode 100644 history.log
 create mode 160000 kenobi
 create mode 100644 memfree
 create mode 100644 puppetlabs/code/environments/production/environment.conf
 create mode 100644 puppetlabs/code/environments/production/hiera.yaml
 create mode 100644 puppetlabs/code/environments/production/manifests/site.pp
 create mode 100644 puppetlabs/code/modules/arraia_negra/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitattributes
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitignore
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.pdkignore
 create mode 100644 puppetlabs/code/modules/arraia_negra/.rspec
 create mode 100644 puppetlabs/code/modules/arraia_negra/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.travis.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.yardopts
 create mode 100644 puppetlabs/code/modules/arraia_negra/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/arraia_negra/Gemfile
 create mode 100644 puppetlabs/code/modules/arraia_negra/README.md
 create mode 100644 puppetlabs/code/modules/arraia_negra/Rakefile
 create mode 100644 puppetlabs/code/modules/arraia_negra/appveyor.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/data/common.yaml
 create mode 100644 puppetlabs/code/modules/arraia_negra/hiera.yaml
 create mode 100644 puppetlabs/code/modules/arraia_negra/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/arraia_negra/metadata.json
 create mode 100644 puppetlabs/code/modules/arraia_negra/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/base/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/base/.gitattributes
 create mode 100644 puppetlabs/code/modules/base/.gitignore
 create mode 100644 puppetlabs/code/modules/base/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/base/.pdkignore
 create mode 100644 puppetlabs/code/modules/base/.rspec
 create mode 100644 puppetlabs/code/modules/base/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/base/.travis.yml
 create mode 100644 puppetlabs/code/modules/base/.yardopts
 create mode 100644 puppetlabs/code/modules/base/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/base/Gemfile
 create mode 100644 puppetlabs/code/modules/base/README.md
 create mode 100644 puppetlabs/code/modules/base/Rakefile
 create mode 100644 puppetlabs/code/modules/base/appveyor.yml
 create mode 100644 puppetlabs/code/modules/base/data/common.yaml
 create mode 100644 puppetlabs/code/modules/base/files/puppet.conf
 create mode 100644 puppetlabs/code/modules/base/hiera.yaml
 create mode 100644 puppetlabs/code/modules/base/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/base/metadata.json
 create mode 100644 puppetlabs/code/modules/base/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/base/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/docker/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/docker/.gitattributes
 create mode 100644 puppetlabs/code/modules/docker/.gitignore
 create mode 100644 puppetlabs/code/modules/docker/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/docker/.pdkignore
 create mode 100644 puppetlabs/code/modules/docker/.rspec
 create mode 100644 puppetlabs/code/modules/docker/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/docker/.travis.yml
 create mode 100644 puppetlabs/code/modules/docker/.yardopts
 create mode 100644 puppetlabs/code/modules/docker/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/docker/Gemfile
 create mode 100644 puppetlabs/code/modules/docker/README.md
 create mode 100644 puppetlabs/code/modules/docker/Rakefile
 create mode 100644 puppetlabs/code/modules/docker/appveyor.yml
 create mode 100644 puppetlabs/code/modules/docker/data/common.yaml
 create mode 100644 puppetlabs/code/modules/docker/hiera.yaml
 create mode 100644 puppetlabs/code/modules/docker/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/docker/metadata.json
 create mode 100644 puppetlabs/code/modules/docker/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/docker/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/mera/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/mera/.gitattributes
 create mode 100644 puppetlabs/code/modules/mera/.gitignore
 create mode 100644 puppetlabs/code/modules/mera/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/mera/.pdkignore
 create mode 100644 puppetlabs/code/modules/mera/.rspec
 create mode 100644 puppetlabs/code/modules/mera/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/mera/.travis.yml
 create mode 100644 puppetlabs/code/modules/mera/.yardopts
 create mode 100644 puppetlabs/code/modules/mera/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/mera/Gemfile
 create mode 100644 puppetlabs/code/modules/mera/README.md
 create mode 100644 puppetlabs/code/modules/mera/Rakefile
 create mode 100644 puppetlabs/code/modules/mera/appveyor.yml
 create mode 100644 puppetlabs/code/modules/mera/data/common.yaml
 create mode 100644 puppetlabs/code/modules/mera/files/bash_logout
 create mode 100644 puppetlabs/code/modules/mera/files/bashrc_mera
 create mode 100644 puppetlabs/code/modules/mera/hiera.yaml
 create mode 100644 puppetlabs/code/modules/mera/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/mera/metadata.json
 create mode 100644 puppetlabs/code/modules/mera/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/mera/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/present
 create mode 100644 puppetlabs/puppet/auth.conf
 create mode 100644 puppetlabs/puppet/hiera.yaml
 create mode 100644 puppetlabs/puppet/puppet.conf
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_crl.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_crt.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_key.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_pub.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_crl.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_inventory.txt
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_serials
 create mode 100644 puppetlabs/puppet/ssl/ca/inventory.txt
 create mode 100644 puppetlabs/puppet/ssl/ca/serial
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/automation.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/docker.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/certs/ca.pem
 create mode 100644 puppetlabs/puppet/ssl/certs/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/crl.pem
 create mode 100644 puppetlabs/puppet/ssl/private_keys/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/public_keys/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppetserver/conf.d/auth.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/ca.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/global.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/metrics.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/puppetserver.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/web-routes.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/webserver.conf
 create mode 100644 puppetlabs/puppetserver/logback.xml
 create mode 100644 puppetlabs/puppetserver/request-logging.xml
 create mode 100644 puppetlabs/puppetserver/services.d/ca.cfg
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# cd ..
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd ..git commit -m "De novo"add .[Kstatus[1Pcd aulas/[4P..[3Plsgit initls[Kcd aulas/[14@p -r puppetlabs[C[C[C[C[C[C[C[4Pkenobi[C[C[C[C[C[C[C[1@ansible[C[C[C[C[C[C[C[9P*[C[C[C[C[C[C[C[6@mv adriano[C[C[C[C[C[C[Cls[Kmkdir aulasgit push aulas_devops masterremote add aulas_devops  https://github.com/Adrianocs/InfraAgil[1P[1P[1P[1P[1P[1P[1P[C[1Phttps://github.com/Adrianocs/InfraAgil
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git remote add aulas https://github.com/Adrianocs/InfraAgil[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccd ..[Kgit commit -m "De novo"add .[Kstatus[1Pcd aulas/[4P..[3Plsgit initls[Kcd aulas/[14@p -r puppetlabs[C[C[C[C[C[C[C[4Pkenobi[C[C[C[C[C[C[C[1@ansible[C[C[C[C[C[C[C[1Pkenobi[C[C[C[C[C[C[C[4@puppetlabs[C[C[C[C[C[C[C[14Pd[C[C[C[C[C[C[C[14@p -r puppetlabs[C[C[C[C[C[C[C[4Pkenobi[C[C[C[C[C[C[C[1@ansible[C[C[C[C[C[C[C[9P*[C[C[C[C[C[C[C[6@mv adriano[C[C[C[C[C[C[Cls[Kmkdir aulasgit push aulas_devops master[1P master[1P master[1P master[1P master[1P master[1P master[1P master
Username for 'https://github.com': adriano.csoares@gmail.com
Password for 'https://adriano.csoares@gmail.com@github.com': 
To https://github.com/Adrianocs/InfraAgil
 ! [rejected]        master -> master (fetch first)
error: failed to push some refs to 'https://github.com/Adrianocs/InfraAgil'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git push aulas master[Kls
[0m[01;34mansible[0m  arthur_cury.pp  [01;34maulas[0m  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git au[K[Kstatus
On branch master
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	[31mdeleted:    adriano[m

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31maulas/[m

no changes added to commit (use "git add" and/or "git commit -a")
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git status[K[K[K[K[K[Kadd [K[K[K[Kcomit -m "teste"
git: 'comit' is not a git command. See 'git --help'.

Did you mean this?
	commit
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git comit -m "teste"[10Pstatus[K[K[K[K[K[Kadd .
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git add .comit -m "teste"
git: 'comit' is not a git command. See 'git --help'.

Did you mean this?
	commit
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git status
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

	[32mdeleted:    adriano[m
	[32mnew file:   aulas[m

]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git statuscomit -m "teste"[1@m
[master fa8d79a] teste
 2 files changed, 1 insertion(+), 1 deletion(-)
 delete mode 100644 adriano
 create mode 160000 aulas
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# git commit -m "teste"[11Pstatuscomit -m "teste"add .[Kcomit -m "teste"[10Pstatusls[Kgit push aulas master
Username for 'https://github.com': adrianosoare     .csoares@gmail.com
Password for 'https://adriano.csoares@gmail.com@github.com': 
To https://github.com/Adrianocs/InfraAgil
 ! [rejected]        master -> master (fetch first)
error: failed to push some refs to 'https://github.com/Adrianocs/InfraAgil'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd aulas/
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# cd aulas/git push aulas mastercommit -m "teste"push aulas master
fatal: 'aulas' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# cd ..
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# ls
[0m[01;34mansible[0m  arthur_cury.pp  [01;34maulas[0m  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devopsroot@devops:~/aulas_devops# cd aulas/
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# ls
adriano  [0m[01;34mansible[0m  arthur_cury.pp  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# git status 
On branch master
nothing to commit, working directory clean
]0;root@devops: ~/aulas_devops/aulasroot@devops:~/aulas_devops/aulas# cd /etc/ansible/
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ls
ansible.cfg  batman.retry  batman.yml  flash.yml  gitlab.retry  gitlab.yml  hosts  index.php  robin  [0m[01;34mroles[0m  rundeck.retry  rundeck.yml
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ansible-playbook rundeck.yml ^C
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ^C
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim rundeck.yml 
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 18L, 373C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://rep.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[9;7H[36mregister[m[35m:[m result[11;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[12;7H[36mdebug[m[35m:[m[13;9H[36mvar[m[35m:[m result.stdout[15;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[16;7H[36myum[m[35m:[m[17;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[18;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;1H[K[44;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[44;1H[K[44;1H[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim rundeck.yml ls[Kvim rundeck.yml [Kansible-playbook rundeck.yml 
 ___________________________
< PLAY [INSTALACAO RUNDECK] >
 ---------------------------
  \
   \   \_\_    _/_/
    \      \__/
           (oo)\_______
           (__)\       )\/\
               ||----w |
               ||     ||

 ________________________
< TASK [Gathering Facts] >
 ------------------------
      \                    / \  //\
       \    |\___/|      /   \//  \\
            /0  0  \__  /    //  | \ \    
           /     /  \/_/    //   |  \  \  
           @_^_@'/   \/_   //    |   \   \ 
           //_^_/     \/_ //     |    \    \
        ( //) |        \///      |     \     \
      ( / /) _|_ /   )  //       |      \     _\
    ( // /) '/,_ _ _/  ( ; -.    |    _ _\.-~        .-~~~^-.
  (( / / )) ,-{        _      `-.|.-~-.           .~         `.
 (( // / ))  '/\      /                 ~-. _ .-~      .-~^-.  \
 (( /// ))      `.   {            }                   /      \  \
  (( / ))     .----~-.\        \-'                 .~         \  `. \^-.
             ///.----..>        \             _ -~             `.  ^-`  ^-_
               ///-._ _ _ _ _ _ _}^ - - - - ~                     ~-- ,.-~
                                                                  /.-~

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 __________________________
< TASK [Add Repos Rundeck] >
 --------------------------
   \
    \
        .--.
       |o_o |
       |:_/ |
      //   \ \
     (|     | )
    /'\_   _/`\
    \___)=(___/


[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;31mfatal: [192.168.99.30]: FAILED! => {"changed": false, "msg": "Failure downloading http://rep.rundeck.org/latest.rpm, Request failed: <urlopen error [Errno -2] Name or service not known>"}[0m
	to retry, use: --limit @/etc/ansible/rundeck.retry
 ____________
< PLAY RECAP >
 ------------
  \
   \   \_\_    _/_/
    \      \__/
           (oo)\_______
           (__)\       )\/\
               ||----w |
               ||     ||

[0;31m192.168.99.30[0m              : [0;32mok=1   [0m changed=0    unreachable=0    [0;31mfailed=1   [0m

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# ansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[13Pvim[C[C[C[C[C[C[C[C[C[C[C[C[C
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 18L, 373C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://rep.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[9;7H[36mregister[m[35m:[m result[11;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[12;7H[36mdebug[m[35m:[m[13;9H[36mvar[m[35m:[m result.stdout[15;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[16;7H[36myum[m[35m:[m[17;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[18;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;153H2[2;1H[?12l[?25h[?25l[44;153H3[3;1H[?12l[?25h[?25l[44;153H4[4;1H[?12l[?25h[?25l[44;153H5[5;1H[?12l[?25h[?25l[44;155H2[5;2H[?12l[?25h[?25l[44;153H6[6;2H[?12l[?25h[?25l[44;155H3[6;3H[?12l[?25h[?25l[44;155H4[6;4H[?12l[?25h[?25l[44;155H5[6;5H[?12l[?25h[?25l[44;155H6[6;6H[?12l[?25h[?25l[44;155H7[6;7H[?12l[?25h[?25l[44;155H8[6;8H[?12l[?25h[?25l[44;155H9[6;9H[?12l[?25h[?25l[44;155H10[6;10H[?12l[?25h[?25l[44;153H7[7;10H[?12l[?25h[?25l[44;156H1[7;11H[?12l[?25h[?25l[44;156H2[7;12H[?12l[?25h[?25l[44;156H3[7;13H[?12l[?25h[?25l[44;156H4[7;14H[?12l[?25h[?25l[44;156H5[7;15H[?12l[?25h[?25l[44;156H6[7;16H[?12l[?25h[?25l[44;156H7[7;17H[?12l[?25h[?25l[44;156H8[7;18H[?12l[?25h[?25l[44;156H9[7;19H[?12l[?25h[?25l[44;155H20[7;20H[?12l[?25h[?25l[44;156H1[7;21H[?12l[?25h[?25l[44;156H2[7;22H[?12l[?25h[?25l[44;156H3[7;23H[?12l[?25h[?25l[44;156H4[7;24H[?12l[?25h[?25l[44;156H5[7;25H[?12l[?25h[?25l[44;1H[1m-- INSERT --[m[44;13H[K[44;153H7,25[10CAll[7;25H[?12l[?25h[?25lo.rundeck.org/latest.rpm[44;156H6[7;26H[?12l[?25h[44;1H[K[7;25H[?25l[44;153H7,25[10CAll[7;25H[?12l[?25h[?25l[44;153H[K[44;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"rundeck.yml" 18L, 374C written
[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# vim rundeck.yml [13@ansible-playbook[C[C[C[C[C[C[C[C[C[C[C[C[C
 ___________________________
< PLAY [INSTALACAO RUNDECK] >
 ---------------------------
  \                                  ,+*^^*+___+++_
   \                           ,*^^^^              )
    \                       _+*                     ^**+_
     \                    +^       _ _++*+_+++_,         )
              _+^^*+_    (     ,+*^ ^          \+_        )
             {       )  (    ,(    ,_+--+--,      ^)      ^\
            { (@)    } f   ,(  ,+-^ __*_*_  ^^\_   ^\       )
           {:;-/    (_+*-+^^^^^+*+*<_ _++_)_    )    )      /
          ( /  (    (        ,___    ^*+_+* )   <    <      \
           U _/     )    *--<  ) ^\-----++__)   )    )       )
            (      )  _(^)^^))  )  )\^^^^^))^*+/    /       /
          (      /  (_))_^)) )  )  ))^^^^^))^^^)__/     +^^
         (     ,/    (^))^))  )  ) ))^^^^^^^))^^)       _)
          *+__+*       (_))^)  ) ) ))^^^^^^))^^^^^)____*^
          \             \_)^)_)) ))^^^^^^^^^^))^^^^)
           (_             ^\__^^^^^^^^^^^^))^^^^^^^)
             ^\___            ^\__^^^^^^))^^^^^^^^)\\
                  ^^^^^\uuu/^^\uuu/^^^^\^\^\^\^\^\^\^\
                     ___) >____) >___   ^\_\_\_\_\_\_\)
                    ^^^//\\_^^//\\_^       ^(\_\_\_\)
                      ^^^ ^^ ^^^ ^

 ________________________
< TASK [Gathering Facts] >
 ------------------------
  \
   \ ,   _ ___.--'''`--''//-,-_--_.
      \`"' ` || \\ \ \\/ / // / ,-\\`,_
     /'`  \ \ || Y  | \|/ / // / - |__ `-,
    /@"\  ` \ `\ |  | ||/ // | \/  \  `-._`-,_.,
   /  _.-. `.-\,___/\ _/|_/_\_\/|_/ |     `-._._)
   `-'``/  /  |  // \__/\__  /  \__/ \
        `-'  /-\/  | -|   \__ \   |-' |
          __/\ / _/ \/ __,-'   ) ,' _|'
         (((__/(((_.' ((___..-'((__,'

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 __________________________
< TASK [Add Repos Rundeck] >
 --------------------------
  \     .    _  .    
   \    |\_|/__/|    
       / / \/ \  \  
      /__|O||O|__ \ 
     |/_ \_/\_/ _\ |  
     | | (____) | ||  
     \/\___/\__/  // 
     (_/         ||
      |          ||
      |          ||\   
       \        //_/  
        \______//
       __ || __||
      (____(____)

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;33mchanged: [192.168.99.30][0m
 ____________________________
< TASK [Mostrando Resultado] >
 ----------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||--WWW |
                ||     ||

[0;32mok: [192.168.99.30] => {[0m
[0;32m    "result.stdout": "VARIABLE IS NOT DEFINED!"[0m
[0;32m}[0m
 ___________________________
< TASK [Instalando Rundeck] >
 ---------------------------
    \
     \
                                   .::!!!!!!!:.
  .!!!!!:.                        .:!!!!!!!!!!!!
  ~~~~!!!!!!.                 .:!!!!!!!!!UWWW$$$ 
      :$$NWX!!:           .:!!!!!!XUWW$$$$$$$$$P 
      $$$$$##WX!:      .<!!!!UW$$$$"  $$$$$$$$# 
      $$$$$  $$$UX   :!!UW$$$$$$$$$   4$$$$$* 
      ^$$$B  $$$$\     $$$$$$$$$$$$   d$$R" 
        "*$bd$$$$      '*$$$$$$$$$$$o+#" 
             """"          """"""" 

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;33mchanged: [192.168.99.30][0m
 ____________
< PLAY RECAP >
 ------------
   \
    \
      _____   _________
     /     \_/         |
    |                 ||
    |                 ||
   |    ###\  /###   | |
   |     0  \/  0    | |
  /|                 | |
 / |        <        |\ \
| /|                 | | |
| |     \_______/   |  | |
| |                 | / /
/||                 /|||
   ----------------|
        | |    | |
        ***    ***
       /___\  /___\

[0;33m192.168.99.30[0m              : [0;32mok=4   [0m [0;33mchanged=2   [0m unreachable=0    failed=0   

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd
]0;root@devops: ~root@devops:~# cd [K[K[Kmkdir aulas_Infra
]0;root@devops: ~root@devops:~# cd[K[Kcd aulas_Infra/
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git init
Initialized empty Git repository in /root/aulas_Infra/.git/
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# ls
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# cp /[K-r /au[K[K[K../aulas_
aulas_devops/ aulas_Infra/  
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# cp -r ../aulas_devops/
ansible/        arthur_cury.pp  aulas/          .git/           history.log     kenobi/         memfree         puppetlabs/     
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# cp -r ../aulas_devops/* .
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# cp /etc/ansible/ [K* ansible/
cp: omitting directory '/etc/ansible/roles'
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# cp /etc/ansible/* ansible/[1@-[1@r[1@ 
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git [K[K[K[Kgti[K[Kit status 
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	[31mansible/[m
	[31marthur_cury.pp[m
	[31maulas/[m
	[31mhistory.log[m
	[31mkenobi/[m
	[31mmemfree[m
	[31mpuppetlabs/[m

nothing added to commit but untracked files present (use "git add" to track)
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git add .
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git commit *[K-m "com us[K[Ksupervisao"
[master (root-commit) d1981ca] com supervisao
 158 files changed, 5833 insertions(+)
 create mode 100644 ansible/ansible.cfg
 create mode 100644 ansible/batman.retry
 create mode 100644 ansible/batman.yml
 create mode 100644 ansible/flash.yml
 create mode 100644 ansible/gitlab.retry
 create mode 100644 ansible/gitlab.yml
 create mode 100644 ansible/hosts
 create mode 100644 ansible/index.php
 create mode 100644 ansible/robin
 create mode 100644 ansible/roles/asa_noturna/README.md
 create mode 100644 ansible/roles/asa_noturna/defaults/main.yml
 create mode 100644 ansible/roles/asa_noturna/handlers/main.yml
 create mode 100644 ansible/roles/asa_noturna/meta/main.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/deploy.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/install_nginx.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/main.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/prereqDebian.yml
 create mode 100644 ansible/roles/asa_noturna/tasks/prereqRedhat.yml
 create mode 100644 ansible/roles/asa_noturna/templates/index.html
 create mode 100644 ansible/roles/asa_noturna/tests/inventory
 create mode 100644 ansible/roles/asa_noturna/tests/test.yml
 create mode 100644 ansible/roles/asa_noturna/vars/main.yml
 create mode 100644 ansible/roles/puppet/README.md
 create mode 100644 ansible/roles/puppet/defaults/main.yml
 create mode 100644 ansible/roles/puppet/handlers/main.yml
 create mode 100644 ansible/roles/puppet/meta/main.yml
 create mode 100644 ansible/roles/puppet/tasks/ins_centos.yml
 create mode 100644 ansible/roles/puppet/tasks/ins_debian.yml
 create mode 100644 ansible/roles/puppet/tasks/main.retry
 create mode 100644 ansible/roles/puppet/tasks/main.yml
 create mode 100644 ansible/roles/puppet/tasks/prereq.yml
 create mode 100644 ansible/roles/puppet/tests/inventory
 create mode 100644 ansible/roles/puppet/tests/test.yml
 create mode 100644 ansible/roles/puppet/vars/main.yml
 create mode 100644 ansible/rundeck.retry
 create mode 100644 ansible/rundeck.yml
 create mode 100644 arthur_cury.pp
 create mode 160000 aulas
 create mode 100644 history.log
 create mode 160000 kenobi
 create mode 100644 memfree
 create mode 100644 puppetlabs/code/environments/production/environment.conf
 create mode 100644 puppetlabs/code/environments/production/hiera.yaml
 create mode 100644 puppetlabs/code/environments/production/manifests/site.pp
 create mode 100644 puppetlabs/code/modules/arraia_negra/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitattributes
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitignore
 create mode 100644 puppetlabs/code/modules/arraia_negra/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.pdkignore
 create mode 100644 puppetlabs/code/modules/arraia_negra/.rspec
 create mode 100644 puppetlabs/code/modules/arraia_negra/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.travis.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/.yardopts
 create mode 100644 puppetlabs/code/modules/arraia_negra/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/arraia_negra/Gemfile
 create mode 100644 puppetlabs/code/modules/arraia_negra/README.md
 create mode 100644 puppetlabs/code/modules/arraia_negra/Rakefile
 create mode 100644 puppetlabs/code/modules/arraia_negra/appveyor.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/data/common.yaml
 create mode 100644 puppetlabs/code/modules/arraia_negra/hiera.yaml
 create mode 100644 puppetlabs/code/modules/arraia_negra/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/arraia_negra/metadata.json
 create mode 100644 puppetlabs/code/modules/arraia_negra/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/arraia_negra/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/base/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/base/.gitattributes
 create mode 100644 puppetlabs/code/modules/base/.gitignore
 create mode 100644 puppetlabs/code/modules/base/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/base/.pdkignore
 create mode 100644 puppetlabs/code/modules/base/.rspec
 create mode 100644 puppetlabs/code/modules/base/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/base/.travis.yml
 create mode 100644 puppetlabs/code/modules/base/.yardopts
 create mode 100644 puppetlabs/code/modules/base/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/base/Gemfile
 create mode 100644 puppetlabs/code/modules/base/README.md
 create mode 100644 puppetlabs/code/modules/base/Rakefile
 create mode 100644 puppetlabs/code/modules/base/appveyor.yml
 create mode 100644 puppetlabs/code/modules/base/data/common.yaml
 create mode 100644 puppetlabs/code/modules/base/files/puppet.conf
 create mode 100644 puppetlabs/code/modules/base/hiera.yaml
 create mode 100644 puppetlabs/code/modules/base/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/base/metadata.json
 create mode 100644 puppetlabs/code/modules/base/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/base/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/docker/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/docker/.gitattributes
 create mode 100644 puppetlabs/code/modules/docker/.gitignore
 create mode 100644 puppetlabs/code/modules/docker/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/docker/.pdkignore
 create mode 100644 puppetlabs/code/modules/docker/.rspec
 create mode 100644 puppetlabs/code/modules/docker/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/docker/.travis.yml
 create mode 100644 puppetlabs/code/modules/docker/.yardopts
 create mode 100644 puppetlabs/code/modules/docker/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/docker/Gemfile
 create mode 100644 puppetlabs/code/modules/docker/README.md
 create mode 100644 puppetlabs/code/modules/docker/Rakefile
 create mode 100644 puppetlabs/code/modules/docker/appveyor.yml
 create mode 100644 puppetlabs/code/modules/docker/data/common.yaml
 create mode 100644 puppetlabs/code/modules/docker/hiera.yaml
 create mode 100644 puppetlabs/code/modules/docker/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/docker/metadata.json
 create mode 100644 puppetlabs/code/modules/docker/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/docker/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/mera/.fixtures.yml
 create mode 100644 puppetlabs/code/modules/mera/.gitattributes
 create mode 100644 puppetlabs/code/modules/mera/.gitignore
 create mode 100644 puppetlabs/code/modules/mera/.gitlab-ci.yml
 create mode 100644 puppetlabs/code/modules/mera/.pdkignore
 create mode 100644 puppetlabs/code/modules/mera/.rspec
 create mode 100644 puppetlabs/code/modules/mera/.rubocop.yml
 create mode 100644 puppetlabs/code/modules/mera/.travis.yml
 create mode 100644 puppetlabs/code/modules/mera/.yardopts
 create mode 100644 puppetlabs/code/modules/mera/CHANGELOG.md
 create mode 100644 puppetlabs/code/modules/mera/Gemfile
 create mode 100644 puppetlabs/code/modules/mera/README.md
 create mode 100644 puppetlabs/code/modules/mera/Rakefile
 create mode 100644 puppetlabs/code/modules/mera/appveyor.yml
 create mode 100644 puppetlabs/code/modules/mera/data/common.yaml
 create mode 100644 puppetlabs/code/modules/mera/files/bash_logout
 create mode 100644 puppetlabs/code/modules/mera/files/bashrc_mera
 create mode 100644 puppetlabs/code/modules/mera/hiera.yaml
 create mode 100644 puppetlabs/code/modules/mera/manifests/init.pp
 create mode 100644 puppetlabs/code/modules/mera/metadata.json
 create mode 100644 puppetlabs/code/modules/mera/spec/default_facts.yml
 create mode 100644 puppetlabs/code/modules/mera/spec/spec_helper.rb
 create mode 100644 puppetlabs/code/modules/present
 create mode 100644 puppetlabs/puppet/auth.conf
 create mode 100644 puppetlabs/puppet/hiera.yaml
 create mode 100644 puppetlabs/puppet/puppet.conf
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_crl.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_crt.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_key.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/ca_pub.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_crl.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_inventory.txt
 create mode 100644 puppetlabs/puppet/ssl/ca/infra_serials
 create mode 100644 puppetlabs/puppet/ssl/ca/inventory.txt
 create mode 100644 puppetlabs/puppet/ssl/ca/serial
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/automation.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/ca/signed/docker.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/certs/ca.pem
 create mode 100644 puppetlabs/puppet/ssl/certs/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/crl.pem
 create mode 100644 puppetlabs/puppet/ssl/private_keys/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppet/ssl/public_keys/devops.salas4linux.com.br.pem
 create mode 100644 puppetlabs/puppetserver/conf.d/auth.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/ca.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/global.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/metrics.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/puppetserver.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/web-routes.conf
 create mode 100644 puppetlabs/puppetserver/conf.d/webserver.conf
 create mode 100644 puppetlabs/puppetserver/logback.xml
 create mode 100644 puppetlabs/puppetserver/request-logging.xml
 create mode 100644 puppetlabs/puppetserver/services.d/ca.cfg
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git commit -m "com supervisao"add .[Kstatus 
On branch master
nothing to commit, working directory clean
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git remote add https://github.com/Adrianocs/Aulas_Infra.gitahttps://github.com/Adrianocs/Aulas_Infra.gituhttps://github.com/Adrianocs/Aulas_Infra.gitlhttps://github.com/Adrianocs/Aulas_Infra.gitahttps://github.com/Adrianocs/Aulas_Infra.gitshttps://github.com/Adrianocs/Aulas_Infra.git_https://github.com/Adrianocs/Aulas_Infra.gitihttps://github.com/Adrianocs/Aulas_Infra.gitnhttps://github.com/Adrianocs/Aulas_Infra.git[1Phttps://github.com/Adrianocs/Aulas_Infra.git[1Phttps://github.com/Adrianocs/Aulas_Infra.gitIhttps://github.com/Adrianocs/Aulas_Infra.gitnhttps://github.com/Adrianocs/Aulas_Infra.gitfhttps://github.com/Adrianocs/Aulas_Infra.gitrhttps://github.com/Adrianocs/Aulas_Infra.gitahttps://github.com/Adrianocs/Aulas_Infra.git https://github.com/Adrianocs/Aulas_Infra.git
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git push aulas_Infra https://github.com/Adrianocs/Aulas_Infra.gitmas[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kmaster 
Username for 'https://github.com': adriano.csoares@gmail.com
Password for 'https://adriano.csoares@gmail.com@github.com': 
Counting objects: 138, done.
Delta compression using up to 2 threads.
Compressing objects:   0% (1/104)   Compressing objects:   1% (2/104)   Compressing objects:   2% (3/104)   Compressing objects:   3% (4/104)   Compressing objects:   4% (5/104)   Compressing objects:   5% (6/104)   Compressing objects:   6% (7/104)   Compressing objects:   7% (8/104)   Compressing objects:   8% (9/104)   Compressing objects:   9% (10/104)   Compressing objects:  10% (11/104)   Compressing objects:  11% (12/104)   Compressing objects:  12% (13/104)   Compressing objects:  13% (14/104)   Compressing objects:  14% (15/104)   Compressing objects:  15% (16/104)   Compressing objects:  16% (17/104)   Compressing objects:  17% (18/104)   Compressing objects:  18% (19/104)   Compressing objects:  19% (20/104)   Compressing objects:  20% (21/104)   Compressing objects:  21% (22/104)   Compressing objects:  22% (23/104)   Compressing objects:  23% (24/104)   Compressing objects:  24% (25/104)   Compressing objects:  25% (26/104)   Compressing objects:  26% (28/104)   Compressing objects:  27% (29/104)   Compressing objects:  28% (30/104)   Compressing objects:  29% (31/104)   Compressing objects:  30% (32/104)   Compressing objects:  31% (33/104)   Compressing objects:  32% (34/104)   Compressing objects:  33% (35/104)   Compressing objects:  34% (36/104)   Compressing objects:  35% (37/104)   Compressing objects:  36% (38/104)   Compressing objects:  37% (39/104)   Compressing objects:  38% (40/104)   Compressing objects:  39% (41/104)   Compressing objects:  40% (42/104)   Compressing objects:  41% (43/104)   Compressing objects:  42% (44/104)   Compressing objects:  43% (45/104)   Compressing objects:  44% (46/104)   Compressing objects:  45% (47/104)   Compressing objects:  46% (48/104)   Compressing objects:  47% (49/104)   Compressing objects:  48% (50/104)   Compressing objects:  49% (51/104)   Compressing objects:  50% (52/104)   Compressing objects:  51% (54/104)   Compressing objects:  52% (55/104)   Compressing objects:  53% (56/104)   Compressing objects:  54% (57/104)   Compressing objects:  55% (58/104)   Compressing objects:  56% (59/104)   Compressing objects:  57% (60/104)   Compressing objects:  58% (61/104)   Compressing objects:  59% (62/104)   Compressing objects:  60% (63/104)   Compressing objects:  61% (64/104)   Compressing objects:  62% (65/104)   Compressing objects:  63% (66/104)   Compressing objects:  64% (67/104)   Compressing objects:  65% (68/104)   Compressing objects:  66% (69/104)   Compressing objects:  67% (70/104)   Compressing objects:  68% (71/104)   Compressing objects:  69% (72/104)   Compressing objects:  70% (73/104)   Compressing objects:  71% (74/104)   Compressing objects:  72% (75/104)   Compressing objects:  73% (76/104)   Compressing objects:  74% (77/104)   Compressing objects:  75% (78/104)   Compressing objects:  76% (80/104)   Compressing objects:  77% (81/104)   Compressing objects:  78% (82/104)   Compressing objects:  79% (83/104)   Compressing objects:  80% (84/104)   Compressing objects:  81% (85/104)   Compressing objects:  82% (86/104)   Compressing objects:  83% (87/104)   Compressing objects:  84% (88/104)   Compressing objects:  85% (89/104)   Compressing objects:  86% (90/104)   Compressing objects:  87% (91/104)   Compressing objects:  88% (92/104)   Compressing objects:  89% (93/104)   Compressing objects:  90% (94/104)   Compressing objects:  91% (95/104)   Compressing objects:  92% (96/104)   Compressing objects:  93% (97/104)   Compressing objects:  94% (98/104)   Compressing objects:  95% (99/104)   Compressing objects:  96% (100/104)   Compressing objects:  97% (101/104)   Compressing objects:  98% (102/104)   Compressing objects:  99% (103/104)   Compressing objects: 100% (104/104)   Compressing objects: 100% (104/104), done.
Writing objects:   0% (1/138)   Writing objects:   1% (2/138)   Writing objects:   2% (3/138)   Writing objects:   3% (5/138)   Writing objects:   4% (6/138)   Writing objects:   5% (7/138)   Writing objects:   6% (9/138)   Writing objects:   7% (10/138)   Writing objects:   8% (12/138)   Writing objects:   9% (13/138)   Writing objects:  10% (14/138)   Writing objects:  11% (16/138)   Writing objects:  12% (17/138)   Writing objects:  13% (18/138)   Writing objects:  14% (20/138)   Writing objects:  15% (21/138)   Writing objects:  16% (23/138)   Writing objects:  17% (24/138)   Writing objects:  18% (25/138)   Writing objects:  19% (27/138)   Writing objects:  20% (28/138)   Writing objects:  21% (29/138)   Writing objects:  22% (31/138)   Writing objects:  23% (32/138)   Writing objects:  24% (34/138)   Writing objects:  25% (35/138)   Writing objects:  26% (36/138)   Writing objects:  27% (38/138)   Writing objects:  28% (39/138)   Writing objects:  29% (41/138)   Writing objects:  30% (42/138)   Writing objects:  31% (43/138)   Writing objects:  32% (45/138)   Writing objects:  33% (46/138)   Writing objects:  34% (47/138)   Writing objects:  35% (49/138)   Writing objects:  36% (50/138)   Writing objects:  37% (52/138)   Writing objects:  38% (53/138)   Writing objects:  39% (54/138)   Writing objects:  40% (56/138)   Writing objects:  41% (57/138)   Writing objects:  42% (58/138)   Writing objects:  43% (60/138)   Writing objects:  44% (61/138)   Writing objects:  46% (64/138)   Writing objects:  47% (65/138)   Writing objects:  48% (67/138)   Writing objects:  49% (68/138)   Writing objects:  50% (69/138)   Writing objects:  51% (71/138)   Writing objects:  52% (72/138)   Writing objects:  53% (74/138)   Writing objects:  55% (76/138)   Writing objects:  56% (78/138)   Writing objects:  57% (79/138)   Writing objects:  58% (81/138)   Writing objects:  59% (82/138)   Writing objects:  60% (83/138)   Writing objects:  61% (85/138)   Writing objects:  62% (86/138)   Writing objects:  63% (87/138)   Writing objects:  64% (89/138)   Writing objects:  65% (90/138)   Writing objects:  66% (92/138)   Writing objects:  67% (93/138)   Writing objects:  68% (94/138)   Writing objects:  69% (96/138)   Writing objects:  70% (97/138)   Writing objects:  71% (98/138)   Writing objects:  72% (100/138)   Writing objects:  73% (101/138)   Writing objects:  74% (103/138)   Writing objects:  75% (104/138)   Writing objects:  76% (105/138)   Writing objects:  77% (107/138)   Writing objects:  78% (108/138)   Writing objects:  79% (110/138)   Writing objects:  80% (111/138)   Writing objects:  81% (112/138)   Writing objects:  82% (114/138)   Writing objects:  83% (115/138)   Writing objects:  84% (116/138)   Writing objects:  85% (118/138)   Writing objects:  86% (119/138)   Writing objects:  87% (121/138)   Writing objects:  88% (122/138)   Writing objects:  89% (123/138)   Writing objects:  90% (125/138)   Writing objects:  91% (126/138)   Writing objects:  92% (127/138)   Writing objects:  93% (129/138)   Writing objects:  94% (130/138)   Writing objects:  95% (132/138)   Writing objects:  96% (133/138)   Writing objects:  97% (134/138)   Writing objects:  98% (136/138)   Writing objects:  99% (137/138)   Writing objects: 100% (138/138)   Writing objects: 100% (138/138), 52.74 KiB | 0 bytes/s, done.
Total 138 (delta 13), reused 0 (delta 0)
remote: Resolving deltas:   0% (0/13)   [Kremote: Resolving deltas:   7% (1/13)   [Kremote: Resolving deltas:  30% (4/13)   [Kremote: Resolving deltas:  53% (7/13)   [Kremote: Resolving deltas:  76% (10/13)   [Kremote: Resolving deltas:  84% (11/13)   [Kremote: Resolving deltas:  92% (12/13)   [Kremote: Resolving deltas: 100% (13/13)   [Kremote: Resolving deltas: 100% (13/13), done.[K
To https://github.com/Adrianocs/Aulas_Infra.git
 * [new branch]      master -> master
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# run
runcon                 run-mailcap            run-one-constantly     run-one-until-success  run-this-one           
runlevel               run-one                run-one-until-failure  run-parts              runuser                
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# run
runcon                 run-mailcap            run-one-constantly     run-one-until-success  run-this-one           
runlevel               run-one                run-one-until-failure  run-parts              runuser                
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# rund[K[K[K[Krunde[K[K[K[K[Kcd
]0;root@devops: ~root@devops:~# cd /etc/run[K[K[K
]0;root@devops: /etcroot@devops:/etc# ls
[0m[01;34macpi[0m                    [01;34mconsole-setup[0m   gai.conf         [01;34miproute2[0m         lsb-release     [01;34mnewt[0m                     [01;34mpuppetlabs[0m    [01;34msecurity[0m       [01;34msystemd[0m
adduser.conf            [01;34mcron.d[0m          [01;34mgitlab[0m           [01;34miscsi[0m            ltrace.conf     [01;34mnginx[0m                    [01;34mpython[0m        [01;34mselinux[0m        [01;34mterminfo[0m
[01;34malternatives[0m            [01;34mcron.daily[0m      [01;34mgroff[0m            issue            [01;34mlvm[0m             nsswitch.conf            [01;34mpython2.7[0m     sensors3.conf  timezone
[01;34mansible[0m                 [01;34mcron.hourly[0m     group            issue.net        [01;34mlynx[0m            [01;34mopt[0m                      [01;34mpython3[0m       [01;34msensors.d[0m      [01;34mtmpfiles.d[0m
[01;34mapache2[0m                 [01;34mcron.monthly[0m    group-           [01;34mjava-8-openjdk[0m   machine-id      [01;36mos-release[0m               [01;34mpython3.5[0m     services       ucf.conf
[01;34mapm[0m                     crontab         [01;34mgrub.d[0m           [01;34mkbd[0m              magic           overlayroot.conf         [01;34mrc0.d[0m         [01;34msgml[0m           [01;34mudev[0m
[01;34mapparmor[0m                [01;34mcron.weekly[0m     gshadow          [01;34mkernel[0m           magic.mime      overlayroot.local.conf   [01;34mrc1.d[0m         shadow         [01;34mufw[0m
[01;34mapparmor.d[0m              crypttab        gshadow-         kernel-img.conf  mailcap         pam.conf                 [01;34mrc2.d[0m         shadow-        updatedb.conf
[01;34mapport[0m                  [01;34mdbus-1[0m          [01;34mgss[0m              [01;34mldap[0m             mailcap.order   [01;34mpam.d[0m                    [01;34mrc3.d[0m         shells         [01;34mupdate-manager[0m
[01;34mapt[0m                     debconf.conf    hdparm.conf      ld.so.cache      mailname        passwd                   [01;34mrc4.d[0m         [01;34mskel[0m           [01;34mupdate-motd.d[0m
at.deny                 debian_version  host.conf        ld.so.conf       manpath.config  passwd-                  [01;34mrc5.d[0m         sos.conf       [01;34mupdate-notifier[0m
bash.bashrc             [01;34mdefault[0m         hostname         [01;34mld.so.conf.d[0m     [01;34mmdadm[0m           [01;34mperl[0m                     [01;34mrc6.d[0m         [01;34mssh[0m            [01;34mvim[0m
bash_completion         deluser.conf    hosts            legal            mime.types      [01;34mphp[0m                      [01;32mrc.local[0m      [01;34mssl[0m            [01;34mvmware-tools[0m
[01;34mbash_completion.d[0m       [01;34mdepmod.d[0m        hosts.allow      libaudit.conf    mke2fs.conf     [01;34mpki[0m                      [01;34mrcS.d[0m         subgid         [01;36mvtrgb[0m
bindresvport.blacklist  [01;34mdhcp[0m            hosts.deny       [01;34mlighttpd[0m         [01;34mmodprobe.d[0m      [01;34mpm[0m                       [01;34mresolvconf[0m    subgid-        wgetrc
[01;34mbinfmt.d[0m                [01;34mdpkg[0m            [01;34minit[0m             locale.alias     modules         [01;34mpolkit-1[0m                 [01;36mresolv.conf[0m   subuid         [01;34mX11[0m
[01;34mbyobu[0m                   ec2_version     [01;34minit.d[0m           locale.gen       [01;34mmodules-load.d[0m  [01;34mpollinate[0m                [01;32mrmt[0m           subuid-        [01;34mxdg[0m
[01;34mca-certificates[0m         environment     [01;34minitramfs-tools[0m  [01;36mlocaltime[0m        [01;36mmtab[0m            popularity-contest.conf  rpc           sudoers        [01;34mxml[0m
ca-certificates.conf    [01;34mfish[0m            inputrc          [01;34mlogcheck[0m         nanorc          [01;34mppp[0m                      rsyslog.conf  [01;34msudoers.d[0m      zsh_command_not_found
[01;34mcalendar[0m                [01;34mfonts[0m           [01;34minsserv[0m          login.defs       [01;34mnetwork[0m         profile                  [01;34mrsyslog.d[0m     sysctl.conf
cczerc                  fstab           insserv.conf     logrotate.conf   [01;34mNetworkManager[0m  [01;34mprofile.d[0m                screenrc      [01;34msysctl.d[0m
[01;34mcloud[0m                   fuse.conf       [01;34minsserv.conf.d[0m   [01;34mlogrotate.d[0m      networks        protocols                securetty     [01;34msysstat[0m
]0;root@devops: /etcroot@devops:/etc# dpkg
dpkg                     dpkg-deb                 dpkg-gensymbols          dpkg-preconfigure        dpkg-shlibdeps           dpkg-vendor
dpkg-architecture        dpkg-distaddfile         dpkg-maintscript-helper  dpkg-query               dpkg-source              
dpkg-buildflags          dpkg-divert              dpkg-mergechangelogs     dpkg-reconfigure         dpkg-split               
dpkg-buildpackage        dpkg-genchanges          dpkg-name                dpkg-scanpackages        dpkg-statoverride        
dpkg-checkbuilddeps      dpkg-gencontrol          dpkg-parsechangelog      dpkg-scansources         dpkg-trigger             
]0;root@devops: /etcroot@devops:/etc# dpkg -l rund[K[K[K[K| gre [Kp rundeck
]0;root@devops: /etcroot@devops:/etc# dpkg -l | grep rundeck[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kdpkg -l | grep rundeck[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kcd ansible/
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd ansible/dpkg -l | grep rundeckls[Kcd /etc/[Kgit push aulas_Infra master remote add aulas_Infra https://github.com/Adrianocs/Aulas_Infra.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cstatus [Kcommit -m "com supervisao"add .[Kstatus cp -r /etc/ansible/* ansible/[3P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P-r ../aulas_devops/* .ls[Kgit initcd aulas_Infra/mkdir aulas_Infracd[Kansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[13Pvim[C[C[C[C[C[C[C[C[C[C[C[C[C[13@ansible-playbook[C[C[C[C[C[C[C[C[C[C[C[C[C
 ___________________________
< PLAY [INSTALACAO RUNDECK] >
 ---------------------------
        \    ,-^-.
         \   !oYo!
          \ /./=\.\______
               ##        )\/\
                ||-----w||
                ||      ||

               Cowth Vader

 ________________________
< TASK [Gathering Facts] >
 ------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 __________________________
< TASK [Add Repos Rundeck] >
 --------------------------
  \
   \   \_\_    _/_/
    \      \__/
           (oo)\_______
           (__)\       )\/\
               ||----w |
               ||     ||

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 ____________________________
< TASK [Mostrando Resultado] >
 ----------------------------
  \     .    _  .    
   \    |\_|/__/|    
       / / \/ \  \  
      /__|O||O|__ \ 
     |/_ \_/\_/ _\ |  
     | | (____) | ||  
     \/\___/\__/  // 
     (_/         ||
      |          ||
      |          ||\   
       \        //_/  
        \______//
       __ || __||
      (____(____)

[0;32mok: [192.168.99.30] => {[0m
[0;32m    "result.stdout": "VARIABLE IS NOT DEFINED!"[0m
[0;32m}[0m
 ___________________________
< TASK [Instalando Rundeck] >
 ---------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||

[1;35m [WARNING]: sftp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[1;35m [WARNING]: scp transfer mechanism failed on [192.168.99.30]. Use ANSIBLE_DEBUG=1 to see detailed information[0m
[1;35m[0m
[0;32mok: [192.168.99.30][0m
 ____________
< PLAY RECAP >
 ------------
      \                    / \  //\
       \    |\___/|      /   \//  \\
            /0  0  \__  /    //  | \ \    
           /     /  \/_/    //   |  \  \  
           @_^_@'/   \/_   //    |   \   \ 
           //_^_/     \/_ //     |    \    \
        ( //) |        \///      |     \     \
      ( / /) _|_ /   )  //       |      \     _\
    ( // /) '/,_ _ _/  ( ; -.    |    _ _\.-~        .-~~~^-.
  (( / / )) ,-{        _      `-.|.-~-.           .~         `.
 (( // / ))  '/\      /                 ~-. _ .-~      .-~^-.  \
 (( /// ))      `.   {            }                   /      \  \
  (( / ))     .----~-.\        \-'                 .~         \  `. \^-.
             ///.----..>        \             _ -~             `.  ^-`  ^-_
               ///-._ _ _ _ _ _ _}^ - - - - ~                     ~-- ,.-~
                                                                  /.-~

[0;32m192.168.99.30[0m              : [0;32mok=4   [0m changed=0    unreachable=0    failed=0   

]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd /etc/ru[K
rc0.d/      rc1.d/      rc2.d/      rc3.d/      rc4.d/      rc5.d/      rc6.d/      rcS.d/      resolvconf/ rsyslog.d/  
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd /etc/r
rc0.d/      rc1.d/      rc2.d/      rc3.d/      rc4.d/      rc5.d/      rc6.d/      rcS.d/      resolvconf/ rsyslog.d/  
]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd /etc/r[K[K[K[K[K[K[K[K[Kvi rundeck.yml 
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;44r[?12;25h[?12l[?25h[27m[23m[m[H[2J[?25l[44;1H"rundeck.yml" 18L, 374C[>c[1;1H[35m---[m
[33m- [m[36mname[m[35m:[m INSTALACAO RUNDECK
  [36mhosts[m[35m:[m automation
  [36mtasks[m[35m:[m
    [33m- [m[36mname[m[35m:[m Add Repos Rundeck[6;7H[36myum[m[35m:[m[7;9H[36mname[m[35m:[m http://repo.rundeck.org/latest.rpm[8;9H[36mstate[m[35m:[m present[9;7H[36mregister[m[35m:[m result[11;5H[33m- [m[36mname[m[35m:[m Mostrando Resultado[12;7H[36mdebug[m[35m:[m[13;9H[36mvar[m[35m:[m result.stdout[15;5H[33m- [m[36mname[m[35m:[m Instalando Rundeck[16;7H[36myum[m[35m:[m[17;9H[36mname[m[35m:[m [35m[[m[31m'java-1.8.0'[m,[31m'rundeck'[m[35m][m[18;9H[36mstate[m[35m:[m present
[1m[34m~                                                                                                                                                                         [20;1H~                                                                                                                                                                         [21;1H~                                                                                                                                                                         [22;1H~                                                                                                                                                                         [23;1H~                                                                                                                                                                         [24;1H~                                                                                                                                                                         [25;1H~                                                                                                                                                                         [26;1H~                                                                                                                                                                         [27;1H~                                                                                                                                                                         [28;1H~                                                                                                                                                                         [29;1H~                                                                                                                                                                         [30;1H~                                                                                                                                                                         [31;1H~                                                                                                                                                                         [32;1H~                                                                                                                                                                         [33;1H~                                                                                                                                                                         [34;1H~                                                                                                                                                                         [35;1H~                                                                                                                                                                         [36;1H~                                                                                                                                                                         [37;1H~                                                                                                                                                                         [38;1H~                                                                                                                                                                         [39;1H~                                                                                                                                                                         [40;1H~                                                                                                                                                                         [41;1H~                                                                                                                                                                         [42;1H~                                                                                                                                                                         [43;1H~                                                                                                                                                                         [m[44;153H1,1[11CAll[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[44;1H[K[44;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[44;1H[K[44;1H[?1l>[?12l[?25h[?1049l]0;root@devops: /etc/ansibleroot@devops:/etc/ansible# cd /[K[K[K[Kcd
]0;root@devops: ~root@devops:~# cd aulas_Infra/
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# ls
[0m[01;34mansible[0m  arthur_cury.pp  [01;34maulas[0m  history.log  [01;34mkenobi[0m  memfree  [01;34mpuppetlabs[0m
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# echo "Ultimos [K Comandos" >> history.log 
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# history >> history.log 
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git status
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	[31mmodified:   history.log[m

no changes added to commit (use "git add" and/or "git commit -a")
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git comi[K[K[K[Kadd history.log 
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git co[K[Kstatus
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

	[32mmodified:   history.log[m

]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git commit -m "agora sozinho..."
[master b3c55f1] agora sozinho...
 1 file changed, 938 insertions(+)
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git commit -m "agora sozinho..."status[Kadd history.log [10Pstatushistory >> history.log [16@echo "Ultimos Comandos"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kcd aulas_Infra/[Kvi rundeck.yml [14@ansible-playbook[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[18Pcd ansible/ansible-playbook rundeck.yml [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[18Pcd ansible/dpkg -l | grep rundeckls[Kcd /etc/[Kgit push aulas_Infra master remote add aulas_Infra https://github.com/Adrianocs/Aulas_Infra.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[43Ppush aulas_Infra master 
Username for 'https://github.com': adriano.csoares@gmail.com
Password for 'https://adriano.csoares@gmail.com@github.com': 
Counting objects: 3, done.
Delta compression using up to 2 threads.
Compressing objects:  33% (1/3)   Compressing objects:  66% (2/3)   Compressing objects: 100% (3/3)   Compressing objects: 100% (3/3), done.
Writing objects:  33% (1/3)   Writing objects:  66% (2/3)   Writing objects: 100% (3/3)   Writing objects: 100% (3/3), 6.26 KiB | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas:   0% (0/1)   [Kremote: Resolving deltas: 100% (1/1)   [Kremote: Resolving deltas: 100% (1/1), completed with 1 local object.[K
To https://github.com/Adrianocs/Aulas_Infra.git
   d1981ca..b3c55f1  master -> master
]0;root@devops: ~/aulas_Infraroot@devops:~/aulas_Infra# git push aulas_Infra master commit -m "agora sozinho..."[4Ppush aulas_Infra master [Kcd [K[K[Kcd
]0;root@devops: ~root@devops:~# su - rundeck
No passwd entry for user 'rundeck'
]0;root@devops: ~root@devops:~# cd .ssh/
]0;root@devops: ~/.sshroot@devops:~/.ssh# vi authorized_keys [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kecho "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC+XARdEFx57MWm98MWmG4NUtlrMME8NuedlKo/1Qv9/NFnLqS27KZ42Q3jDNzt5ClurrdRpKkbpQQTJ/HgQz/i3XiBW4pIvjTdNnwCA6gU cyJbzwOtb8On1ORfCNCskFLl11mk+AVqtqp1jW4tmzGmIPKijj9z3QhacaHAiggg3SbpDqEABwd/2uVYg2vFwEGG/2SMVab++SDxjIM0JSECSSWFTv05vwSIIvNmBdMaQCjg+j9/MPRwymDXz/JeJarwpPDTn1nxw+ME9vraql ltMR+Se+URJxaFGF7be6iOdRzrGzvvGRwdX/QibDtzDO1C3AqySQBGpg9CyBSjjI0B" > id_rsa [K[K[K[K[K[K[K[K> id_rsa [K[K[K[K[K[K[Kauthorized_keys 
]0;root@devops: ~/.sshroot@devops:~/.ssh# cat authorized_keys 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDC0pws5DnTXoqVYezb+imkPKPu/ycTn9tsMwp0Ms0xhO10TYsw6nazMspcmbVJAfYiFI3iSwkhRTocTpilw6pUQMIMu7olZaY4UAmcXSr/jFZfuEOZfFtvjb76qf1E5iEZKC3s9Bci8PVN2NbusqfXNPeLzUs+SZ4sr/MqKQA59XUfZvxe41grT7XloP9wVOspsjYEyQFENt8pwC9RyKB4fmkwlPS9SETZdrcBYqyP9ssiqCDl0zUS9asDojkaRwQ4c0XYKu0A9/TvJQDCQGkuC8B9R9K7dQlorio4UlMbCMzy6WEEEBsCZQLO3Buxv8mLVBk9VvhcyXk6+5JruLqJ
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC+XARdEFx57MWm98MWmG4NUtlrMME8NuedlKo/1Qv9/NFnLqS27KZ42Q3jDNzt5ClurrdRpKkbpQQTJ/HgQz/i3XiBW4pIvjTdNnwCA6gUcyJbzwOtb8On1ORfCNCskFLl11mk+AVqtqp1jW4tmzGmIPKijj9z3QhacaHAiggg3SbpDqEABwd/2uVYg2vFwEGG/2SMVab++SDxjIM0JSECSSWFTv05vwSIIvNmBdMaQCjg+j9/MPRwymDXz/JeJarwpPDTn1nxw+ME9vraqlltMR+Se+URJxaFGF7be6iOdRzrGzvvGRwdX/QibDtzDO1C3AqySQBGpg9CyBSjjI0B
]0;root@devops: ~/.sshroot@devops:~/.ssh# ssh docker pwd
The authenticity of host 'docker (192.168.99.20)' can't be established.
ECDSA key fingerprint is SHA256:sl8GDhuU2slxwOSf2rjAIM4SBqxkOfN7rDe6NQADlsI.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'docker' (ECDSA) to the list of known hosts.
/root
]0;root@devops: ~/.sshroot@devops:~/.ssh# logout
 __________________________________
/ Homem algum precisa apenas de um \
\ pequeno salÃ¡rio --Arthur Miller  /
 ----------------------------------
        \   ^__^
         \  (--)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
]0;vagrant@devops: ~vagrant@devops:~$ logout
Connection to 127.0.0.1 closed.
]0;noturno@ada15: ~/infra_noturnonoturno@ada15:~/infra_noturno$ exit

Script concluÃ­do em Qua 19 Dez 2018 22:24:17 -02
